(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var Wf={exports:{}},El={},Hf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function OP(){if(e_)return xe;e_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=w&&j[w]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,b={};function x(j,Y,ye){this.props=j,this.context=Y,this.refs=b,this.updater=ye||S}x.prototype.isReactComponent={},x.prototype.setState=function(j,Y){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Y,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function L(){}L.prototype=x.prototype;function q(j,Y,ye){this.props=j,this.context=Y,this.refs=b,this.updater=ye||S}var $=q.prototype=new L;$.constructor=q,R($,x.prototype),$.isPureReactComponent=!0;var re=Array.isArray,ne=Object.prototype.hasOwnProperty,ae={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function A(j,Y,ye){var Re,Ce={},Ne=null,Ue=null;if(Y!=null)for(Re in Y.ref!==void 0&&(Ue=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)ne.call(Y,Re)&&!V.hasOwnProperty(Re)&&(Ce[Re]=Y[Re]);var je=arguments.length-2;if(je===1)Ce.children=ye;else if(1<je){for(var He=Array(je),At=0;At<je;At++)He[At]=arguments[At+2];Ce.children=He}if(j&&j.defaultProps)for(Re in je=j.defaultProps,je)Ce[Re]===void 0&&(Ce[Re]=je[Re]);return{$$typeof:n,type:j,key:Ne,ref:Ue,props:Ce,_owner:ae.current}}function P(j,Y){return{$$typeof:n,type:j.type,key:Y,ref:j.ref,props:j.props,_owner:j._owner}}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function F(j){var Y={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ye){return Y[ye]})}var B=/\/+/g;function k(j,Y){return typeof j=="object"&&j!==null&&j.key!=null?F(""+j.key):Y.toString(36)}function We(j,Y,ye,Re,Ce){var Ne=typeof j;(Ne==="undefined"||Ne==="boolean")&&(j=null);var Ue=!1;if(j===null)Ue=!0;else switch(Ne){case"string":case"number":Ue=!0;break;case"object":switch(j.$$typeof){case n:case e:Ue=!0}}if(Ue)return Ue=j,Ce=Ce(Ue),j=Re===""?"."+k(Ue,0):Re,re(Ce)?(ye="",j!=null&&(ye=j.replace(B,"$&/")+"/"),We(Ce,Y,ye,"",function(At){return At})):Ce!=null&&(D(Ce)&&(Ce=P(Ce,ye+(!Ce.key||Ue&&Ue.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+j)),Y.push(Ce)),1;if(Ue=0,Re=Re===""?".":Re+":",re(j))for(var je=0;je<j.length;je++){Ne=j[je];var He=Re+k(Ne,je);Ue+=We(Ne,Y,ye,He,Ce)}else if(He=E(j),typeof He=="function")for(j=He.call(j),je=0;!(Ne=j.next()).done;)Ne=Ne.value,He=Re+k(Ne,je++),Ue+=We(Ne,Y,ye,He,Ce);else if(Ne==="object")throw Y=String(j),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ue}function pt(j,Y,ye){if(j==null)return j;var Re=[],Ce=0;return We(j,Re,"","",function(Ne){return Y.call(ye,Ne,Ce++)}),Re}function mt(j){if(j._status===-1){var Y=j._result;Y=Y(),Y.then(function(ye){(j._status===0||j._status===-1)&&(j._status=1,j._result=ye)},function(ye){(j._status===0||j._status===-1)&&(j._status=2,j._result=ye)}),j._status===-1&&(j._status=0,j._result=Y)}if(j._status===1)return j._result.default;throw j._result}var le={current:null},Q={transition:null},ce={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Q,ReactCurrentOwner:ae};function oe(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:pt,forEach:function(j,Y,ye){pt(j,function(){Y.apply(this,arguments)},ye)},count:function(j){var Y=0;return pt(j,function(){Y++}),Y},toArray:function(j){return pt(j,function(Y){return Y})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},xe.Component=x,xe.Fragment=t,xe.Profiler=s,xe.PureComponent=q,xe.StrictMode=r,xe.Suspense=f,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,xe.act=oe,xe.cloneElement=function(j,Y,ye){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Re=R({},j.props),Ce=j.key,Ne=j.ref,Ue=j._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,Ue=ae.current),Y.key!==void 0&&(Ce=""+Y.key),j.type&&j.type.defaultProps)var je=j.type.defaultProps;for(He in Y)ne.call(Y,He)&&!V.hasOwnProperty(He)&&(Re[He]=Y[He]===void 0&&je!==void 0?je[He]:Y[He])}var He=arguments.length-2;if(He===1)Re.children=ye;else if(1<He){je=Array(He);for(var At=0;At<He;At++)je[At]=arguments[At+2];Re.children=je}return{$$typeof:n,type:j.type,key:Ce,ref:Ne,props:Re,_owner:Ue}},xe.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},xe.createElement=A,xe.createFactory=function(j){var Y=A.bind(null,j);return Y.type=j,Y},xe.createRef=function(){return{current:null}},xe.forwardRef=function(j){return{$$typeof:h,render:j}},xe.isValidElement=D,xe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:mt}},xe.memo=function(j,Y){return{$$typeof:p,type:j,compare:Y===void 0?null:Y}},xe.startTransition=function(j){var Y=Q.transition;Q.transition={};try{j()}finally{Q.transition=Y}},xe.unstable_act=oe,xe.useCallback=function(j,Y){return le.current.useCallback(j,Y)},xe.useContext=function(j){return le.current.useContext(j)},xe.useDebugValue=function(){},xe.useDeferredValue=function(j){return le.current.useDeferredValue(j)},xe.useEffect=function(j,Y){return le.current.useEffect(j,Y)},xe.useId=function(){return le.current.useId()},xe.useImperativeHandle=function(j,Y,ye){return le.current.useImperativeHandle(j,Y,ye)},xe.useInsertionEffect=function(j,Y){return le.current.useInsertionEffect(j,Y)},xe.useLayoutEffect=function(j,Y){return le.current.useLayoutEffect(j,Y)},xe.useMemo=function(j,Y){return le.current.useMemo(j,Y)},xe.useReducer=function(j,Y,ye){return le.current.useReducer(j,Y,ye)},xe.useRef=function(j){return le.current.useRef(j)},xe.useState=function(j){return le.current.useState(j)},xe.useSyncExternalStore=function(j,Y,ye){return le.current.useSyncExternalStore(j,Y,ye)},xe.useTransition=function(){return le.current.useTransition()},xe.version="18.3.1",xe}var t_;function mm(){return t_||(t_=1,Hf.exports=OP()),Hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function FP(){if(n_)return El;n_=1;var n=mm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:S,props:w,_owner:s.current}}return El.Fragment=t,El.jsx=u,El.jsxs=u,El}var r_;function UP(){return r_||(r_=1,Wf.exports=FP()),Wf.exports}var M=UP(),O=mm(),Uc={},qf={exports:{}},ln={},Kf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function jP(){return i_||(i_=1,function(n){function e(Q,ce){var oe=Q.length;Q.push(ce);e:for(;0<oe;){var j=oe-1>>>1,Y=Q[j];if(0<s(Y,ce))Q[j]=ce,Q[oe]=Y,oe=j;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ce=Q[0],oe=Q.pop();if(oe!==ce){Q[0]=oe;e:for(var j=0,Y=Q.length,ye=Y>>>1;j<ye;){var Re=2*(j+1)-1,Ce=Q[Re],Ne=Re+1,Ue=Q[Ne];if(0>s(Ce,oe))Ne<Y&&0>s(Ue,Ce)?(Q[j]=Ue,Q[Ne]=oe,j=Ne):(Q[j]=Ce,Q[Re]=oe,j=Re);else if(Ne<Y&&0>s(Ue,oe))Q[j]=Ue,Q[Ne]=oe,j=Ne;else break e}}return ce}function s(Q,ce){var oe=Q.sortIndex-ce.sortIndex;return oe!==0?oe:Q.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,E=3,S=!1,R=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(Q){for(var ce=t(p);ce!==null;){if(ce.callback===null)r(p);else if(ce.startTime<=Q)r(p),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(p)}}function re(Q){if(b=!1,$(Q),!R)if(t(f)!==null)R=!0,mt(ne);else{var ce=t(p);ce!==null&&le(re,ce.startTime-Q)}}function ne(Q,ce){R=!1,b&&(b=!1,L(A),A=-1),S=!0;var oe=E;try{for($(ce),w=t(f);w!==null&&(!(w.expirationTime>ce)||Q&&!F());){var j=w.callback;if(typeof j=="function"){w.callback=null,E=w.priorityLevel;var Y=j(w.expirationTime<=ce);ce=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&r(f),$(ce)}else r(f);w=t(f)}if(w!==null)var ye=!0;else{var Re=t(p);Re!==null&&le(re,Re.startTime-ce),ye=!1}return ye}finally{w=null,E=oe,S=!1}}var ae=!1,V=null,A=-1,P=5,D=-1;function F(){return!(n.unstable_now()-D<P)}function B(){if(V!==null){var Q=n.unstable_now();D=Q;var ce=!0;try{ce=V(!0,Q)}finally{ce?k():(ae=!1,V=null)}}else ae=!1}var k;if(typeof q=="function")k=function(){q(B)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,pt=We.port2;We.port1.onmessage=B,k=function(){pt.postMessage(null)}}else k=function(){x(B,0)};function mt(Q){V=Q,ae||(ae=!0,k())}function le(Q,ce){A=x(function(){Q(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){R||S||(R=!0,mt(ne))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var oe=E;E=ce;try{return Q()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var oe=E;E=Q;try{return ce()}finally{E=oe}},n.unstable_scheduleCallback=function(Q,ce,oe){var j=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,Q){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=oe+Y,Q={id:v++,callback:ce,priorityLevel:Q,startTime:oe,expirationTime:Y,sortIndex:-1},oe>j?(Q.sortIndex=oe,e(p,Q),t(f)===null&&Q===t(p)&&(b?(L(A),A=-1):b=!0,le(re,oe-j))):(Q.sortIndex=Y,e(f,Q),R||S||(R=!0,mt(ne))),Q},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Q){var ce=E;return function(){var oe=E;E=ce;try{return Q.apply(this,arguments)}finally{E=oe}}}}(Gf)),Gf}var s_;function BP(){return s_||(s_=1,Kf.exports=jP()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function zP(){if(o_)return ln;o_=1;var n=mm(),e=BP();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:p.test(i)?w[i]=!0:(v[i]=!0,!1)}function S(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,l,d){if(o===null||typeof o>"u"||S(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function b(i,o,l,d,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){x[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];x[o]=new b(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){x[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){x[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){x[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){x[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){x[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){x[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){x[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(L,q);x[o]=new b(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(L,q);x[o]=new b(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(L,q);x[o]=new b(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){x[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),x.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){x[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,l,d){var m=x.hasOwnProperty(o)?x[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ae=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),F=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),pt=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ce(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,j;function Y(i){if(j===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+i}var ye=!1;function Re(i,o){if(!i||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),y=d.stack.split(`
`),T=m.length-1,C=y.length-1;1<=T&&0<=C&&m[T]!==y[C];)C--;for(;1<=T&&0<=C;T--,C--)if(m[T]!==y[C]){if(T!==1||C!==1)do if(T--,C--,0>C||m[T]!==y[C]){var N=`
`+m[T].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=T&&0<=C);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function Ce(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Re(i.type,!1),i;case 11:return i=Re(i.type.render,!1),i;case 1:return i=Re(i.type,!0),i;default:return""}}function Ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case ae:return"Portal";case P:return"Profiler";case A:return"StrictMode";case k:return"Suspense";case We:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case pt:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case mt:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}function Ue(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function At(i){var o=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rr(i){i._valueTracker||(i._valueTracker=At(i))}function Zs(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function oi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function is(i,o){var l=o.checked;return oe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function eo(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=je(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ra(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function Ca(i,o){Ra(i,o);var l=je(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?to(i,o.type,l):o.hasOwnProperty("defaultValue")&&to(i,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Su(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function to(i,o,l){(o!=="number"||oi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Cr=Array.isArray;function xr(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+je(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function xa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function no(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Cr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:je(l)}}function ro(i,o){var l=je(o.value),d=je(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ka(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kr,Da=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=kr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ai(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},os=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(i){os.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ss[o]=ss[i]})});function Va(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ss.hasOwnProperty(i)&&ss[i]?(""+o).trim():o+"px"}function ba(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Va(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var Na=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(i,o){if(o){if(Na[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ma(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var as=null;function io(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var so=null,In=null,ir=null;function oo(i){if(i=ol(i)){if(typeof so!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ec(o),so(i.stateNode,i.type,o))}}function sr(i){In?ir?ir.push(i):ir=[i]:In=i}function Oa(){if(In){var i=In,o=ir;if(ir=In=null,oo(i),o)for(i=0;i<o.length;i++)oo(o[i])}}function ls(i,o){return i(o)}function Fa(){}var Dr=!1;function Ua(i,o,l){if(Dr)return i(o,l);Dr=!0;try{return ls(i,o,l)}finally{Dr=!1,(In!==null||ir!==null)&&(Fa(),Oa())}}function at(i,o){var l=i.stateNode;if(l===null)return null;var d=ec(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var ao=!1;if(h)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{ao=!1}function us(i,o,l,d,m,y,T,C,N){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(Z){this.onError(Z)}}var cs=!1,lo=null,On=!1,ja=null,yd={onError:function(i){cs=!0,lo=i}};function uo(i,o,l,d,m,y,T,C,N){cs=!1,lo=null,us.apply(yd,arguments)}function Au(i,o,l,d,m,y,T,C,N){if(uo.apply(this,arguments),cs){if(cs){var K=lo;cs=!1,lo=null}else throw Error(t(198));On||(On=!0,ja=K)}}function Fn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function hs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Un(i){if(Fn(i)!==i)throw Error(t(188))}function Pu(i){var o=i.alternate;if(!o){if(o=Fn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Un(m),i;if(y===d)return Un(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,C=m.child;C;){if(C===l){T=!0,l=m,d=y;break}if(C===d){T=!0,d=m,l=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===l){T=!0,l=y,d=m;break}if(C===d){T=!0,d=y,l=m;break}C=C.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ba(i){return i=Pu(i),i!==null?co(i):null}function co(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=co(i);if(o!==null)return o;i=i.sibling}return null}var ho=e.unstable_scheduleCallback,za=e.unstable_cancelCallback,Ru=e.unstable_shouldYield,vd=e.unstable_requestPaint,qe=e.unstable_now,Cu=e.unstable_getCurrentPriorityLevel,ds=e.unstable_ImmediatePriority,li=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,$a=e.unstable_LowPriority,xu=e.unstable_IdlePriority,fs=null,dn=null;function ku(i){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(fs,i,void 0,(i.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Vu,Wa=Math.log,Du=Math.LN2;function Vu(i){return i>>>=0,i===0?32:31-(Wa(i)/Du|0)|0}var fo=64,po=4194304;function ui(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ps(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var C=T&~m;C!==0?d=ui(C):(y&=T,y!==0&&(d=ui(y)))}else T=l&~m,T!==0?d=ui(T):y!==0&&(d=ui(y));if(d===0)return 0;if(o!==0&&o!==d&&!(o&m)&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if(d&4&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Qt(o),m=1<<l,d|=i[l],o&=~m;return d}function _d(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Qt(y),C=1<<T,N=m[T];N===-1?(!(C&l)||C&d)&&(m[T]=_d(C,o)):N<=o&&(i.expiredLanes|=C),y&=~C}}function fn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ms(){var i=fo;return fo<<=1,!(fo&4194240)&&(fo=64),i}function ci(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function hi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Qt(o),i[o]=l}function $e(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Qt(l),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function di(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Qt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var Ve=0;function fi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var bu,mo,Nu,Lu,Mu,Ha=!1,or=[],Dt=null,jn=null,Bn=null,pi=new Map,An=new Map,ar=[],wd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(i,o){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":pi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(o.pointerId)}}function en(i,o,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ol(o),o!==null&&mo(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Ed(i,o,l,d,m){switch(o){case"focusin":return Dt=en(Dt,i,o,l,d,m),!0;case"dragenter":return jn=en(jn,i,o,l,d,m),!0;case"mouseover":return Bn=en(Bn,i,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return pi.set(y,en(pi.get(y)||null,i,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,An.set(y,en(An.get(y)||null,i,o,l,d,m)),!0}return!1}function Fu(i){var o=ws(i.target);if(o!==null){var l=Fn(o);if(l!==null){if(o=l.tag,o===13){if(o=hs(l),o!==null){i.blockedOn=o,Mu(i.priority,function(){Nu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=go(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);as=d,l.target.dispatchEvent(d),as=null}else return o=ol(l),o!==null&&mo(o),i.blockedOn=l,!1;o.shift()}return!0}function gs(i,o,l){br(i)&&l.delete(o)}function Uu(){Ha=!1,Dt!==null&&br(Dt)&&(Dt=null),jn!==null&&br(jn)&&(jn=null),Bn!==null&&br(Bn)&&(Bn=null),pi.forEach(gs),An.forEach(gs)}function zn(i,o){i.blockedOn===o&&(i.blockedOn=null,Ha||(Ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uu)))}function $n(i){function o(m){return zn(m,i)}if(0<or.length){zn(or[0],i);for(var l=1;l<or.length;l++){var d=or[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),jn!==null&&zn(jn,i),Bn!==null&&zn(Bn,i),pi.forEach(o),An.forEach(o),l=0;l<ar.length;l++)d=ar[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)Fu(l),l.blockedOn===null&&ar.shift()}var Nr=re.ReactCurrentBatchConfig,mi=!0;function Xe(i,o,l,d){var m=Ve,y=Nr.transition;Nr.transition=null;try{Ve=1,qa(i,o,l,d)}finally{Ve=m,Nr.transition=y}}function Td(i,o,l,d){var m=Ve,y=Nr.transition;Nr.transition=null;try{Ve=4,qa(i,o,l,d)}finally{Ve=m,Nr.transition=y}}function qa(i,o,l,d){if(mi){var m=go(i,o,l,d);if(m===null)bd(i,o,d,ys,l),Ou(i,d);else if(Ed(m,i,o,l,d))d.stopPropagation();else if(Ou(i,d),o&4&&-1<wd.indexOf(i)){for(;m!==null;){var y=ol(m);if(y!==null&&bu(y),y=go(i,o,l,d),y===null&&bd(i,o,d,ys,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else bd(i,o,d,null,l)}}var ys=null;function go(i,o,l,d){if(ys=null,i=io(d),i=ws(i),i!==null)if(o=Fn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=hs(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ys=i,null}function Ka(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cu()){case ds:return 1;case li:return 4;case Sn:case $a:return 16;case xu:return 536870912;default:return 16}default:return 16}}var pn=null,yo=null,tn=null;function Ga(){if(tn)return tn;var i,o=yo,l=o.length,d,m="value"in pn?pn.value:pn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[y-d];d++);return tn=m.slice(i,1<d?1-d:void 0)}function vo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Qa(){return!1}function Vt(i){function o(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Qa,this.isPropagationStopped=Qa,this}return oe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Vt(Wn),ur=oe({},Wn,{view:0,detail:0}),Id=Vt(ur),wo,Lr,gi,vs=oe({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gi&&(gi&&i.type==="mousemove"?(wo=i.screenX-gi.screenX,Lr=i.screenY-gi.screenY):Lr=wo=0,gi=i),wo)},movementY:function(i){return"movementY"in i?i.movementY:Lr}}),Eo=Vt(vs),Ya=oe({},vs,{dataTransfer:0}),ju=Vt(Ya),To=oe({},ur,{relatedTarget:0}),Io=Vt(To),Bu=oe({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Mr=Vt(Bu),zu=oe({},Wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),$u=Vt(zu),Wu=oe({},Wn,{data:0}),Xa=Vt(Wu),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Hu[i])?!!o[i]:!1}function cr(){return qu}var c=oe({},ur,{key:function(i){if(i.key){var o=So[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Vt(c),_=oe({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Vt(_),z=oe({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),G=Vt(z),se=oe({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Vt(se),vt=oe({},vs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Vt(vt),Pt=[9,13,27,32],ht=h&&"CompositionEvent"in window,Pn=null;h&&"documentMode"in document&&(Pn=document.documentMode);var mn=h&&"TextEvent"in window&&!Pn,_s=h&&(!ht||Pn&&8<Pn&&11>=Pn),Ao=" ",Gg=!1;function Qg(i,o){switch(i){case"keyup":return Pt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Po=!1;function LA(i,o){switch(i){case"compositionend":return Yg(o);case"keypress":return o.which!==32?null:(Gg=!0,Ao);case"textInput":return i=o.data,i===Ao&&Gg?null:i;default:return null}}function MA(i,o){if(Po)return i==="compositionend"||!ht&&Qg(i,o)?(i=Ga(),tn=yo=pn=null,Po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return _s&&o.locale!=="ko"?null:o.data;default:return null}}var OA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!OA[i.type]:o==="textarea"}function Jg(i,o,l,d){sr(d),o=Xu(o,"onChange"),0<o.length&&(l=new _o("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var Ja=null,Za=null;function FA(i){gy(i,0)}function Ku(i){var o=Do(i);if(Zs(o))return i}function UA(i,o){if(i==="change")return o}var Zg=!1;if(h){var Sd;if(h){var Ad="oninput"in document;if(!Ad){var ey=document.createElement("div");ey.setAttribute("oninput","return;"),Ad=typeof ey.oninput=="function"}Sd=Ad}else Sd=!1;Zg=Sd&&(!document.documentMode||9<document.documentMode)}function ty(){Ja&&(Ja.detachEvent("onpropertychange",ny),Za=Ja=null)}function ny(i){if(i.propertyName==="value"&&Ku(Za)){var o=[];Jg(o,Za,i,io(i)),Ua(FA,o)}}function jA(i,o,l){i==="focusin"?(ty(),Ja=o,Za=l,Ja.attachEvent("onpropertychange",ny)):i==="focusout"&&ty()}function BA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ku(Za)}function zA(i,o){if(i==="click")return Ku(o)}function $A(i,o){if(i==="input"||i==="change")return Ku(o)}function WA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Hn=typeof Object.is=="function"?Object.is:WA;function el(i,o){if(Hn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Hn(i[m],o[m]))return!1}return!0}function ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function iy(i,o){var l=ry(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ry(l)}}function sy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?sy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function oy(){for(var i=window,o=oi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=oi(i.document)}return o}function Pd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function HA(i){var o=oy(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&sy(l.ownerDocument.documentElement,l)){if(d!==null&&Pd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=iy(l,y);var T=iy(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var qA=h&&"documentMode"in document&&11>=document.documentMode,Ro=null,Rd=null,tl=null,Cd=!1;function ay(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Cd||Ro==null||Ro!==oi(d)||(d=Ro,"selectionStart"in d&&Pd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),tl&&el(tl,d)||(tl=d,d=Xu(Rd,"onSelect"),0<d.length&&(o=new _o("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Ro)))}function Gu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Co={animationend:Gu("Animation","AnimationEnd"),animationiteration:Gu("Animation","AnimationIteration"),animationstart:Gu("Animation","AnimationStart"),transitionend:Gu("Transition","TransitionEnd")},xd={},ly={};h&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Qu(i){if(xd[i])return xd[i];if(!Co[i])return i;var o=Co[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in ly)return xd[i]=o[l];return i}var uy=Qu("animationend"),cy=Qu("animationiteration"),hy=Qu("animationstart"),dy=Qu("transitionend"),fy=new Map,py="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yi(i,o){fy.set(i,o),a(o,[i])}for(var kd=0;kd<py.length;kd++){var Dd=py[kd],KA=Dd.toLowerCase(),GA=Dd[0].toUpperCase()+Dd.slice(1);yi(KA,"on"+GA)}yi(uy,"onAnimationEnd"),yi(cy,"onAnimationIteration"),yi(hy,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(dy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("cancel close invalid load scroll toggle".split(" ").concat(nl));function my(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Au(d,o,void 0,i),i.currentTarget=null}function gy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var C=d[T],N=C.instance,K=C.currentTarget;if(C=C.listener,N!==y&&m.isPropagationStopped())break e;my(m,C,K),y=N}else for(T=0;T<d.length;T++){if(C=d[T],N=C.instance,K=C.currentTarget,C=C.listener,N!==y&&m.isPropagationStopped())break e;my(m,C,K),y=N}}}if(On)throw i=ja,On=!1,ja=null,i}function Qe(i,o){var l=o[Ud];l===void 0&&(l=o[Ud]=new Set);var d=i+"__bubble";l.has(d)||(yy(o,i,2,!1),l.add(d))}function Vd(i,o,l){var d=0;o&&(d|=4),yy(l,i,d,o)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function rl(i){if(!i[Yu]){i[Yu]=!0,r.forEach(function(l){l!=="selectionchange"&&(QA.has(l)||Vd(l,!1,i),Vd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yu]||(o[Yu]=!0,Vd("selectionchange",!1,o))}}function yy(i,o,l,d){switch(Ka(o)){case 1:var m=Xe;break;case 4:m=Td;break;default:m=qa}l=m.bind(null,o,l,i),m=void 0,!ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function bd(i,o,l,d,m){var y=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===m||N.nodeType===8&&N.parentNode===m))return;T=T.return}for(;C!==null;){if(T=ws(C),T===null)return;if(N=T.tag,N===5||N===6){d=y=T;continue e}C=C.parentNode}}d=d.return}Ua(function(){var K=y,Z=io(l),te=[];e:{var J=fy.get(i);if(J!==void 0){var ue=_o,fe=i;switch(i){case"keypress":if(vo(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":fe="focus",ue=Io;break;case"focusout":fe="blur",ue=Io;break;case"beforeblur":case"afterblur":ue=Io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ju;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case uy:case cy:case hy:ue=Mr;break;case dy:ue=ze;break;case"scroll":ue=Id;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var pe=(o&4)!==0,lt=!pe&&i==="scroll",W=pe?J!==null?J+"Capture":null:J;pe=[];for(var U=K,H;U!==null;){H=U;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,W!==null&&(ie=at(U,W),ie!=null&&pe.push(il(U,ie,H)))),lt)break;U=U.return}0<pe.length&&(J=new ue(J,fe,null,l,Z),te.push({event:J,listeners:pe}))}}if(!(o&7)){e:{if(J=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",J&&l!==as&&(fe=l.relatedTarget||l.fromElement)&&(ws(fe)||fe[Or]))break e;if((ue||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,ue?(fe=l.relatedTarget||l.toElement,ue=K,fe=fe?ws(fe):null,fe!==null&&(lt=Fn(fe),fe!==lt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ue=null,fe=K),ue!==fe)){if(pe=Eo,ie="onMouseLeave",W="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(pe=I,ie="onPointerLeave",W="onPointerEnter",U="pointer"),lt=ue==null?J:Do(ue),H=fe==null?J:Do(fe),J=new pe(ie,U+"leave",ue,l,Z),J.target=lt,J.relatedTarget=H,ie=null,ws(Z)===K&&(pe=new pe(W,U+"enter",fe,l,Z),pe.target=H,pe.relatedTarget=lt,ie=pe),lt=ie,ue&&fe)t:{for(pe=ue,W=fe,U=0,H=pe;H;H=xo(H))U++;for(H=0,ie=W;ie;ie=xo(ie))H++;for(;0<U-H;)pe=xo(pe),U--;for(;0<H-U;)W=xo(W),H--;for(;U--;){if(pe===W||W!==null&&pe===W.alternate)break t;pe=xo(pe),W=xo(W)}pe=null}else pe=null;ue!==null&&vy(te,J,ue,pe,!1),fe!==null&&lt!==null&&vy(te,lt,fe,pe,!0)}}e:{if(J=K?Do(K):window,ue=J.nodeName&&J.nodeName.toLowerCase(),ue==="select"||ue==="input"&&J.type==="file")var me=UA;else if(Xg(J))if(Zg)me=$A;else{me=BA;var ve=jA}else(ue=J.nodeName)&&ue.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(me=zA);if(me&&(me=me(i,K))){Jg(te,me,l,Z);break e}ve&&ve(i,J,K),i==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&to(J,"number",J.value)}switch(ve=K?Do(K):window,i){case"focusin":(Xg(ve)||ve.contentEditable==="true")&&(Ro=ve,Rd=K,tl=null);break;case"focusout":tl=Rd=Ro=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,ay(te,l,Z);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":ay(te,l,Z)}var _e;if(ht)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Po?Qg(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(_s&&l.locale!=="ko"&&(Po||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Po&&(_e=Ga()):(pn=Z,yo="value"in pn?pn.value:pn.textContent,Po=!0)),ve=Xu(K,Ie),0<ve.length&&(Ie=new Xa(Ie,i,null,l,Z),te.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Yg(l),_e!==null&&(Ie.data=_e)))),(_e=mn?LA(i,l):MA(i,l))&&(K=Xu(K,"onBeforeInput"),0<K.length&&(Z=new Xa("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:K}),Z.data=_e))}gy(te,o)})}function il(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Xu(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=at(i,l),y!=null&&d.unshift(il(i,y,m)),y=at(i,o),y!=null&&d.push(il(i,y,m))),i=i.return}return d}function xo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function vy(i,o,l,d,m){for(var y=o._reactName,T=[];l!==null&&l!==d;){var C=l,N=C.alternate,K=C.stateNode;if(N!==null&&N===d)break;C.tag===5&&K!==null&&(C=K,m?(N=at(l,y),N!=null&&T.unshift(il(l,N,C))):m||(N=at(l,y),N!=null&&T.push(il(l,N,C)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var YA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function _y(i){return(typeof i=="string"?i:""+i).replace(YA,`
`).replace(XA,"")}function Ju(i,o,l){if(o=_y(o),_y(i)!==o&&l)throw Error(t(425))}function Zu(){}var Nd=null,Ld=null;function Md(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(i){return wy.resolve(null).then(i).catch(eP)}:Od;function eP(i){setTimeout(function(){throw i})}function Fd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),$n(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);$n(o)}function vi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ey(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var ko=Math.random().toString(36).slice(2),hr="__reactFiber$"+ko,sl="__reactProps$"+ko,Or="__reactContainer$"+ko,Ud="__reactEvents$"+ko,tP="__reactListeners$"+ko,nP="__reactHandles$"+ko;function ws(i){var o=i[hr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Or]||l[hr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ey(i);i!==null;){if(l=i[hr])return l;i=Ey(i)}return o}i=l,l=i.parentNode}return null}function ol(i){return i=i[hr]||i[Or],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Do(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ec(i){return i[sl]||null}var jd=[],Vo=-1;function _i(i){return{current:i}}function Ye(i){0>Vo||(i.current=jd[Vo],jd[Vo]=null,Vo--)}function Ke(i,o){Vo++,jd[Vo]=i.current,i.current=o}var wi={},Ut=_i(wi),nn=_i(!1),Es=wi;function bo(i,o){var l=i.type.contextTypes;if(!l)return wi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function rn(i){return i=i.childContextTypes,i!=null}function tc(){Ye(nn),Ye(Ut)}function Ty(i,o,l){if(Ut.current!==wi)throw Error(t(168));Ke(Ut,o),Ke(nn,l)}function Iy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,Ue(i)||"Unknown",m));return oe({},l,d)}function nc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wi,Es=Ut.current,Ke(Ut,i),Ke(nn,nn.current),!0}function Sy(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Iy(i,o,Es),d.__reactInternalMemoizedMergedChildContext=i,Ye(nn),Ye(Ut),Ke(Ut,i)):Ye(nn),Ke(nn,l)}var Fr=null,rc=!1,Bd=!1;function Ay(i){Fr===null?Fr=[i]:Fr.push(i)}function rP(i){rc=!0,Ay(i)}function Ei(){if(!Bd&&Fr!==null){Bd=!0;var i=0,o=Ve;try{var l=Fr;for(Ve=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Fr=null,rc=!1}catch(m){throw Fr!==null&&(Fr=Fr.slice(i+1)),ho(ds,Ei),m}finally{Ve=o,Bd=!1}}return null}var No=[],Lo=0,ic=null,sc=0,Rn=[],Cn=0,Ts=null,Ur=1,jr="";function Is(i,o){No[Lo++]=sc,No[Lo++]=ic,ic=i,sc=o}function Py(i,o,l){Rn[Cn++]=Ur,Rn[Cn++]=jr,Rn[Cn++]=Ts,Ts=i;var d=Ur;i=jr;var m=32-Qt(d)-1;d&=~(1<<m),l+=1;var y=32-Qt(o)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Ur=1<<32-Qt(o)+m|l<<m|d,jr=y+i}else Ur=1<<y|l<<m|d,jr=i}function zd(i){i.return!==null&&(Is(i,1),Py(i,1,0))}function $d(i){for(;i===ic;)ic=No[--Lo],No[Lo]=null,sc=No[--Lo],No[Lo]=null;for(;i===Ts;)Ts=Rn[--Cn],Rn[Cn]=null,jr=Rn[--Cn],Rn[Cn]=null,Ur=Rn[--Cn],Rn[Cn]=null}var gn=null,yn=null,Je=!1,qn=null;function Ry(i,o){var l=Vn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Cy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=vi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Ts!==null?{id:Ur,overflow:jr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Vn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Wd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hd(i){if(Je){var o=yn;if(o){var l=o;if(!Cy(i,o)){if(Wd(i))throw Error(t(418));o=vi(l.nextSibling);var d=gn;o&&Cy(i,o)?Ry(d,l):(i.flags=i.flags&-4097|2,Je=!1,gn=i)}}else{if(Wd(i))throw Error(t(418));i.flags=i.flags&-4097|2,Je=!1,gn=i}}}function xy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function oc(i){if(i!==gn)return!1;if(!Je)return xy(i),Je=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Md(i.type,i.memoizedProps)),o&&(o=yn)){if(Wd(i))throw ky(),Error(t(418));for(;o;)Ry(i,o),o=vi(o.nextSibling)}if(xy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=vi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?vi(i.stateNode.nextSibling):null;return!0}function ky(){for(var i=yn;i;)i=vi(i.nextSibling)}function Mo(){yn=gn=null,Je=!1}function qd(i){qn===null?qn=[i]:qn.push(i)}var iP=re.ReactCurrentBatchConfig;function al(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var C=m.refs;T===null?delete C[y]:C[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function ac(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Dy(i){var o=i._init;return o(i._payload)}function Vy(i){function o(W,U){if(i){var H=W.deletions;H===null?(W.deletions=[U],W.flags|=16):H.push(U)}}function l(W,U){if(!i)return null;for(;U!==null;)o(W,U),U=U.sibling;return null}function d(W,U){for(W=new Map;U!==null;)U.key!==null?W.set(U.key,U):W.set(U.index,U),U=U.sibling;return W}function m(W,U){return W=xi(W,U),W.index=0,W.sibling=null,W}function y(W,U,H){return W.index=H,i?(H=W.alternate,H!==null?(H=H.index,H<U?(W.flags|=2,U):H):(W.flags|=2,U)):(W.flags|=1048576,U)}function T(W){return i&&W.alternate===null&&(W.flags|=2),W}function C(W,U,H,ie){return U===null||U.tag!==6?(U=Ff(H,W.mode,ie),U.return=W,U):(U=m(U,H),U.return=W,U)}function N(W,U,H,ie){var me=H.type;return me===V?Z(W,U,H.props.children,ie,H.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===mt&&Dy(me)===U.type)?(ie=m(U,H.props),ie.ref=al(W,U,H),ie.return=W,ie):(ie=Dc(H.type,H.key,H.props,null,W.mode,ie),ie.ref=al(W,U,H),ie.return=W,ie)}function K(W,U,H,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Uf(H,W.mode,ie),U.return=W,U):(U=m(U,H.children||[]),U.return=W,U)}function Z(W,U,H,ie,me){return U===null||U.tag!==7?(U=Ds(H,W.mode,ie,me),U.return=W,U):(U=m(U,H),U.return=W,U)}function te(W,U,H){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Ff(""+U,W.mode,H),U.return=W,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ne:return H=Dc(U.type,U.key,U.props,null,W.mode,H),H.ref=al(W,null,U),H.return=W,H;case ae:return U=Uf(U,W.mode,H),U.return=W,U;case mt:var ie=U._init;return te(W,ie(U._payload),H)}if(Cr(U)||ce(U))return U=Ds(U,W.mode,H,null),U.return=W,U;ac(W,U)}return null}function J(W,U,H,ie){var me=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return me!==null?null:C(W,U,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:return H.key===me?N(W,U,H,ie):null;case ae:return H.key===me?K(W,U,H,ie):null;case mt:return me=H._init,J(W,U,me(H._payload),ie)}if(Cr(H)||ce(H))return me!==null?null:Z(W,U,H,ie,null);ac(W,H)}return null}function ue(W,U,H,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return W=W.get(H)||null,C(U,W,""+ie,me);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return W=W.get(ie.key===null?H:ie.key)||null,N(U,W,ie,me);case ae:return W=W.get(ie.key===null?H:ie.key)||null,K(U,W,ie,me);case mt:var ve=ie._init;return ue(W,U,H,ve(ie._payload),me)}if(Cr(ie)||ce(ie))return W=W.get(H)||null,Z(U,W,ie,me,null);ac(U,ie)}return null}function fe(W,U,H,ie){for(var me=null,ve=null,_e=U,Ie=U=0,xt=null;_e!==null&&Ie<H.length;Ie++){_e.index>Ie?(xt=_e,_e=null):xt=_e.sibling;var Fe=J(W,_e,H[Ie],ie);if(Fe===null){_e===null&&(_e=xt);break}i&&_e&&Fe.alternate===null&&o(W,_e),U=y(Fe,U,Ie),ve===null?me=Fe:ve.sibling=Fe,ve=Fe,_e=xt}if(Ie===H.length)return l(W,_e),Je&&Is(W,Ie),me;if(_e===null){for(;Ie<H.length;Ie++)_e=te(W,H[Ie],ie),_e!==null&&(U=y(_e,U,Ie),ve===null?me=_e:ve.sibling=_e,ve=_e);return Je&&Is(W,Ie),me}for(_e=d(W,_e);Ie<H.length;Ie++)xt=ue(_e,W,Ie,H[Ie],ie),xt!==null&&(i&&xt.alternate!==null&&_e.delete(xt.key===null?Ie:xt.key),U=y(xt,U,Ie),ve===null?me=xt:ve.sibling=xt,ve=xt);return i&&_e.forEach(function(ki){return o(W,ki)}),Je&&Is(W,Ie),me}function pe(W,U,H,ie){var me=ce(H);if(typeof me!="function")throw Error(t(150));if(H=me.call(H),H==null)throw Error(t(151));for(var ve=me=null,_e=U,Ie=U=0,xt=null,Fe=H.next();_e!==null&&!Fe.done;Ie++,Fe=H.next()){_e.index>Ie?(xt=_e,_e=null):xt=_e.sibling;var ki=J(W,_e,Fe.value,ie);if(ki===null){_e===null&&(_e=xt);break}i&&_e&&ki.alternate===null&&o(W,_e),U=y(ki,U,Ie),ve===null?me=ki:ve.sibling=ki,ve=ki,_e=xt}if(Fe.done)return l(W,_e),Je&&Is(W,Ie),me;if(_e===null){for(;!Fe.done;Ie++,Fe=H.next())Fe=te(W,Fe.value,ie),Fe!==null&&(U=y(Fe,U,Ie),ve===null?me=Fe:ve.sibling=Fe,ve=Fe);return Je&&Is(W,Ie),me}for(_e=d(W,_e);!Fe.done;Ie++,Fe=H.next())Fe=ue(_e,W,Ie,Fe.value,ie),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ie:Fe.key),U=y(Fe,U,Ie),ve===null?me=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(MP){return o(W,MP)}),Je&&Is(W,Ie),me}function lt(W,U,H,ie){if(typeof H=="object"&&H!==null&&H.type===V&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ne:e:{for(var me=H.key,ve=U;ve!==null;){if(ve.key===me){if(me=H.type,me===V){if(ve.tag===7){l(W,ve.sibling),U=m(ve,H.props.children),U.return=W,W=U;break e}}else if(ve.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===mt&&Dy(me)===ve.type){l(W,ve.sibling),U=m(ve,H.props),U.ref=al(W,ve,H),U.return=W,W=U;break e}l(W,ve);break}else o(W,ve);ve=ve.sibling}H.type===V?(U=Ds(H.props.children,W.mode,ie,H.key),U.return=W,W=U):(ie=Dc(H.type,H.key,H.props,null,W.mode,ie),ie.ref=al(W,U,H),ie.return=W,W=ie)}return T(W);case ae:e:{for(ve=H.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){l(W,U.sibling),U=m(U,H.children||[]),U.return=W,W=U;break e}else{l(W,U);break}else o(W,U);U=U.sibling}U=Uf(H,W.mode,ie),U.return=W,W=U}return T(W);case mt:return ve=H._init,lt(W,U,ve(H._payload),ie)}if(Cr(H))return fe(W,U,H,ie);if(ce(H))return pe(W,U,H,ie);ac(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,U!==null&&U.tag===6?(l(W,U.sibling),U=m(U,H),U.return=W,W=U):(l(W,U),U=Ff(H,W.mode,ie),U.return=W,W=U),T(W)):l(W,U)}return lt}var Oo=Vy(!0),by=Vy(!1),lc=_i(null),uc=null,Fo=null,Kd=null;function Gd(){Kd=Fo=uc=null}function Qd(i){var o=lc.current;Ye(lc),i._currentValue=o}function Yd(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Uo(i,o){uc=i,Kd=Fo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(sn=!0),i.firstContext=null)}function xn(i){var o=i._currentValue;if(Kd!==i)if(i={context:i,memoizedValue:o,next:null},Fo===null){if(uc===null)throw Error(t(308));Fo=i,uc.dependencies={lanes:0,firstContext:i}}else Fo=Fo.next=i;return o}var Ss=null;function Xd(i){Ss===null?Ss=[i]:Ss.push(i)}function Ny(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,Xd(o)):(l.next=m.next,m.next=l),o.interleaved=l,Br(i,d)}function Br(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ti=!1;function Jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ly(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ii(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,Oe&2){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Br(i,l)}return m=d.interleaved,m===null?(o.next=o,Xd(d)):(o.next=m.next,m.next=o),d.interleaved=o,Br(i,l)}function cc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,di(i,l)}}function My(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function hc(i,o,l,d){var m=i.updateQueue;Ti=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var N=C,K=N.next;N.next=null,T===null?y=K:T.next=K,T=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==T&&(C===null?Z.firstBaseUpdate=K:C.next=K,Z.lastBaseUpdate=N))}if(y!==null){var te=m.baseState;T=0,Z=K=N=null,C=y;do{var J=C.lane,ue=C.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var fe=i,pe=C;switch(J=o,ue=l,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){te=fe.call(ue,te,J);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,J=typeof fe=="function"?fe.call(ue,te,J):fe,J==null)break e;te=oe({},te,J);break e;case 2:Ti=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,J=m.effects,J===null?m.effects=[C]:J.push(C))}else ue={eventTime:ue,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(K=Z=ue,N=te):Z=Z.next=ue,T|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;J=C,C=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(Z===null&&(N=te),m.baseState=N,m.firstBaseUpdate=K,m.lastBaseUpdate=Z,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Rs|=T,i.lanes=T,i.memoizedState=te}}function Oy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var ll={},dr=_i(ll),ul=_i(ll),cl=_i(ll);function As(i){if(i===ll)throw Error(t(174));return i}function Zd(i,o){switch(Ke(cl,o),Ke(ul,i),Ke(dr,ll),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yt(o,i)}Ye(dr),Ke(dr,o)}function jo(){Ye(dr),Ye(ul),Ye(cl)}function Fy(i){As(cl.current);var o=As(dr.current),l=yt(o,i.type);o!==l&&(Ke(ul,i),Ke(dr,l))}function ef(i){ul.current===i&&(Ye(dr),Ye(ul))}var et=_i(0);function dc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tf=[];function nf(){for(var i=0;i<tf.length;i++)tf[i]._workInProgressVersionPrimary=null;tf.length=0}var fc=re.ReactCurrentDispatcher,rf=re.ReactCurrentBatchConfig,Ps=0,tt=null,_t=null,Rt=null,pc=!1,hl=!1,dl=0,sP=0;function jt(){throw Error(t(321))}function sf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Hn(i[l],o[l]))return!1;return!0}function of(i,o,l,d,m,y){if(Ps=y,tt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fc.current=i===null||i.memoizedState===null?uP:cP,i=l(d,m),hl){y=0;do{if(hl=!1,dl=0,25<=y)throw Error(t(301));y+=1,Rt=_t=null,o.updateQueue=null,fc.current=hP,i=l(d,m)}while(hl)}if(fc.current=yc,o=_t!==null&&_t.next!==null,Ps=0,Rt=_t=tt=null,pc=!1,o)throw Error(t(300));return i}function af(){var i=dl!==0;return dl=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?tt.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function kn(){if(_t===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=Rt===null?tt.memoizedState:Rt.next;if(o!==null)Rt=o,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?tt.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function fl(i,o){return typeof o=="function"?o(i):o}function lf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=_t,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var C=T=null,N=null,K=y;do{var Z=K.lane;if((Ps&Z)===Z)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var te={lane:Z,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(C=N=te,T=d):N=N.next=te,tt.lanes|=Z,Rs|=Z}K=K.next}while(K!==null&&K!==y);N===null?T=d:N.next=C,Hn(d,o.memoizedState)||(sn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=N,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,tt.lanes|=y,Rs|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function uf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Hn(y,o.memoizedState)||(sn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function Uy(){}function jy(i,o){var l=tt,d=kn(),m=o(),y=!Hn(d.memoizedState,m);if(y&&(d.memoizedState=m,sn=!0),d=d.queue,cf($y.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,pl(9,zy.bind(null,l,d,m,o),void 0,null),Ct===null)throw Error(t(349));Ps&30||By(l,o,m)}return m}function By(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function zy(i,o,l,d){o.value=l,o.getSnapshot=d,Wy(o)&&Hy(i)}function $y(i,o,l){return l(function(){Wy(o)&&Hy(i)})}function Wy(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Hn(i,l)}catch{return!0}}function Hy(i){var o=Br(i,1);o!==null&&Yn(o,i,1,-1)}function qy(i){var o=fr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:i},o.queue=i,i=i.dispatch=lP.bind(null,tt,i),[o.memoizedState,i]}function pl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=tt.updateQueue,o===null?(o={lastEffect:null,stores:null},tt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function Ky(){return kn().memoizedState}function mc(i,o,l,d){var m=fr();tt.flags|=i,m.memoizedState=pl(1|o,l,void 0,d===void 0?null:d)}function gc(i,o,l,d){var m=kn();d=d===void 0?null:d;var y=void 0;if(_t!==null){var T=_t.memoizedState;if(y=T.destroy,d!==null&&sf(d,T.deps)){m.memoizedState=pl(o,l,y,d);return}}tt.flags|=i,m.memoizedState=pl(1|o,l,y,d)}function Gy(i,o){return mc(8390656,8,i,o)}function cf(i,o){return gc(2048,8,i,o)}function Qy(i,o){return gc(4,2,i,o)}function Yy(i,o){return gc(4,4,i,o)}function Xy(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Jy(i,o,l){return l=l!=null?l.concat([i]):null,gc(4,4,Xy.bind(null,o,i),l)}function hf(){}function Zy(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function ev(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&sf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function tv(i,o,l){return Ps&21?(Hn(l,o)||(l=ms(),tt.lanes|=l,Rs|=l,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,sn=!0),i.memoizedState=l)}function oP(i,o){var l=Ve;Ve=l!==0&&4>l?l:4,i(!0);var d=rf.transition;rf.transition={};try{i(!1),o()}finally{Ve=l,rf.transition=d}}function nv(){return kn().memoizedState}function aP(i,o,l){var d=Ri(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},rv(i))iv(o,l);else if(l=Ny(i,o,l,d),l!==null){var m=Jt();Yn(l,i,d,m),sv(l,o,d)}}function lP(i,o,l){var d=Ri(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(rv(i))iv(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,C=y(T,l);if(m.hasEagerState=!0,m.eagerState=C,Hn(C,T)){var N=o.interleaved;N===null?(m.next=m,Xd(o)):(m.next=N.next,N.next=m),o.interleaved=m;return}}catch{}finally{}l=Ny(i,o,m,d),l!==null&&(m=Jt(),Yn(l,i,d,m),sv(l,o,d))}}function rv(i){var o=i.alternate;return i===tt||o!==null&&o===tt}function iv(i,o){hl=pc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function sv(i,o,l){if(l&4194240){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,di(i,l)}}var yc={readContext:xn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},uP={readContext:xn,useCallback:function(i,o){return fr().memoizedState=[i,o===void 0?null:o],i},useContext:xn,useEffect:Gy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,mc(4194308,4,Xy.bind(null,o,i),l)},useLayoutEffect:function(i,o){return mc(4194308,4,i,o)},useInsertionEffect:function(i,o){return mc(4,2,i,o)},useMemo:function(i,o){var l=fr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=fr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=aP.bind(null,tt,i),[d.memoizedState,i]},useRef:function(i){var o=fr();return i={current:i},o.memoizedState=i},useState:qy,useDebugValue:hf,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=qy(!1),o=i[0];return i=oP.bind(null,i[1]),fr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=tt,m=fr();if(Je){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ct===null)throw Error(t(349));Ps&30||By(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,Gy($y.bind(null,d,y,i),[i]),d.flags|=2048,pl(9,zy.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=fr(),o=Ct.identifierPrefix;if(Je){var l=jr,d=Ur;l=(d&~(1<<32-Qt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=dl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=sP++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},cP={readContext:xn,useCallback:Zy,useContext:xn,useEffect:cf,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:ev,useReducer:lf,useRef:Ky,useState:function(){return lf(fl)},useDebugValue:hf,useDeferredValue:function(i){var o=kn();return tv(o,_t.memoizedState,i)},useTransition:function(){var i=lf(fl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:Uy,useSyncExternalStore:jy,useId:nv,unstable_isNewReconciler:!1},hP={readContext:xn,useCallback:Zy,useContext:xn,useEffect:cf,useImperativeHandle:Jy,useInsertionEffect:Qy,useLayoutEffect:Yy,useMemo:ev,useReducer:uf,useRef:Ky,useState:function(){return uf(fl)},useDebugValue:hf,useDeferredValue:function(i){var o=kn();return _t===null?o.memoizedState=i:tv(o,_t.memoizedState,i)},useTransition:function(){var i=uf(fl)[0],o=kn().memoizedState;return[i,o]},useMutableSource:Uy,useSyncExternalStore:jy,useId:nv,unstable_isNewReconciler:!1};function Kn(i,o){if(i&&i.defaultProps){o=oe({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function df(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:oe({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var vc={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=Jt(),m=Ri(i),y=zr(d,m);y.payload=o,l!=null&&(y.callback=l),o=Ii(i,y,m),o!==null&&(Yn(o,i,m,d),cc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=Jt(),m=Ri(i),y=zr(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Ii(i,y,m),o!==null&&(Yn(o,i,m,d),cc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Jt(),d=Ri(i),m=zr(l,d);m.tag=2,o!=null&&(m.callback=o),o=Ii(i,m,d),o!==null&&(Yn(o,i,d,l),cc(o,i,d))}};function ov(i,o,l,d,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!el(l,d)||!el(m,y):!0}function av(i,o,l){var d=!1,m=wi,y=o.contextType;return typeof y=="object"&&y!==null?y=xn(y):(m=rn(o)?Es:Ut.current,d=o.contextTypes,y=(d=d!=null)?bo(i,m):wi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=vc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function lv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&vc.enqueueReplaceState(o,o.state,null)}function ff(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Jd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=xn(y):(y=rn(o)?Es:Ut.current,m.context=bo(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(df(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&vc.enqueueReplaceState(m,m.state,null),hc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Bo(i,o){try{var l="",d=o;do l+=Ce(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function pf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function mf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function uv(i,o,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Ac||(Ac=!0,kf=d),mf(i,o)},l}function cv(i,o,l){l=zr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){mf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){mf(i,o),typeof d!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function hv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new dP;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=PP.bind(null,i,o,l),o.then(i,i))}function dv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function fv(i,o,l,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=zr(-1,1),o.tag=2,Ii(l,o,1))),l.lanes|=1),i)}var fP=re.ReactCurrentOwner,sn=!1;function Xt(i,o,l,d){o.child=i===null?by(o,null,l,d):Oo(o,i.child,l,d)}function pv(i,o,l,d,m){l=l.render;var y=o.ref;return Uo(o,m),d=of(i,o,l,d,y,m),l=af(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,$r(i,o,m)):(Je&&l&&zd(o),o.flags|=1,Xt(i,o,d,m),o.child)}function mv(i,o,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Of(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,gv(i,o,y,d,m)):(i=Dc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!(i.lanes&m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:el,l(T,d)&&i.ref===o.ref)return $r(i,o,m)}return o.flags|=1,i=xi(y,d),i.ref=o.ref,i.return=o,o.child=i}function gv(i,o,l,d,m){if(i!==null){var y=i.memoizedProps;if(el(y,d)&&i.ref===o.ref)if(sn=!1,o.pendingProps=d=y,(i.lanes&m)!==0)i.flags&131072&&(sn=!0);else return o.lanes=i.lanes,$r(i,o,m)}return gf(i,o,l,d,m)}function yv(i,o,l){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke($o,vn),vn|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke($o,vn),vn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ke($o,vn),vn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,Ke($o,vn),vn|=d;return Xt(i,o,m,l),o.child}function vv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function gf(i,o,l,d,m){var y=rn(l)?Es:Ut.current;return y=bo(o,y),Uo(o,m),l=of(i,o,l,d,y,m),d=af(),i!==null&&!sn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,$r(i,o,m)):(Je&&d&&zd(o),o.flags|=1,Xt(i,o,l,m),o.child)}function _v(i,o,l,d,m){if(rn(l)){var y=!0;nc(o)}else y=!1;if(Uo(o,m),o.stateNode===null)wc(i,o),av(o,l,d),ff(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,C=o.memoizedProps;T.props=C;var N=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=xn(K):(K=rn(l)?Es:Ut.current,K=bo(o,K));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||N!==K)&&lv(o,T,d,K),Ti=!1;var J=o.memoizedState;T.state=J,hc(o,d,T,m),N=o.memoizedState,C!==d||J!==N||nn.current||Ti?(typeof Z=="function"&&(df(o,l,Z,d),N=o.memoizedState),(C=Ti||ov(o,l,C,d,J,N,K))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=N),T.props=d,T.state=N,T.context=K,d=C):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Ly(i,o),C=o.memoizedProps,K=o.type===o.elementType?C:Kn(o.type,C),T.props=K,te=o.pendingProps,J=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=xn(N):(N=rn(l)?Es:Ut.current,N=bo(o,N));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==te||J!==N)&&lv(o,T,d,N),Ti=!1,J=o.memoizedState,T.state=J,hc(o,d,T,m);var fe=o.memoizedState;C!==te||J!==fe||nn.current||Ti?(typeof ue=="function"&&(df(o,l,ue,d),fe=o.memoizedState),(K=Ti||ov(o,l,K,d,J,fe,N)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,fe,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,fe,N)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=fe),T.props=d,T.state=fe,T.context=N,d=K):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),d=!1)}return yf(i,o,l,d,y,m)}function yf(i,o,l,d,m,y){vv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&Sy(o,l,!1),$r(i,o,y);d=o.stateNode,fP.current=o;var C=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Oo(o,i.child,null,y),o.child=Oo(o,null,C,y)):Xt(i,o,C,y),o.memoizedState=d.state,m&&Sy(o,l,!0),o.child}function wv(i){var o=i.stateNode;o.pendingContext?Ty(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Ty(i,o.context,!1),Zd(i,o.containerInfo)}function Ev(i,o,l,d,m){return Mo(),qd(m),o.flags|=256,Xt(i,o,l,d),o.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function _f(i){return{baseLanes:i,cachePool:null,transitions:null}}function Tv(i,o,l){var d=o.pendingProps,m=et.current,y=!1,T=(o.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(et,m&1),i===null)return Hd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Vc(T,d,0,null),i=Ds(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=_f(l),o.memoizedState=vf,i):wf(o,T));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return pP(i,o,T,d,C,m,l);if(y){y=d.fallback,T=o.mode,m=i.child,C=m.sibling;var N={mode:"hidden",children:d.children};return!(T&1)&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=N,o.deletions=null):(d=xi(m,N),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?y=xi(C,y):(y=Ds(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?_f(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=vf,d}return y=i.child,i=y.sibling,d=xi(y,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function wf(i,o){return o=Vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function _c(i,o,l,d){return d!==null&&qd(d),Oo(o,i.child,null,l),i=wf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function pP(i,o,l,d,m,y,T){if(l)return o.flags&256?(o.flags&=-257,d=pf(Error(t(422))),_c(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=Vc({mode:"visible",children:d.children},m,0,null),y=Ds(y,m,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,o.mode&1&&Oo(o,i.child,null,T),o.child.memoizedState=_f(T),o.memoizedState=vf,y);if(!(o.mode&1))return _c(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(t(419)),d=pf(y,d,void 0),_c(i,o,T,d)}if(C=(T&i.childLanes)!==0,sn||C){if(d=Ct,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Br(i,m),Yn(d,i,m,-1))}return Mf(),d=pf(Error(t(421))),_c(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=RP.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,yn=vi(m.nextSibling),gn=o,Je=!0,qn=null,i!==null&&(Rn[Cn++]=Ur,Rn[Cn++]=jr,Rn[Cn++]=Ts,Ur=i.id,jr=i.overflow,Ts=o),o=wf(o,d.children),o.flags|=4096,o)}function Iv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),Yd(i.return,o,l)}function Ef(i,o,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Sv(i,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(Xt(i,o,d.children,l),d=et.current,d&2)d=d&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Iv(i,l,o);else if(i.tag===19)Iv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(et,d),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&dc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Ef(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&dc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Ef(o,!0,l,null,y);break;case"together":Ef(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function wc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function $r(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Rs|=o.lanes,!(l&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=xi(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=xi(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function mP(i,o,l){switch(o.tag){case 3:wv(o),Mo();break;case 5:Fy(o);break;case 1:rn(o.type)&&nc(o);break;case 4:Zd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(lc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(et,et.current&1),o.flags|=128,null):l&o.child.childLanes?Tv(i,o,l):(Ke(et,et.current&1),i=$r(i,o,l),i!==null?i.sibling:null);Ke(et,et.current&1);break;case 19:if(d=(l&o.childLanes)!==0,i.flags&128){if(d)return Sv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(et,et.current),d)break;return null;case 22:case 23:return o.lanes=0,yv(i,o,l)}return $r(i,o,l)}var Av,Tf,Pv,Rv;Av=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Tf=function(){},Pv=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,As(dr.current);var y=null;switch(l){case"input":m=is(i,m),d=is(i,d),y=[];break;case"select":m=oe({},m,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":m=xa(i,m),d=xa(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Zu)}La(l,d);var T;l=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var C=m[K];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?y||(y=[]):(y=y||[]).push(K,null));for(K in d){var N=d[K];if(C=m!=null?m[K]:void 0,d.hasOwnProperty(K)&&N!==C&&(N!=null||C!=null))if(K==="style")if(C){for(T in C)!C.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&C[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(y||(y=[]),y.push(K,l)),l=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(y=y||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&Qe("scroll",i),y||C===N||(y=[])):(y=y||[]).push(K,N))}l&&(y=y||[]).push("style",l);var K=y;(o.updateQueue=K)&&(o.flags|=4)}},Rv=function(i,o,l,d){l!==d&&(o.flags|=4)};function ml(i,o){if(!Je)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Bt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function gP(i,o,l){var d=o.pendingProps;switch($d(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(o),null;case 1:return rn(o.type)&&tc(),Bt(o),null;case 3:return d=o.stateNode,jo(),Ye(nn),Ye(Ut),nf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(oc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,qn!==null&&(bf(qn),qn=null))),Tf(i,o),Bt(o),null;case 5:ef(o);var m=As(cl.current);if(l=o.type,i!==null&&o.stateNode!=null)Pv(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Bt(o),null}if(i=As(dr.current),oc(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[hr]=o,d[sl]=y,i=(o.mode&1)!==0,l){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<nl.length;m++)Qe(nl[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":eo(d,y),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",d);break;case"textarea":no(d,y),Qe("invalid",d)}La(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var C=y[T];T==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&Ju(d.textContent,C,i),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&Ju(d.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&Qe("scroll",d)}switch(l){case"input":Rr(d),Su(d,y,!0);break;case"textarea":Rr(d),ka(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Zu)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[hr]=o,i[sl]=d,Av(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ma(l,d),l){case"dialog":Qe("cancel",i),Qe("close",i),m=d;break;case"iframe":case"object":case"embed":Qe("load",i),m=d;break;case"video":case"audio":for(m=0;m<nl.length;m++)Qe(nl[m],i);m=d;break;case"source":Qe("error",i),m=d;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=d;break;case"details":Qe("toggle",i),m=d;break;case"input":eo(i,d),m=is(i,d),Qe("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=oe({},d,{value:void 0}),Qe("invalid",i);break;case"textarea":no(i,d),m=xa(i,d),Qe("invalid",i);break;default:m=d}La(l,m),C=m;for(y in C)if(C.hasOwnProperty(y)){var N=C[y];y==="style"?ba(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Da(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&ai(i,N):typeof N=="number"&&ai(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Qe("scroll",i):N!=null&&$(i,y,N,T))}switch(l){case"input":Rr(i),Su(i,d,!1);break;case"textarea":Rr(i),ka(i);break;case"option":d.value!=null&&i.setAttribute("value",""+je(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?xr(i,!!d.multiple,y,!1):d.defaultValue!=null&&xr(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Zu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Bt(o),null;case 6:if(i&&o.stateNode!=null)Rv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=As(cl.current),As(dr.current),oc(o)){if(d=o.stateNode,l=o.memoizedProps,d[hr]=o,(y=d.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Ju(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ju(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[hr]=o,o.stateNode=d}return Bt(o),null;case 13:if(Ye(et),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Je&&yn!==null&&o.mode&1&&!(o.flags&128))ky(),Mo(),o.flags|=98560,y=!1;else if(y=oc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[hr]=o}else Mo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Bt(o),y=!1}else qn!==null&&(bf(qn),qn=null),y=!0;if(!y)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(i===null||et.current&1?wt===0&&(wt=3):Mf())),o.updateQueue!==null&&(o.flags|=4),Bt(o),null);case 4:return jo(),Tf(i,o),i===null&&rl(o.stateNode.containerInfo),Bt(o),null;case 10:return Qd(o.type._context),Bt(o),null;case 17:return rn(o.type)&&tc(),Bt(o),null;case 19:if(Ye(et),y=o.memoizedState,y===null)return Bt(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)ml(y,!1);else{if(wt!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(T=dc(i),T!==null){for(o.flags|=128,ml(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(et,et.current&1|2),o.child}i=i.sibling}y.tail!==null&&qe()>Wo&&(o.flags|=128,d=!0,ml(y,!1),o.lanes=4194304)}else{if(!d)if(i=dc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),ml(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Je)return Bt(o),null}else 2*qe()-y.renderingStartTime>Wo&&l!==1073741824&&(o.flags|=128,d=!0,ml(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=qe(),o.sibling=null,l=et.current,Ke(et,d?l&1|2:l&1),o):(Bt(o),null);case 22:case 23:return Lf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?vn&1073741824&&(Bt(o),o.subtreeFlags&6&&(o.flags|=8192)):Bt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function yP(i,o){switch($d(o),o.tag){case 1:return rn(o.type)&&tc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return jo(),Ye(nn),Ye(Ut),nf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return ef(o),null;case 13:if(Ye(et),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Mo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(et),null;case 4:return jo(),null;case 10:return Qd(o.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var Ec=!1,zt=!1,vP=typeof WeakSet=="function"?WeakSet:Set,de=null;function zo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){st(i,o,d)}else l.current=null}function If(i,o,l){try{l()}catch(d){st(i,o,d)}}var Cv=!1;function _P(i,o){if(Nd=mi,i=oy(),Pd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,C=-1,N=-1,K=0,Z=0,te=i,J=null;t:for(;;){for(var ue;te!==l||m!==0&&te.nodeType!==3||(C=T+m),te!==y||d!==0&&te.nodeType!==3||(N=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)J=te,te=ue;for(;;){if(te===i)break t;if(J===l&&++K===m&&(C=T),J===y&&++Z===d&&(N=T),(ue=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=ue}l=C===-1||N===-1?null:{start:C,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:i,selectionRange:l},mi=!1,de=o;de!==null;)if(o=de,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,de=i;else for(;de!==null;){o=de;try{var fe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,lt=fe.memoizedState,W=o.stateNode,U=W.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Kn(o.type,pe),lt);W.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){st(o,o.return,ie)}if(i=o.sibling,i!==null){i.return=o.return,de=i;break}de=o.return}return fe=Cv,Cv=!1,fe}function gl(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&If(o,l,y)}m=m.next}while(m!==d)}}function Tc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Sf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function xv(i){var o=i.alternate;o!==null&&(i.alternate=null,xv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[hr],delete o[sl],delete o[Ud],delete o[tP],delete o[nP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function kv(i){return i.tag===5||i.tag===3||i.tag===4}function Dv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Af(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Zu));else if(d!==4&&(i=i.child,i!==null))for(Af(i,o,l),i=i.sibling;i!==null;)Af(i,o,l),i=i.sibling}function Pf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Pf(i,o,l),i=i.sibling;i!==null;)Pf(i,o,l),i=i.sibling}var bt=null,Gn=!1;function Si(i,o,l){for(l=l.child;l!==null;)Vv(i,o,l),l=l.sibling}function Vv(i,o,l){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(fs,l)}catch{}switch(l.tag){case 5:zt||zo(l,o);case 6:var d=bt,m=Gn;bt=null,Si(i,o,l),bt=d,Gn=m,bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Gn?(i=bt,l=l.stateNode,i.nodeType===8?Fd(i.parentNode,l):i.nodeType===1&&Fd(i,l),$n(i)):Fd(bt,l.stateNode));break;case 4:d=bt,m=Gn,bt=l.stateNode.containerInfo,Gn=!0,Si(i,o,l),bt=d,Gn=m;break;case 0:case 11:case 14:case 15:if(!zt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&If(l,o,T),m=m.next}while(m!==d)}Si(i,o,l);break;case 1:if(!zt&&(zo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){st(l,o,C)}Si(i,o,l);break;case 21:Si(i,o,l);break;case 22:l.mode&1?(zt=(d=zt)||l.memoizedState!==null,Si(i,o,l),zt=d):Si(i,o,l);break;default:Si(i,o,l)}}function bv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new vP),o.forEach(function(d){var m=CP.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Qn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 5:bt=C.stateNode,Gn=!1;break e;case 3:bt=C.stateNode.containerInfo,Gn=!0;break e;case 4:bt=C.stateNode.containerInfo,Gn=!0;break e}C=C.return}if(bt===null)throw Error(t(160));Vv(y,T,m),bt=null,Gn=!1;var N=m.alternate;N!==null&&(N.return=null),m.return=null}catch(K){st(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nv(o,i),o=o.sibling}function Nv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(o,i),pr(i),d&4){try{gl(3,i,i.return),Tc(3,i)}catch(pe){st(i,i.return,pe)}try{gl(5,i,i.return)}catch(pe){st(i,i.return,pe)}}break;case 1:Qn(o,i),pr(i),d&512&&l!==null&&zo(l,l.return);break;case 5:if(Qn(o,i),pr(i),d&512&&l!==null&&zo(l,l.return),i.flags&32){var m=i.stateNode;try{ai(m,"")}catch(pe){st(i,i.return,pe)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,C=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Ra(m,y),Ma(C,T);var K=Ma(C,y);for(T=0;T<N.length;T+=2){var Z=N[T],te=N[T+1];Z==="style"?ba(m,te):Z==="dangerouslySetInnerHTML"?Da(m,te):Z==="children"?ai(m,te):$(m,Z,te,K)}switch(C){case"input":Ca(m,y);break;case"textarea":ro(m,y);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?xr(m,!!y.multiple,ue,!1):J!==!!y.multiple&&(y.defaultValue!=null?xr(m,!!y.multiple,y.defaultValue,!0):xr(m,!!y.multiple,y.multiple?[]:"",!1))}m[sl]=y}catch(pe){st(i,i.return,pe)}}break;case 6:if(Qn(o,i),pr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(pe){st(i,i.return,pe)}}break;case 3:if(Qn(o,i),pr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(o.containerInfo)}catch(pe){st(i,i.return,pe)}break;case 4:Qn(o,i),pr(i);break;case 13:Qn(o,i),pr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=qe())),d&4&&bv(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(zt=(K=zt)||Z,Qn(o,i),zt=K):Qn(o,i),pr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!Z&&i.mode&1)for(de=i,Z=i.child;Z!==null;){for(te=de=Z;de!==null;){switch(J=de,ue=J.child,J.tag){case 0:case 11:case 14:case 15:gl(4,J,J.return);break;case 1:zo(J,J.return);var fe=J.stateNode;if(typeof fe.componentWillUnmount=="function"){d=J,l=J.return;try{o=d,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){st(d,l,pe)}}break;case 5:zo(J,J.return);break;case 22:if(J.memoizedState!==null){Ov(te);continue}}ue!==null?(ue.return=J,de=ue):Ov(te)}Z=Z.sibling}e:for(Z=null,te=i;;){if(te.tag===5){if(Z===null){Z=te;try{m=te.stateNode,K?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=te.stateNode,N=te.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=Va("display",T))}catch(pe){st(i,i.return,pe)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=K?"":te.memoizedProps}catch(pe){st(i,i.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(o,i),pr(i),d&4&&bv(i);break;case 21:break;default:Qn(o,i),pr(i)}}function pr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(kv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ai(m,""),d.flags&=-33);var y=Dv(i);Pf(i,y,m);break;case 3:case 4:var T=d.stateNode.containerInfo,C=Dv(i);Af(i,C,T);break;default:throw Error(t(161))}}catch(N){st(i,i.return,N)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function wP(i,o,l){de=i,Lv(i)}function Lv(i,o,l){for(var d=(i.mode&1)!==0;de!==null;){var m=de,y=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Ec;if(!T){var C=m.alternate,N=C!==null&&C.memoizedState!==null||zt;C=Ec;var K=zt;if(Ec=T,(zt=N)&&!K)for(de=m;de!==null;)T=de,N=T.child,T.tag===22&&T.memoizedState!==null?Fv(m):N!==null?(N.return=T,de=N):Fv(m);for(;y!==null;)de=y,Lv(y),y=y.sibling;de=m,Ec=C,zt=K}Mv(i)}else m.subtreeFlags&8772&&y!==null?(y.return=m,de=y):Mv(i)}}function Mv(i){for(;de!==null;){var o=de;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:zt||Tc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!zt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Kn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&Oy(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Oy(o,T,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var Z=K.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||o.flags&512&&Sf(o)}catch(J){st(o,o.return,J)}}if(o===i){de=null;break}if(l=o.sibling,l!==null){l.return=o.return,de=l;break}de=o.return}}function Ov(i){for(;de!==null;){var o=de;if(o===i){de=null;break}var l=o.sibling;if(l!==null){l.return=o.return,de=l;break}de=o.return}}function Fv(i){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Tc(4,o)}catch(N){st(o,l,N)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(N){st(o,m,N)}}var y=o.return;try{Sf(o)}catch(N){st(o,y,N)}break;case 5:var T=o.return;try{Sf(o)}catch(N){st(o,T,N)}}}catch(N){st(o,o.return,N)}if(o===i){de=null;break}var C=o.sibling;if(C!==null){C.return=o.return,de=C;break}de=o.return}}var EP=Math.ceil,Ic=re.ReactCurrentDispatcher,Rf=re.ReactCurrentOwner,Dn=re.ReactCurrentBatchConfig,Oe=0,Ct=null,dt=null,Nt=0,vn=0,$o=_i(0),wt=0,yl=null,Rs=0,Sc=0,Cf=0,vl=null,on=null,xf=0,Wo=1/0,Wr=null,Ac=!1,kf=null,Ai=null,Pc=!1,Pi=null,Rc=0,_l=0,Df=null,Cc=-1,xc=0;function Jt(){return Oe&6?qe():Cc!==-1?Cc:Cc=qe()}function Ri(i){return i.mode&1?Oe&2&&Nt!==0?Nt&-Nt:iP.transition!==null?(xc===0&&(xc=ms()),xc):(i=Ve,i!==0||(i=window.event,i=i===void 0?16:Ka(i.type)),i):1}function Yn(i,o,l,d){if(50<_l)throw _l=0,Df=null,Error(t(185));hi(i,l,d),(!(Oe&2)||i!==Ct)&&(i===Ct&&(!(Oe&2)&&(Sc|=l),wt===4&&Ci(i,Nt)),an(i,d),l===1&&Oe===0&&!(o.mode&1)&&(Wo=qe()+500,rc&&Ei()))}function an(i,o){var l=i.callbackNode;Vr(i,o);var d=ps(i,i===Ct?Nt:0);if(d===0)l!==null&&za(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&za(l),o===1)i.tag===0?rP(jv.bind(null,i)):Ay(jv.bind(null,i)),ZA(function(){!(Oe&6)&&Ei()}),l=null;else{switch(fi(d)){case 1:l=ds;break;case 4:l=li;break;case 16:l=Sn;break;case 536870912:l=xu;break;default:l=Sn}l=Gv(l,Uv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Uv(i,o){if(Cc=-1,xc=0,Oe&6)throw Error(t(327));var l=i.callbackNode;if(Ho()&&i.callbackNode!==l)return null;var d=ps(i,i===Ct?Nt:0);if(d===0)return null;if(d&30||d&i.expiredLanes||o)o=kc(i,d);else{o=d;var m=Oe;Oe|=2;var y=zv();(Ct!==i||Nt!==o)&&(Wr=null,Wo=qe()+500,xs(i,o));do try{SP();break}catch(C){Bv(i,C)}while(!0);Gd(),Ic.current=y,Oe=m,dt!==null?o=0:(Ct=null,Nt=0,o=wt)}if(o!==0){if(o===2&&(m=fn(i),m!==0&&(d=m,o=Vf(i,m))),o===1)throw l=yl,xs(i,0),Ci(i,d),an(i,qe()),l;if(o===6)Ci(i,d);else{if(m=i.current.alternate,!(d&30)&&!TP(m)&&(o=kc(i,d),o===2&&(y=fn(i),y!==0&&(d=y,o=Vf(i,y))),o===1))throw l=yl,xs(i,0),Ci(i,d),an(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:ks(i,on,Wr);break;case 3:if(Ci(i,d),(d&130023424)===d&&(o=xf+500-qe(),10<o)){if(ps(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Jt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Od(ks.bind(null,i,on,Wr),o);break}ks(i,on,Wr);break;case 4:if(Ci(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-Qt(d);y=1<<T,T=o[T],T>m&&(m=T),d&=~y}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*EP(d/1960))-d,10<d){i.timeoutHandle=Od(ks.bind(null,i,on,Wr),d);break}ks(i,on,Wr);break;case 5:ks(i,on,Wr);break;default:throw Error(t(329))}}}return an(i,qe()),i.callbackNode===l?Uv.bind(null,i):null}function Vf(i,o){var l=vl;return i.current.memoizedState.isDehydrated&&(xs(i,o).flags|=256),i=kc(i,o),i!==2&&(o=on,on=l,o!==null&&bf(o)),i}function bf(i){on===null?on=i:on.push.apply(on,i)}function TP(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Hn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ci(i,o){for(o&=~Cf,o&=~Sc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Qt(o),d=1<<l;i[l]=-1,o&=~d}}function jv(i){if(Oe&6)throw Error(t(327));Ho();var o=ps(i,0);if(!(o&1))return an(i,qe()),null;var l=kc(i,o);if(i.tag!==0&&l===2){var d=fn(i);d!==0&&(o=d,l=Vf(i,d))}if(l===1)throw l=yl,xs(i,0),Ci(i,o),an(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,ks(i,on,Wr),an(i,qe()),null}function Nf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(Wo=qe()+500,rc&&Ei())}}function Cs(i){Pi!==null&&Pi.tag===0&&!(Oe&6)&&Ho();var o=Oe;Oe|=1;var l=Dn.transition,d=Ve;try{if(Dn.transition=null,Ve=1,i)return i()}finally{Ve=d,Dn.transition=l,Oe=o,!(Oe&6)&&Ei()}}function Lf(){vn=$o.current,Ye($o)}function xs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,JA(l)),dt!==null)for(l=dt.return;l!==null;){var d=l;switch($d(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&tc();break;case 3:jo(),Ye(nn),Ye(Ut),nf();break;case 5:ef(d);break;case 4:jo();break;case 13:Ye(et);break;case 19:Ye(et);break;case 10:Qd(d.type._context);break;case 22:case 23:Lf()}l=l.return}if(Ct=i,dt=i=xi(i.current,null),Nt=vn=o,wt=0,yl=null,Cf=Sc=Rs=0,on=vl=null,Ss!==null){for(o=0;o<Ss.length;o++)if(l=Ss[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,d.next=T}l.pending=d}Ss=null}return i}function Bv(i,o){do{var l=dt;try{if(Gd(),fc.current=yc,pc){for(var d=tt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}pc=!1}if(Ps=0,Rt=_t=tt=null,hl=!1,dl=0,Rf.current=null,l===null||l.return===null){wt=1,yl=o,dt=null;break}e:{var y=i,T=l.return,C=l,N=o;if(o=Nt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,Z=C,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=dv(T);if(ue!==null){ue.flags&=-257,fv(ue,T,C,y,o),ue.mode&1&&hv(y,K,o),o=ue,N=K;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(N),o.updateQueue=pe}else fe.add(N);break e}else{if(!(o&1)){hv(y,K,o),Mf();break e}N=Error(t(426))}}else if(Je&&C.mode&1){var lt=dv(T);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),fv(lt,T,C,y,o),qd(Bo(N,C));break e}}y=N=Bo(N,C),wt!==4&&(wt=2),vl===null?vl=[y]:vl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var W=uv(y,N,o);My(y,W);break e;case 1:C=N;var U=y.type,H=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ai===null||!Ai.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=cv(y,C,o);My(y,ie);break e}}y=y.return}while(y!==null)}Wv(l)}catch(me){o=me,dt===l&&l!==null&&(dt=l=l.return);continue}break}while(!0)}function zv(){var i=Ic.current;return Ic.current=yc,i===null?yc:i}function Mf(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||!(Rs&268435455)&&!(Sc&268435455)||Ci(Ct,Nt)}function kc(i,o){var l=Oe;Oe|=2;var d=zv();(Ct!==i||Nt!==o)&&(Wr=null,xs(i,o));do try{IP();break}catch(m){Bv(i,m)}while(!0);if(Gd(),Oe=l,Ic.current=d,dt!==null)throw Error(t(261));return Ct=null,Nt=0,wt}function IP(){for(;dt!==null;)$v(dt)}function SP(){for(;dt!==null&&!Ru();)$v(dt)}function $v(i){var o=Kv(i.alternate,i,vn);i.memoizedProps=i.pendingProps,o===null?Wv(i):dt=o,Rf.current=null}function Wv(i){var o=i;do{var l=o.alternate;if(i=o.return,o.flags&32768){if(l=yP(l,o),l!==null){l.flags&=32767,dt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,dt=null;return}}else if(l=gP(l,o,vn),l!==null){dt=l;return}if(o=o.sibling,o!==null){dt=o;return}dt=o=i}while(o!==null);wt===0&&(wt=5)}function ks(i,o,l){var d=Ve,m=Dn.transition;try{Dn.transition=null,Ve=1,AP(i,o,l,d)}finally{Dn.transition=m,Ve=d}return null}function AP(i,o,l,d){do Ho();while(Pi!==null);if(Oe&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===Ct&&(dt=Ct=null,Nt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Pc||(Pc=!0,Gv(Sn,function(){return Ho(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Dn.transition,Dn.transition=null;var T=Ve;Ve=1;var C=Oe;Oe|=4,Rf.current=null,_P(i,l),Nv(l,i),HA(Ld),mi=!!Nd,Ld=Nd=null,i.current=l,wP(l),vd(),Oe=C,Ve=T,Dn.transition=y}else i.current=l;if(Pc&&(Pc=!1,Pi=i,Rc=m),y=i.pendingLanes,y===0&&(Ai=null),ku(l.stateNode),an(i,qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Ac)throw Ac=!1,i=kf,kf=null,i;return Rc&1&&i.tag!==0&&Ho(),y=i.pendingLanes,y&1?i===Df?_l++:(_l=0,Df=i):_l=0,Ei(),null}function Ho(){if(Pi!==null){var i=fi(Rc),o=Dn.transition,l=Ve;try{if(Dn.transition=null,Ve=16>i?16:i,Pi===null)var d=!1;else{if(i=Pi,Pi=null,Rc=0,Oe&6)throw Error(t(331));var m=Oe;for(Oe|=4,de=i.current;de!==null;){var y=de,T=y.child;if(de.flags&16){var C=y.deletions;if(C!==null){for(var N=0;N<C.length;N++){var K=C[N];for(de=K;de!==null;){var Z=de;switch(Z.tag){case 0:case 11:case 15:gl(8,Z,y)}var te=Z.child;if(te!==null)te.return=Z,de=te;else for(;de!==null;){Z=de;var J=Z.sibling,ue=Z.return;if(xv(Z),Z===K){de=null;break}if(J!==null){J.return=ue,de=J;break}de=ue}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var lt=pe.sibling;pe.sibling=null,pe=lt}while(pe!==null)}}de=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,de=T;else e:for(;de!==null;){if(y=de,y.flags&2048)switch(y.tag){case 0:case 11:case 15:gl(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,de=W;break e}de=y.return}}var U=i.current;for(de=U;de!==null;){T=de;var H=T.child;if(T.subtreeFlags&2064&&H!==null)H.return=T,de=H;else e:for(T=U;de!==null;){if(C=de,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Tc(9,C)}}catch(me){st(C,C.return,me)}if(C===T){de=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,de=ie;break e}de=C.return}}if(Oe=m,Ei(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(fs,i)}catch{}d=!0}return d}finally{Ve=l,Dn.transition=o}}return!1}function Hv(i,o,l){o=Bo(l,o),o=uv(i,o,1),i=Ii(i,o,1),o=Jt(),i!==null&&(hi(i,1,o),an(i,o))}function st(i,o,l){if(i.tag===3)Hv(i,i,l);else for(;o!==null;){if(o.tag===3){Hv(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ai===null||!Ai.has(d))){i=Bo(l,i),i=cv(o,i,1),o=Ii(o,i,1),i=Jt(),o!==null&&(hi(o,1,i),an(o,i));break}}o=o.return}}function PP(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=Jt(),i.pingedLanes|=i.suspendedLanes&l,Ct===i&&(Nt&l)===l&&(wt===4||wt===3&&(Nt&130023424)===Nt&&500>qe()-xf?xs(i,0):Cf|=l),an(i,o)}function qv(i,o){o===0&&(i.mode&1?(o=po,po<<=1,!(po&130023424)&&(po=4194304)):o=1);var l=Jt();i=Br(i,o),i!==null&&(hi(i,o,l),an(i,l))}function RP(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),qv(i,l)}function CP(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),qv(i,l)}var Kv;Kv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||nn.current)sn=!0;else{if(!(i.lanes&l)&&!(o.flags&128))return sn=!1,mP(i,o,l);sn=!!(i.flags&131072)}else sn=!1,Je&&o.flags&1048576&&Py(o,sc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;wc(i,o),i=o.pendingProps;var m=bo(o,Ut.current);Uo(o,l),m=of(null,o,d,i,m,l);var y=af();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rn(d)?(y=!0,nc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Jd(o),m.updater=vc,o.stateNode=m,m._reactInternals=o,ff(o,d,i,l),o=yf(null,o,d,!0,y,l)):(o.tag=0,Je&&y&&zd(o),Xt(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(wc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=kP(d),i=Kn(d,i),m){case 0:o=gf(null,o,d,i,l);break e;case 1:o=_v(null,o,d,i,l);break e;case 11:o=pv(null,o,d,i,l);break e;case 14:o=mv(null,o,d,Kn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),gf(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),_v(i,o,d,m,l);case 3:e:{if(wv(o),i===null)throw Error(t(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Ly(i,o),hc(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Bo(Error(t(423)),o),o=Ev(i,o,d,l,m);break e}else if(d!==m){m=Bo(Error(t(424)),o),o=Ev(i,o,d,l,m);break e}else for(yn=vi(o.stateNode.containerInfo.firstChild),gn=o,Je=!0,qn=null,l=by(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Mo(),d===m){o=$r(i,o,l);break e}Xt(i,o,d,l)}o=o.child}return o;case 5:return Fy(o),i===null&&Hd(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Md(d,m)?T=null:y!==null&&Md(d,y)&&(o.flags|=32),vv(i,o),Xt(i,o,T,l),o.child;case 6:return i===null&&Hd(o),null;case 13:return Tv(i,o,l);case 4:return Zd(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Oo(o,null,d,l):Xt(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),pv(i,o,d,m,l);case 7:return Xt(i,o,o.pendingProps,l),o.child;case 8:return Xt(i,o,o.pendingProps.children,l),o.child;case 12:return Xt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,Ke(lc,d._currentValue),d._currentValue=T,y!==null)if(Hn(y.value,T)){if(y.children===m.children&&!nn.current){o=$r(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var C=y.dependencies;if(C!==null){T=y.child;for(var N=C.firstContext;N!==null;){if(N.context===d){if(y.tag===1){N=zr(-1,l&-l),N.tag=2;var K=y.updateQueue;if(K!==null){K=K.shared;var Z=K.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),K.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Yd(y.return,l,o),C.lanes|=l;break}N=N.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),Yd(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Xt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Uo(o,l),m=xn(m),d=d(m),o.flags|=1,Xt(i,o,d,l),o.child;case 14:return d=o.type,m=Kn(d,o.pendingProps),m=Kn(d.type,m),mv(i,o,d,m,l);case 15:return gv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Kn(d,m),wc(i,o),o.tag=1,rn(d)?(i=!0,nc(o)):i=!1,Uo(o,l),av(o,d,m),ff(o,d,m,l),yf(null,o,d,!0,i,l);case 19:return Sv(i,o,l);case 22:return yv(i,o,l)}throw Error(t(156,o.tag))};function Gv(i,o){return ho(i,o)}function xP(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,o,l,d){return new xP(i,o,l,d)}function Of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function kP(i){if(typeof i=="function")return Of(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===pt)return 14}return 2}function xi(i,o){var l=i.alternate;return l===null?(l=Vn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,d,m,y){var T=2;if(d=i,typeof i=="function")Of(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case V:return Ds(l.children,m,y,o);case A:T=8,m|=8;break;case P:return i=Vn(12,l,o,m|2),i.elementType=P,i.lanes=y,i;case k:return i=Vn(13,l,o,m),i.elementType=k,i.lanes=y,i;case We:return i=Vn(19,l,o,m),i.elementType=We,i.lanes=y,i;case le:return Vc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case F:T=9;break e;case B:T=11;break e;case pt:T=14;break e;case mt:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Vn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Ds(i,o,l,d){return i=Vn(7,i,d,o),i.lanes=l,i}function Vc(i,o,l,d){return i=Vn(22,i,d,o),i.elementType=le,i.lanes=l,i.stateNode={isHidden:!1},i}function Ff(i,o,l){return i=Vn(6,i,null,o),i.lanes=l,i}function Uf(i,o,l){return o=Vn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function DP(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ci(0),this.expirationTimes=ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function jf(i,o,l,d,m,y,T,C,N){return i=new DP(i,o,l,C,N),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Vn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jd(y),i}function VP(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function Qv(i){if(!i)return wi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(rn(l))return Iy(i,l,o)}return o}function Yv(i,o,l,d,m,y,T,C,N){return i=jf(l,d,!0,i,m,y,T,C,N),i.context=Qv(null),l=i.current,d=Jt(),m=Ri(l),y=zr(d,m),y.callback=o??null,Ii(l,y,m),i.current.lanes=m,hi(i,m,d),an(i,d),i}function bc(i,o,l,d){var m=o.current,y=Jt(),T=Ri(m);return l=Qv(l),o.context===null?o.context=l:o.pendingContext=l,o=zr(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ii(m,o,T),i!==null&&(Yn(i,m,T,y),cc(i,m,T)),T}function Nc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Xv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Bf(i,o){Xv(i,o),(i=i.alternate)&&Xv(i,o)}var Jv=typeof reportError=="function"?reportError:function(i){console.error(i)};function zf(i){this._internalRoot=i}Lc.prototype.render=zf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));bc(i,o,null,null)},Lc.prototype.unmount=zf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Cs(function(){bc(null,i,null,null)}),o[Or]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Lu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ar.length&&o!==0&&o<ar[l].priority;l++);ar.splice(l,0,i),l===0&&Fu(i)}};function $f(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Mc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Zv(){}function bP(i,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var K=Nc(T);y.call(K)}}var T=Yv(o,d,i,0,null,!1,!1,"",Zv);return i._reactRootContainer=T,i[Or]=T.current,rl(i.nodeType===8?i.parentNode:i),Cs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var K=Nc(N);C.call(K)}}var N=jf(i,0,!1,null,null,!1,!1,"",Zv);return i._reactRootContainer=N,i[Or]=N.current,rl(i.nodeType===8?i.parentNode:i),Cs(function(){bc(o,N,l,d)}),N}function Oc(i,o,l,d,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var C=m;m=function(){var N=Nc(T);C.call(N)}}bc(o,T,i,m)}else T=bP(l,o,i,m,d);return Nc(T)}bu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=ui(o.pendingLanes);l!==0&&(di(o,l|1),an(o,qe()),!(Oe&6)&&(Wo=qe()+500,Ei()))}break;case 13:Cs(function(){var d=Br(i,1);if(d!==null){var m=Jt();Yn(d,i,1,m)}}),Bf(i,1)}},mo=function(i){if(i.tag===13){var o=Br(i,134217728);if(o!==null){var l=Jt();Yn(o,i,134217728,l)}Bf(i,134217728)}},Nu=function(i){if(i.tag===13){var o=Ri(i),l=Br(i,o);if(l!==null){var d=Jt();Yn(l,i,o,d)}Bf(i,o)}},Lu=function(){return Ve},Mu=function(i,o){var l=Ve;try{return Ve=i,o()}finally{Ve=l}},so=function(i,o,l){switch(o){case"input":if(Ca(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=ec(d);if(!m)throw Error(t(90));Zs(d),Ca(d,m)}}}break;case"textarea":ro(i,l);break;case"select":o=l.value,o!=null&&xr(i,!!l.multiple,o,!1)}},ls=Nf,Fa=Cs;var NP={usingClientEntryPoint:!1,Events:[ol,Do,ec,sr,Oa,Nf]},wl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LP={bundleType:wl.bundleType,version:wl.version,rendererPackageName:wl.rendererPackageName,rendererConfig:wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ba(i),i===null?null:i.stateNode},findFiberByHostInstance:wl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{fs=Fc.inject(LP),dn=Fc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NP,ln.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(o))throw Error(t(200));return VP(i,o,null,l)},ln.createRoot=function(i,o){if(!$f(i))throw Error(t(299));var l=!1,d="",m=Jv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=jf(i,1,!1,null,null,l,!1,d,m),i[Or]=o.current,rl(i.nodeType===8?i.parentNode:i),new zf(o)},ln.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ba(o),i=i===null?null:i.stateNode,i},ln.flushSync=function(i){return Cs(i)},ln.hydrate=function(i,o,l){if(!Mc(o))throw Error(t(200));return Oc(null,i,o,!0,l)},ln.hydrateRoot=function(i,o,l){if(!$f(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",T=Jv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Yv(o,null,i,1,l??null,m,!1,y,T),i[Or]=o.current,rl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Lc(o)},ln.render=function(i,o,l){if(!Mc(o))throw Error(t(200));return Oc(null,i,o,!1,l)},ln.unmountComponentAtNode=function(i){if(!Mc(i))throw Error(t(40));return i._reactRootContainer?(Cs(function(){Oc(null,null,i,!1,function(){i._reactRootContainer=null,i[Or]=null})}),!0):!1},ln.unstable_batchedUpdates=Nf,ln.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Mc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Oc(i,o,l,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var a_;function $P(){if(a_)return qf.exports;a_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qf.exports=zP(),qf.exports}var l_;function WP(){if(l_)return Uc;l_=1;var n=$P();return Uc.createRoot=n.createRoot,Uc.hydrateRoot=n.hydrateRoot,Uc}var HP=WP(),u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},qP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(E=64)),r.push(t[v],t[w],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||w==null)throw new KP;const E=a<<2|h>>4;if(r.push(E),p!==64){const S=h<<4&240|p>>2;if(r.push(S),w!==64){const R=p<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GP=function(n){const e=nT(n);return rT.encodeByteArray(e,!0)},ph=function(n){return GP(n).replace(/\./g,"")},iT=function(n){try{return rT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=()=>QP().__FIREBASE_DEFAULTS__,XP=()=>{if(typeof process>"u"||typeof u_>"u")return;const n=u_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iT(n[1]);return e&&JSON.parse(e)},Uh=()=>{try{return YP()||XP()||JP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sT=n=>{var e,t;return(t=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZP=n=>{const e=sT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oT=()=>{var n;return(n=Uh())===null||n===void 0?void 0:n.config},aT=n=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ph(JSON.stringify(t)),ph(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function rR(){var n;const e=(n=Uh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const n=Gt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function aR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uT(){try{return typeof indexedDB=="object"}catch{return!1}}function cT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}function lR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=uR,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?cR(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new rr(s,h,r)}}function cR(n,e){return n.replace(hR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hR=/\{\$([^}]+)}/g;function dR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(c_(a)&&c_(u)){if(!Wl(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function c_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Al(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Pl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fR(n,e){const t=new pR(n,e);return t.subscribe.bind(t)}class pR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");mR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Qf),s.error===void 0&&(s.error=Qf),s.complete===void 0&&(s.complete=Qf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,yR=2,vR=4*60*60*1e3,_R=.5;function h_(n,e=gR,t=yR){const r=e*Math.pow(t,n),s=Math.round(_R*r*(Math.random()-.5)*2);return Math.min(vR,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class er{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(n){return n===bs?void 0:n}function TR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const SR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},AR=ke.INFO,PR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=PR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jh{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const CR=(n,e)=>e.some(t=>n instanceof t);let d_,f_;function xR(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,Ap=new WeakMap,dT=new WeakMap,Yf=new WeakMap,gm=new WeakMap;function DR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Ui(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&hT.set(t,n)}).catch(()=>{}),gm.set(e,n),e}function VR(n){if(Ap.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Ap.set(n,e)}let Pp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||dT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bR(n){Pp=n(Pp)}function NR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Xf(this),e,...t);return dT.set(r,e.sort?e.sort():[e]),Ui(r)}:kR().includes(n)?function(...e){return n.apply(Xf(this),e),Ui(hT.get(this))}:function(...e){return Ui(n.apply(Xf(this),e))}}function LR(n){return typeof n=="function"?NR(n):(n instanceof IDBTransaction&&VR(n),CR(n,xR())?new Proxy(n,Pp):n)}function Ui(n){if(n instanceof IDBRequest)return DR(n);if(Yf.has(n))return Yf.get(n);const e=LR(n);return e!==n&&(Yf.set(n,e),gm.set(e,n)),e}const Xf=n=>gm.get(n);function fT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Ui(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ui(u.result),f.oldVersion,f.newVersion,Ui(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const MR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],Jf=new Map;function p_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=OR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||MR.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return Jf.set(e,a),a}bR(n=>({...n,get:(e,t,r)=>p_(e,t)||n.get(e,t,r),has:(e,t)=>!!p_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(UR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function UR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rp="@firebase/app",m_="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new jh("@firebase/app"),jR="@firebase/app-compat",BR="@firebase/analytics-compat",zR="@firebase/analytics",$R="@firebase/app-check-compat",WR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",KR="@firebase/database",GR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",JR="@firebase/installations",ZR="@firebase/installations-compat",eC="@firebase/messaging",tC="@firebase/messaging-compat",nC="@firebase/performance",rC="@firebase/performance-compat",iC="@firebase/remote-config",sC="@firebase/remote-config-compat",oC="@firebase/storage",aC="@firebase/storage-compat",lC="@firebase/firestore",uC="@firebase/vertexai",cC="@firebase/firestore-compat",hC="firebase",dC="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",fC={[Rp]:"fire-core",[jR]:"fire-core-compat",[zR]:"fire-analytics",[BR]:"fire-analytics-compat",[WR]:"fire-app-check",[$R]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[KR]:"fire-rtdb",[GR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[JR]:"fire-iid",[ZR]:"fire-iid-compat",[eC]:"fire-fcm",[tC]:"fire-fcm-compat",[nC]:"fire-perf",[rC]:"fire-perf-compat",[iC]:"fire-rc",[sC]:"fire-rc-compat",[oC]:"fire-gcs",[aC]:"fire-gcs-compat",[lC]:"fire-fst",[cC]:"fire-fst-compat",[uC]:"fire-vertex","fire-js":"fire-js",[hC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,pC=new Map,xp=new Map;function g_(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ir(n){const e=n.name;if(xp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,n);for(const t of mh.values())g_(t,n);for(const t of pC.values())g_(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new Hs("app","Firebase",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=dC;function pT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ji.create("bad-app-name",{appName:String(s)});if(t||(t=oT()),!t)throw ji.create("no-options");const a=mh.get(s);if(a){if(Wl(t,a.options)&&Wl(r,a.config))return a;throw ji.create("duplicate-app",{appName:s})}const u=new IR(s);for(const f of xp.values())u.addComponent(f);const h=new gC(t,r,u);return mh.set(s,h),h}function ym(n=Cp){const e=mh.get(n);if(!e&&n===Cp&&oT())return pT();if(!e)throw ji.create("no-app",{appName:n});return e}function Ln(n,e,t){var r;let s=(r=fC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(h.join(" "));return}Ir(new er(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="firebase-heartbeat-database",vC=1,Hl="firebase-heartbeat-store";let Zf=null;function mT(){return Zf||(Zf=fT(yC,vC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw ji.create("idb-open",{originalErrorMessage:n.message})})),Zf}async function _C(n){try{const t=(await mT()).transaction(Hl),r=await t.objectStore(Hl).get(gT(n));return await t.done,r}catch(e){if(e instanceof rr)Zr.warn(e.message);else{const t=ji.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function y_(n,e){try{const r=(await mT()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,gT(n)),await r.done}catch(t){if(t instanceof rr)Zr.warn(t.message);else{const r=ji.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function gT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,EC=30*24*60*60*1e3;class TC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new SC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=EC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=v_(),{heartbeatsToSend:r,unsentEntries:s}=IC(this._heartbeatsCache.heartbeats),a=ph(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function v_(){return new Date().toISOString().substring(0,10)}function IC(n,e=wC){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),__(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),__(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class SC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uT()?cT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _C(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return y_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function __(n){return ph(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(n){Ir(new er("platform-logger",e=>new FR(e),"PRIVATE")),Ir(new er("heartbeat",e=>new TC(e),"PRIVATE")),Ln(Rp,m_,n),Ln(Rp,m_,"esm2017"),Ln("fire-js","")}AC("");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,yT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,A){function P(){}P.prototype=A.prototype,V.D=A.prototype,V.prototype=new P,V.prototype.constructor=V,V.C=function(D,F,B){for(var k=Array(arguments.length-2),We=2;We<arguments.length;We++)k[We-2]=arguments[We];return A.prototype[F].apply(D,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,A,P){P||(P=0);var D=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)D[F]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(F=0;16>F;++F)D[F]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=V.g[0],P=V.g[1],F=V.g[2];var B=V.g[3],k=A+(B^P&(F^B))+D[0]+3614090360&4294967295;A=P+(k<<7&4294967295|k>>>25),k=B+(F^A&(P^F))+D[1]+3905402710&4294967295,B=A+(k<<12&4294967295|k>>>20),k=F+(P^B&(A^P))+D[2]+606105819&4294967295,F=B+(k<<17&4294967295|k>>>15),k=P+(A^F&(B^A))+D[3]+3250441966&4294967295,P=F+(k<<22&4294967295|k>>>10),k=A+(B^P&(F^B))+D[4]+4118548399&4294967295,A=P+(k<<7&4294967295|k>>>25),k=B+(F^A&(P^F))+D[5]+1200080426&4294967295,B=A+(k<<12&4294967295|k>>>20),k=F+(P^B&(A^P))+D[6]+2821735955&4294967295,F=B+(k<<17&4294967295|k>>>15),k=P+(A^F&(B^A))+D[7]+4249261313&4294967295,P=F+(k<<22&4294967295|k>>>10),k=A+(B^P&(F^B))+D[8]+1770035416&4294967295,A=P+(k<<7&4294967295|k>>>25),k=B+(F^A&(P^F))+D[9]+2336552879&4294967295,B=A+(k<<12&4294967295|k>>>20),k=F+(P^B&(A^P))+D[10]+4294925233&4294967295,F=B+(k<<17&4294967295|k>>>15),k=P+(A^F&(B^A))+D[11]+2304563134&4294967295,P=F+(k<<22&4294967295|k>>>10),k=A+(B^P&(F^B))+D[12]+1804603682&4294967295,A=P+(k<<7&4294967295|k>>>25),k=B+(F^A&(P^F))+D[13]+4254626195&4294967295,B=A+(k<<12&4294967295|k>>>20),k=F+(P^B&(A^P))+D[14]+2792965006&4294967295,F=B+(k<<17&4294967295|k>>>15),k=P+(A^F&(B^A))+D[15]+1236535329&4294967295,P=F+(k<<22&4294967295|k>>>10),k=A+(F^B&(P^F))+D[1]+4129170786&4294967295,A=P+(k<<5&4294967295|k>>>27),k=B+(P^F&(A^P))+D[6]+3225465664&4294967295,B=A+(k<<9&4294967295|k>>>23),k=F+(A^P&(B^A))+D[11]+643717713&4294967295,F=B+(k<<14&4294967295|k>>>18),k=P+(B^A&(F^B))+D[0]+3921069994&4294967295,P=F+(k<<20&4294967295|k>>>12),k=A+(F^B&(P^F))+D[5]+3593408605&4294967295,A=P+(k<<5&4294967295|k>>>27),k=B+(P^F&(A^P))+D[10]+38016083&4294967295,B=A+(k<<9&4294967295|k>>>23),k=F+(A^P&(B^A))+D[15]+3634488961&4294967295,F=B+(k<<14&4294967295|k>>>18),k=P+(B^A&(F^B))+D[4]+3889429448&4294967295,P=F+(k<<20&4294967295|k>>>12),k=A+(F^B&(P^F))+D[9]+568446438&4294967295,A=P+(k<<5&4294967295|k>>>27),k=B+(P^F&(A^P))+D[14]+3275163606&4294967295,B=A+(k<<9&4294967295|k>>>23),k=F+(A^P&(B^A))+D[3]+4107603335&4294967295,F=B+(k<<14&4294967295|k>>>18),k=P+(B^A&(F^B))+D[8]+1163531501&4294967295,P=F+(k<<20&4294967295|k>>>12),k=A+(F^B&(P^F))+D[13]+2850285829&4294967295,A=P+(k<<5&4294967295|k>>>27),k=B+(P^F&(A^P))+D[2]+4243563512&4294967295,B=A+(k<<9&4294967295|k>>>23),k=F+(A^P&(B^A))+D[7]+1735328473&4294967295,F=B+(k<<14&4294967295|k>>>18),k=P+(B^A&(F^B))+D[12]+2368359562&4294967295,P=F+(k<<20&4294967295|k>>>12),k=A+(P^F^B)+D[5]+4294588738&4294967295,A=P+(k<<4&4294967295|k>>>28),k=B+(A^P^F)+D[8]+2272392833&4294967295,B=A+(k<<11&4294967295|k>>>21),k=F+(B^A^P)+D[11]+1839030562&4294967295,F=B+(k<<16&4294967295|k>>>16),k=P+(F^B^A)+D[14]+4259657740&4294967295,P=F+(k<<23&4294967295|k>>>9),k=A+(P^F^B)+D[1]+2763975236&4294967295,A=P+(k<<4&4294967295|k>>>28),k=B+(A^P^F)+D[4]+1272893353&4294967295,B=A+(k<<11&4294967295|k>>>21),k=F+(B^A^P)+D[7]+4139469664&4294967295,F=B+(k<<16&4294967295|k>>>16),k=P+(F^B^A)+D[10]+3200236656&4294967295,P=F+(k<<23&4294967295|k>>>9),k=A+(P^F^B)+D[13]+681279174&4294967295,A=P+(k<<4&4294967295|k>>>28),k=B+(A^P^F)+D[0]+3936430074&4294967295,B=A+(k<<11&4294967295|k>>>21),k=F+(B^A^P)+D[3]+3572445317&4294967295,F=B+(k<<16&4294967295|k>>>16),k=P+(F^B^A)+D[6]+76029189&4294967295,P=F+(k<<23&4294967295|k>>>9),k=A+(P^F^B)+D[9]+3654602809&4294967295,A=P+(k<<4&4294967295|k>>>28),k=B+(A^P^F)+D[12]+3873151461&4294967295,B=A+(k<<11&4294967295|k>>>21),k=F+(B^A^P)+D[15]+530742520&4294967295,F=B+(k<<16&4294967295|k>>>16),k=P+(F^B^A)+D[2]+3299628645&4294967295,P=F+(k<<23&4294967295|k>>>9),k=A+(F^(P|~B))+D[0]+4096336452&4294967295,A=P+(k<<6&4294967295|k>>>26),k=B+(P^(A|~F))+D[7]+1126891415&4294967295,B=A+(k<<10&4294967295|k>>>22),k=F+(A^(B|~P))+D[14]+2878612391&4294967295,F=B+(k<<15&4294967295|k>>>17),k=P+(B^(F|~A))+D[5]+4237533241&4294967295,P=F+(k<<21&4294967295|k>>>11),k=A+(F^(P|~B))+D[12]+1700485571&4294967295,A=P+(k<<6&4294967295|k>>>26),k=B+(P^(A|~F))+D[3]+2399980690&4294967295,B=A+(k<<10&4294967295|k>>>22),k=F+(A^(B|~P))+D[10]+4293915773&4294967295,F=B+(k<<15&4294967295|k>>>17),k=P+(B^(F|~A))+D[1]+2240044497&4294967295,P=F+(k<<21&4294967295|k>>>11),k=A+(F^(P|~B))+D[8]+1873313359&4294967295,A=P+(k<<6&4294967295|k>>>26),k=B+(P^(A|~F))+D[15]+4264355552&4294967295,B=A+(k<<10&4294967295|k>>>22),k=F+(A^(B|~P))+D[6]+2734768916&4294967295,F=B+(k<<15&4294967295|k>>>17),k=P+(B^(F|~A))+D[13]+1309151649&4294967295,P=F+(k<<21&4294967295|k>>>11),k=A+(F^(P|~B))+D[4]+4149444226&4294967295,A=P+(k<<6&4294967295|k>>>26),k=B+(P^(A|~F))+D[11]+3174756917&4294967295,B=A+(k<<10&4294967295|k>>>22),k=F+(A^(B|~P))+D[2]+718787259&4294967295,F=B+(k<<15&4294967295|k>>>17),k=P+(B^(F|~A))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+A&4294967295,V.g[1]=V.g[1]+(F+(k<<21&4294967295|k>>>11))&4294967295,V.g[2]=V.g[2]+F&4294967295,V.g[3]=V.g[3]+B&4294967295}r.prototype.u=function(V,A){A===void 0&&(A=V.length);for(var P=A-this.blockSize,D=this.B,F=this.h,B=0;B<A;){if(F==0)for(;B<=P;)s(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<A;)if(D[F++]=V.charCodeAt(B++),F==this.blockSize){s(this,D),F=0;break}}else for(;B<A;)if(D[F++]=V[B++],F==this.blockSize){s(this,D),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var A=1;A<V.length-8;++A)V[A]=0;var P=8*this.o;for(A=V.length-8;A<V.length;++A)V[A]=P&255,P/=256;for(this.u(V),V=Array(16),A=P=0;4>A;++A)for(var D=0;32>D;D+=8)V[P++]=this.g[A]>>>D&255;return V};function a(V,A){var P=h;return Object.prototype.hasOwnProperty.call(P,V)?P[V]:P[V]=A(V)}function u(V,A){this.h=A;for(var P=[],D=!0,F=V.length-1;0<=F;F--){var B=V[F]|0;D&&B==A||(P[F]=B,D=!1)}this.g=P}var h={};function f(V){return-128<=V&&128>V?a(V,function(A){return new u([A|0],0>A?-1:0)}):new u([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return x(p(-V));for(var A=[],P=1,D=0;V>=P;D++)A[D]=V/P|0,P*=4294967296;return new u(A,0)}function v(V,A){if(V.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(V.charAt(0)=="-")return x(v(V.substring(1),A));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(A,8)),D=w,F=0;F<V.length;F+=8){var B=Math.min(8,V.length-F),k=parseInt(V.substring(F,F+B),A);8>B?(B=p(Math.pow(A,B)),D=D.j(B).add(p(k))):(D=D.j(P),D=D.add(p(k)))}return D}var w=f(0),E=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(b(this))return-x(this).m();for(var V=0,A=1,P=0;P<this.g.length;P++){var D=this.i(P);V+=(0<=D?D:4294967296+D)*A,A*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(R(this))return"0";if(b(this))return"-"+x(this).toString(V);for(var A=p(Math.pow(V,6)),P=this,D="";;){var F=re(P,A).g;P=L(P,F.j(A));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(V);if(P=F,R(P))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function R(V){if(V.h!=0)return!1;for(var A=0;A<V.g.length;A++)if(V.g[A]!=0)return!1;return!0}function b(V){return V.h==-1}n.l=function(V){return V=L(this,V),b(V)?-1:R(V)?0:1};function x(V){for(var A=V.g.length,P=[],D=0;D<A;D++)P[D]=~V.g[D];return new u(P,~V.h).add(E)}n.abs=function(){return b(this)?x(this):this},n.add=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0,F=0;F<=A;F++){var B=D+(this.i(F)&65535)+(V.i(F)&65535),k=(B>>>16)+(this.i(F)>>>16)+(V.i(F)>>>16);D=k>>>16,B&=65535,k&=65535,P[F]=k<<16|B}return new u(P,P[P.length-1]&-2147483648?-1:0)};function L(V,A){return V.add(x(A))}n.j=function(V){if(R(this)||R(V))return w;if(b(this))return b(V)?x(this).j(x(V)):x(x(this).j(V));if(b(V))return x(this.j(x(V)));if(0>this.l(S)&&0>V.l(S))return p(this.m()*V.m());for(var A=this.g.length+V.g.length,P=[],D=0;D<2*A;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var F=0;F<V.g.length;F++){var B=this.i(D)>>>16,k=this.i(D)&65535,We=V.i(F)>>>16,pt=V.i(F)&65535;P[2*D+2*F]+=k*pt,q(P,2*D+2*F),P[2*D+2*F+1]+=B*pt,q(P,2*D+2*F+1),P[2*D+2*F+1]+=k*We,q(P,2*D+2*F+1),P[2*D+2*F+2]+=B*We,q(P,2*D+2*F+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new u(P,0)};function q(V,A){for(;(V[A]&65535)!=V[A];)V[A+1]+=V[A]>>>16,V[A]&=65535,A++}function $(V,A){this.g=V,this.h=A}function re(V,A){if(R(A))throw Error("division by zero");if(R(V))return new $(w,w);if(b(V))return A=re(x(V),A),new $(x(A.g),x(A.h));if(b(A))return A=re(V,x(A)),new $(x(A.g),A.h);if(30<V.g.length){if(b(V)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var P=E,D=A;0>=D.l(V);)P=ne(P),D=ne(D);var F=ae(P,1),B=ae(D,1);for(D=ae(D,2),P=ae(P,2);!R(D);){var k=B.add(D);0>=k.l(V)&&(F=F.add(P),B=k),D=ae(D,1),P=ae(P,1)}return A=L(V,F.j(A)),new $(F,A)}for(F=w;0<=V.l(A);){for(P=Math.max(1,Math.floor(V.m()/A.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=p(P),k=B.j(A);b(k)||0<k.l(V);)P-=D,B=p(P),k=B.j(A);R(B)&&(B=E),F=F.add(B),V=L(V,k)}return new $(F,V)}n.A=function(V){return re(this,V).h},n.and=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)&V.i(D);return new u(P,this.h&V.h)},n.or=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)|V.i(D);return new u(P,this.h|V.h)},n.xor=function(V){for(var A=Math.max(this.g.length,V.g.length),P=[],D=0;D<A;D++)P[D]=this.i(D)^V.i(D);return new u(P,this.h^V.h)};function ne(V){for(var A=V.g.length+1,P=[],D=0;D<A;D++)P[D]=V.i(D)<<1|V.i(D-1)>>>31;return new u(P,V.h)}function ae(V,A){var P=A>>5;A%=32;for(var D=V.g.length-P,F=[],B=0;B<D;B++)F[B]=0<A?V.i(B+P)>>>A|V.i(B+P+1)<<32-A:V.i(B+P);return new u(F,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Bi=u}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vT,Rl,_T,Jc,kp,wT,ET,TT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var z=c[I];if(!(z in _))break e;_=_[z]}c=c[c.length-1],I=_[c],g=g(I),g!=I&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,I=!1,z={next:function(){if(!I&&_<c.length){var G=_++;return{value:g(G,c[G]),done:!1}}return I=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,I),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function S(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function R(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(I,z,G){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return g.prototype[z].apply(I,se)}}function b(c){const g=c.length;if(0<g){const _=Array(g);for(let I=0;I<g;I++)_[I]=c[I];return _}return[]}function x(c,g){for(let _=1;_<arguments.length;_++){const I=arguments[_];if(f(I)){const z=c.length||0,G=I.length||0;c.length=z+G;for(let se=0;se<G;se++)c[z+se]=I[se]}else c.push(I)}}class L{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ne=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function ae(c,g,_){for(const I in c)g.call(_,c[I],I,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,I;for(let z=1;z<arguments.length;z++){I=arguments[z];for(_ in I)c[_]=I[_];for(let G=0;G<P.length;G++)_=P[G],Object.prototype.hasOwnProperty.call(I,_)&&(c[_]=I[_])}}function F(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){h.setTimeout(()=>{throw c},0)}function k(){var c=ce;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class We{constructor(){this.h=this.g=null}add(g,_){const I=pt.get();I.set(g,_),this.h?this.h.next=I:this.g=I,this.h=I}}var pt=new L(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Q=!1,ce=new We,oe=()=>{const c=h.Promise.resolve(void 0);le=()=>{c.then(j)}};var j=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){B(_)}var g=pt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Q=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function Ce(c,g){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ne){e:{try{re(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ne[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}R(Ce,ye);var Ne={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(c,g,_,I,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!I,this.ha=z,this.key=++je,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rr(c){this.src=c,this.g={},this.h=0}Rr.prototype.add=function(c,g,_,I,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=oi(c,g,I,z);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new He(g,this.src,G,!!I,z),g.fa=_,c.push(g)),g};function Zs(c,g){var _=g.type;if(_ in c.g){var I=c.g[_],z=Array.prototype.indexOf.call(I,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(I,z,1),G&&(At(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function oi(c,g,_,I){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==I)return z}return-1}var is="closure_lm_"+(1e6*Math.random()|0),eo={};function Ra(c,g,_,I,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Ra(c,g[G],_,I,z);return null}return _=ka(_),c&&c[Ue]?c.K(g,_,p(I)?!!I.capture:!1,z):Ca(c,g,_,!1,I,z)}function Ca(c,g,_,I,z,G){if(!g)throw Error("Invalid event type");var se=p(z)?!!z.capture:!!z,ze=no(c);if(ze||(c[is]=ze=new Rr(c)),_=ze.add(g,_,I,se,G),_.proxy)return _;if(I=Su(),_.proxy=I,I.src=c,I.listener=_,c.addEventListener)Re||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),I,z);else if(c.attachEvent)c.attachEvent(xr(g.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Su(){function c(_){return g.call(c.src,c.listener,_)}const g=xa;return c}function to(c,g,_,I,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)to(c,g[G],_,I,z);else I=p(I)?!!I.capture:!!I,_=ka(_),c&&c[Ue]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],_=oi(G,_,I,z),-1<_&&(At(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=no(c))&&(g=c.g[g.toString()],c=-1,g&&(c=oi(g,_,I,z)),(_=-1<c?g[c]:null)&&Cr(_))}function Cr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ue])Zs(g.i,c);else{var _=c.type,I=c.proxy;g.removeEventListener?g.removeEventListener(_,I,c.capture):g.detachEvent?g.detachEvent(xr(_),I):g.addListener&&g.removeListener&&g.removeListener(I),(_=no(g))?(Zs(_,c),_.h==0&&(_.src=null,g[is]=null)):At(c)}}}function xr(c){return c in eo?eo[c]:eo[c]="on"+c}function xa(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,I=c.ha||c.src;c.fa&&Cr(c),c=_.call(I,g)}return c}function no(c){return c=c[is],c instanceof Rr?c:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(c){return typeof c=="function"?c:(c[ro]||(c[ro]=function(g){return c.handleEvent(g)}),c[ro])}function gt(){Y.call(this),this.i=new Rr(this),this.M=this,this.F=null}R(gt,Y),gt.prototype[Ue]=!0,gt.prototype.removeEventListener=function(c,g,_,I){to(this,c,g,_,I)};function yt(c,g){var _,I=c.F;if(I)for(_=[];I;I=I.F)_.push(I);if(c=c.M,I=g.type||g,typeof g=="string")g=new ye(g,c);else if(g instanceof ye)g.target=g.target||c;else{var z=g;g=new ye(I,c),D(g,z)}if(z=!0,_)for(var G=_.length-1;0<=G;G--){var se=g.g=_[G];z=kr(se,I,!0,g)&&z}if(se=g.g=c,z=kr(se,I,!0,g)&&z,z=kr(se,I,!1,g)&&z,_)for(G=0;G<_.length;G++)se=g.g=_[G],z=kr(se,I,!1,g)&&z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],I=0;I<_.length;I++)At(_[I]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,_,I){return this.i.add(String(c),g,!1,_,I)},gt.prototype.L=function(c,g,_,I){return this.i.add(String(c),g,!0,_,I)};function kr(c,g,_,I){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==_){var ze=se.listener,vt=se.ha||se.src;se.fa&&Zs(c.i,se),z=ze.call(vt,I)!==!1&&z}}return z&&!I.defaultPrevented}function Da(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ai(c){c.g=Da(()=>{c.g=null,c.i&&(c.i=!1,ai(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ss extends Y{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ai(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function os(c){Y.call(this),this.h=c,this.g={}}R(os,Y);var Va=[];function ba(c){ae(c.g,function(g,_){this.g.hasOwnProperty(_)&&Cr(g)},c),c.g={}}os.prototype.N=function(){os.aa.N.call(this),ba(this)},os.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=h.JSON.stringify,La=h.JSON.parse,Ma=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function as(){}as.prototype.h=null;function io(c){return c.h||(c.h=c.i())}function so(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){ye.call(this,"d")}R(ir,ye);function oo(){ye.call(this,"c")}R(oo,ye);var sr={},Oa=null;function ls(){return Oa=Oa||new gt}sr.La="serverreachability";function Fa(c){ye.call(this,sr.La,c)}R(Fa,ye);function Dr(c){const g=ls();yt(g,new Fa(g))}sr.STAT_EVENT="statevent";function Ua(c,g){ye.call(this,sr.STAT_EVENT,c),this.stat=g}R(Ua,ye);function at(c){const g=ls();yt(g,new Ua(g,c))}sr.Ma="timingevent";function ao(c,g){ye.call(this,sr.Ma,c),this.size=g}R(ao,ye);function Mn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function us(){this.g=!0}us.prototype.xa=function(){this.g=!1};function cs(c,g,_,I,z,G){c.info(function(){if(c.g)if(G)for(var se="",ze=G.split("&"),vt=0;vt<ze.length;vt++){var Le=ze[vt].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var ht=Pt.split("_");se=2<=ht.length&&ht[1]=="type"?se+(Pt+"="+Le+"&"):se+(Pt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+I+") [attempt "+z+"]: "+g+`
`+_+`
`+se})}function lo(c,g,_,I,z,G,se){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+z+"]: "+g+`
`+_+`
`+G+" "+se})}function On(c,g,_,I){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+yd(c,_)+(I?" "+I:"")})}function ja(c,g){c.info(function(){return"TIMEOUT: "+g})}us.prototype.info=function(){};function yd(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var I=_[c];if(!(2>I.length)){var z=I[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return Na(_)}catch{return g}}var uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function hs(){}R(hs,as),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},Fn=new hs;function Un(c,g,_,I){this.j=c,this.i=g,this.l=_,this.R=I||1,this.U=new os(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pu}function Pu(){this.i=null,this.g="",this.h=!1}var Ba={},co={};function ho(c,g,_){c.L=1,c.v=di(fn(g)),c.m=_,c.P=!0,za(c,null)}function za(c,g){c.F=Date.now(),qe(c),c.A=fn(c.v);var _=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),pi(_.i,"t",I),c.C=0,_=c.j.J,c.h=new Pu,c.g=Wu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new ss(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,I=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Va[0]=z.toString()),z=Va);for(var G=0;G<z.length;G++){var se=Ra(_,z[G],I||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Dr(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&tn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ht=tn(this.g);var g=this.g.Ba();const Pn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Ga(this.g)))){this.J||ht!=4||g==7||(g==8||0>=Pn?Dr(3):Dr(2)),ds(this);var _=this.g.Z();this.X=_;t:if(Ru(this)){var I=Ga(this.g);c="";var z=I.length,G=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),li(this);var se="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(I[g],{stream:!(G&&g==z-1)});I.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,lo(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,vt=this.g;if((ze=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var Le=ze;break t}}Le=null}if(_=Le)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$a(this,_);else{this.o=!1,this.s=3,at(12),Sn(this),li(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<se.length;)if(mn=vd(this,se),mn==co){ht==4&&(this.s=4,at(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Ba){this.s=4,at(15),On(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,mn,null),$a(this,mn);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||se.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,se,"[Invalid Chunked Response]"),Sn(this),li(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ya(Pt),Pt.M=!0,at(11))}}else On(this.i,this.l,se,null),$a(this,se);ht==4&&Sn(this),this.o&&!this.J&&(ht==4?Io(this.j,this):(this.o=!1,qe(this)))}else vo(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Sn(this),li(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vd(c,g){var _=c.C,I=g.indexOf(`
`,_);return I==-1?co:(_=Number(g.substring(_,I)),isNaN(_)?Ba:(I+=1,I+_>g.length?co:(g=g.slice(I,I+_),c.C=I+_,g)))}Un.prototype.cancel=function(){this.J=!0,Sn(this)};function qe(c){c.S=Date.now()+c.I,Cu(c,c.I)}function Cu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(E(c.ba,c),g)}function ds(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ja(this.i,this.A),this.L!=2&&(Dr(),at(17)),Sn(this),this.s=2,li(this)):Cu(this,this.S-c)};function li(c){c.j.G==0||c.J||Io(c.j,c)}function Sn(c){ds(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ba(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function $a(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Qt(_.h,c))){if(!c.K&&Qt(_.h,c)&&_.G==3){try{var I=_.Da.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var z=I;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)To(_),Wn(_);else break e;Eo(_),at(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mn(E(_.Za,_),6e3));if(1>=ku(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mr(_,11)}else if((c.K||_.g==c)&&To(_),!q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Le=z[g];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Pt=Le[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const ht=Le[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const Pn=Le[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(I=1.5*Pn,_.L=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const mn=c.g;if(mn){const _s=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var G=I.h;G.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Wa(G,G.h),G.h=null))}if(I.D){const Ao=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ao&&(I.ya=Ao,$e(I.I,I.D,Ao))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),I=_;var se=c;if(I.qa=$u(I,I.J?I.ia:null,I.W),se.K){Du(I.h,se);var ze=se,vt=I.L;vt&&(ze.I=vt),ze.B&&(ds(ze),qe(ze)),I.g=se}else vs(I);0<_.i.length&&ur(_)}else Le[0]!="stop"&&Le[0]!="close"||Mr(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mr(_,7):Vt(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}Dr(4)}catch{}}var xu=class{constructor(c,g){this.g=c,this.map=g}};function fs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Wa(c,g){c.g?c.g.add(g):c.h=g}function Du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}fs.prototype.cancel=function(){if(this.i=Vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return b(c.i)}function fo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,I=0;I<_;I++)g.push(c[I]);return g}g=[],_=0;for(I in c)g[_++]=c[I];return g}function po(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const I in c)g[_++]=I;return g}}}function ui(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=po(c),I=fo(c),z=I.length,G=0;G<z;G++)g.call(void 0,I[G],_&&_[G],c)}var ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _d(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var I=c[_].indexOf("="),z=null;if(0<=I){var G=c[_].substring(0,I);z=c[_].substring(I+1)}else G=c[_];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,ci(this,c.s),this.l=c.l;var g=c.i,_=new or;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),hi(this,_),this.m=c.m}else c&&(g=String(c).match(ps))?(this.h=!1,ms(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ci(this,g[4]),this.l=Ve(g[5]||"",!0),hi(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Vr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(fi(g,mo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(fi(g,mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(fi(_,_.charAt(0)=="/"?Lu:Nu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",fi(_,Ha)),c.join("")};function fn(c){return new Vr(c)}function ms(c,g,_){c.j=_?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ci(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function hi(c,g,_){g instanceof or?(c.i=g,ar(c.i,c.h)):(_||(g=fi(g,Mu)),c.i=new or(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function di(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,bu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var mo=/[#\/\?@]/g,Nu=/[#\?:]/g,Lu=/[#\?]/g,Mu=/[#\?@]/g,Ha=/#/g;function or(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&_d(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=or.prototype,n.add=function(c,g){Dt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function jn(c,g){Dt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Dt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(_,I){_.forEach(function(z){c.call(g,z,I,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let I=0;I<g.length;I++){const z=c[I];for(let G=0;G<z.length;G++)_.push(g[I])}return _},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=An(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function pi(c,g,_){jn(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),b(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var I=g[_];const G=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var z=G;se[I]!==""&&(z+="="+encodeURIComponent(String(se[I]))),c.push(z)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ar(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,I){var z=I.toLowerCase();I!=z&&(jn(this,I),pi(this,z,_))},c)),c.j=g}function wd(c,g){const _=new us;if(h.Image){const I=new Image;I.onload=S(en,_,"TestLoadImage: loaded",!0,g,I),I.onerror=S(en,_,"TestLoadImage: error",!1,g,I),I.onabort=S(en,_,"TestLoadImage: abort",!1,g,I),I.ontimeout=S(en,_,"TestLoadImage: timeout",!1,g,I),h.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else g(!1)}function Ou(c,g){const _=new us,I=new AbortController,z=setTimeout(()=>{I.abort(),en(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:I.signal}).then(G=>{clearTimeout(z),G.ok?en(_,"TestPingServer: ok",!0,g):en(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),en(_,"TestPingServer: error",!1,g)})}function en(c,g,_,I,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),I(_)}catch{}}function Ed(){this.g=new Ma}function Fu(c,g,_){const I=_||"";try{ui(c,function(z,G){let se=z;p(z)&&(se=Na(z)),g.push(I+G+"="+encodeURIComponent(se))})}catch(z){throw g.push(I+"type="+encodeURIComponent("_badmap")),z}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}R(br,as),br.prototype.g=function(){return new gs(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function gs(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(gs,gt),n=gs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&Uu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let g="";return ae(c,function(_,I){g+=I,g+=":",g+=_,g+=`\r
`}),g}function mi(c,g,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function Xe(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Xe,gt);var Td=/^https?$/i,qa=["POST","PUT"];n=Xe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?io(this.o):io(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){ys(this,G);return}if(c=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var z in I)_.set(z,I[z]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const G of I.keys())_.set(G,I.get(G));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(qa,g,void 0))||I||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ys(this,G)}};function ys(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,go(c),pn(c)}function go(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},n.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)Da(c.Ea,0,c);else if(yt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var I;if(I=se===0){var z=String(c.D).match(ps)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),I=!Td.test(z?z.toLowerCase():"")}_=I}if(_)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var G=2<tn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",go(c)}}finally{pn(c)}}}}function pn(c,g){if(c.g){yo(c);const _=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{_.onreadystatechange=I}catch{}}}function yo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),La(g)}};function Ga(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(c){const g={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(q(c[I]))continue;var _=F(c[I]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[z]||[];g[z]=G,G.push(_)}V(g,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Qa(c){this.Aa=0,this.i=[],this.j=new us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,c),this.cb=lr("retryDelaySeedMs",1e4,c),this.Wa=lr("forwardChannelMaxRetries",2,c),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fs(c&&c.concurrentRequestLimit),this.Da=new Ed,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Qa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,I){at(0),this.W=c,this.H=g||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.I=$u(this,null,this.W),ur(this)};function Vt(c){if(_o(c),c.G==3){var g=c.U++,_=fn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Lr(c,_),g=new Un(c,c.j,g),g.L=2,g.v=di(fn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=Wu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}zu(c)}function Wn(c){c.g&&(Ya(c),c.g.cancel(),c.g=null)}function _o(c){Wn(c),c.u&&(h.clearTimeout(c.u),c.u=null),To(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ur(c){if(!dn(c.h)&&!c.s){c.s=!0;var g=c.Ga;le||oe(),Q||(le(),Q=!0),ce.add(g,c),c.B=0}}function Id(c,g){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(E(c.Ga,c,g),Bu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Un(this,this.j,c);let G=this.o;if(this.S&&(G?(G=A(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=gi(this,z,g),_=fn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Lr(this,_),G&&(this.O?g="headers="+encodeURIComponent(String(Nr(G)))+"&"+g:this.m&&mi(_,this.m,G)),Wa(this.h,z),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),z.T=!0,ho(z,_,null)):ho(z,_,g),this.G=2}}else this.G==3&&(c?wo(this,c):this.i.length==0||dn(this.h)||wo(this))};function wo(c,g){var _;g?_=g.l:_=c.U++;const I=fn(c.I);$e(I,"SID",c.K),$e(I,"RID",_),$e(I,"AID",c.T),Lr(c,I),c.m&&c.o&&mi(I,c.m,c.o),_=new Un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=gi(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Wa(c.h,_),ho(_,I,g)}function Lr(c,g){c.H&&ae(c.H,function(_,I){$e(g,I,_)}),c.l&&ui({},function(_,I){$e(g,I,_)})}function gi(c,g,_){_=Math.min(c.i.length,_);var I=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let ze=!0;for(let vt=0;vt<_;vt++){let Le=z[vt].g;const Pt=z[vt].map;if(Le-=G,0>Le)G=Math.max(0,z[vt].g-100),ze=!1;else try{Fu(Pt,se,"req"+Le+"_")}catch{I&&I(Pt)}}if(ze){I=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,I}function vs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;le||oe(),Q||(le(),Q=!0),ce.add(g,c),c.v=0}}function Eo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(E(c.Fa,c),Bu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Wn(this),ju(this))};function Ya(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=fn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Lr(c,g),c.m&&c.o&&mi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=di(fn(g)),_.m=null,_.P=!0,za(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),Eo(this),at(19))};function To(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Io(c,g){var _=null;if(c.g==g){To(c),Ya(c),c.g=null;var I=2}else if(Qt(c.h,g))_=g.D,Du(c.h,g),I=1;else return;if(c.G!=0){if(g.o)if(I==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;I=ls(),yt(I,new ao(I,_)),ur(c)}else vs(c);else if(z=g.s,z==3||z==0&&0<g.X||!(I==1&&Id(c,g)||I==2&&Eo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Bu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Mr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),I=c.Xa;const z=!I;I=new Vr(I||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ms(I,"https"),di(I),z?wd(I.toString(),_):Ou(I.toString(),_)}else at(2);c.G=0,c.l&&c.l.sa(g),zu(c),_o(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const g=Vu(c.h);(g.length!=0||c.i.length!=0)&&(x(c.ka,g),x(c.ka,c.i),c.h.i.length=0,b(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,_){var I=_ instanceof Vr?fn(_):new Vr(_);if(I.g!="")g&&(I.g=g+"."+I.g),ci(I,I.s);else{var z=h.location;I=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new Vr(null);I&&ms(G,I),g&&(G.g=g),z&&ci(G,z),_&&(G.l=_),I=G}return _=c.D,g=c.ya,_&&g&&$e(I,_,g),$e(I,"VER",c.la),Lr(c,I),I}function Wu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Xe(new br({eb:_})):new Xe(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xa(){}n=Xa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){gt.call(this),this.g=new Qa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new cr(this)}R(Yt,gt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Vt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Na(c),c=_);g.i.push(new xu(g.Ya++,c)),g.G==3&&ur(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Vt(this.g),delete this.g,Yt.aa.N.call(this)};function Hu(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}R(Hu,ir);function qu(){oo.call(this),this.status=1}R(qu,oo);function cr(c){this.g=c}R(cr,Xa),cr.prototype.ua=function(){yt(this.g,"a")},cr.prototype.ta=function(c){yt(this.g,new Hu(c))},cr.prototype.sa=function(c){yt(this.g,new qu)},cr.prototype.ra=function(){yt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,TT=function(){return new So},ET=function(){return ls()},wT=sr,kp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,Jc=uo,Au.COMPLETE="complete",_T=Au,so.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Rl=so,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,vT=Xe}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let va="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new jh("@firebase/firestore");function Ko(){return js.logLevel}function he(n,...e){if(js.logLevel<=ke.DEBUG){const t=e.map(vm);js.debug(`Firestore (${va}): ${n}`,...t)}}function ei(n,...e){if(js.logLevel<=ke.ERROR){const t=e.map(vm);js.error(`Firestore (${va}): ${n}`,...t)}}function aa(n,...e){if(js.logLevel<=ke.WARN){const t=e.map(vm);js.warn(`Firestore (${va}): ${n}`,...t)}}function vm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n="Unexpected state"){const e=`FIRESTORE (${va}) INTERNAL ASSERTION FAILED: `+n;throw ei(e),new Error(e)}function Be(n,e){n||Se()}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class RC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class CC{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gr,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Ht(e)}}class xC{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kC{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new xC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Be(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string"),this.R=t.token,new DC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=bC(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%e.length))}return r}}function be(n,e){return n<e?-1:n>e?1:0}function la(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Tt(0,0))}static max(){return new Ae(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=mr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),s=mr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?mr.extractNumericId(e).compare(mr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bi.fromString(e.substring(4,e.length-2))}}class Ze extends mr{construct(e,t,r){return new Ze(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const NC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends mr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return NC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(Ze.fromString(e))}static fromName(e){return new we(Ze.fromString(e).popFirst(5))}static empty(){return new we(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new Ze(e.slice()))}}function LC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Tt(t+1,0):new Tt(t,r));return new $i(s,we.empty(),e)}function MC(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $i(Ae.min(),we.empty(),-1)}static max(){return new $i(Ae.max(),we.empty(),-1)}}function OC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==FC)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(s=>s?X.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new X((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,t){return new X((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function jC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bh.oe=-1;function zh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function BC(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=T_(e)),e=$C(n.get(t),e);return T_(e)}function $C(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function T_(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ji(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Mt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Mt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Mt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new _n([])}unionWith(e){let t=new It(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(n){if(Be(!!n),typeof n=="string"){let e=0;const t=WC.exec(n);if(Be(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function $h(n){const e=n.mapValue.fields.__previous_value__;return _m(e)?$h(e):e}function ql(n){const e=Wi(n.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t,r,s,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class Kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_m(n)?4:KC(n)?9007199254740991:qC(n)?10:11:Se()}function Sr(n,e){if(n===e)return!0;const t=qi(n);if(t!==qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Wi(s.timestampValue),h=Wi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Hi(s.bytesValue).isEqual(Hi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return ct(s.geoPointValue.latitude)===ct(a.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return ct(s.integerValue)===ct(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=ct(s.doubleValue),h=ct(a.doubleValue);return u===h?gh(u)===gh(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(I_(u)!==I_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Sr(u[f],h[f])))return!1;return!0}(n,e);default:return Se()}}function Gl(n,e){return(n.values||[]).find(t=>Sr(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=qi(n),r=qi(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ct(a.integerValue||a.doubleValue),f=ct(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return A_(n.timestampValue,e.timestampValue);case 4:return A_(ql(n),ql(e));case 5:return be(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Hi(a),f=Hi(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=be(h[p],f[p]);if(v!==0)return v}return be(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=be(ct(a.latitude),ct(u.latitude));return h!==0?h:be(ct(a.longitude),ct(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return P_(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const w=a.fields||{},E=u.fields||{},S=(h=w.value)===null||h===void 0?void 0:h.arrayValue,R=(f=E.value)===null||f===void 0?void 0:f.arrayValue,b=be(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=R==null?void 0:R.values)===null||v===void 0?void 0:v.length)||0);return b!==0?b:P_(S,R)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===zc.mapValue&&u===zc.mapValue)return 0;if(a===zc.mapValue)return 1;if(u===zc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=be(f[w],v[w]);if(E!==0)return E;const S=ua(h[f[w]],p[v[w]]);if(S!==0)return S}return be(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Se()}}function A_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Wi(n),r=Wi(e),s=be(t.seconds,r.seconds);return s!==0?s:be(t.nanos,r.nanos)}function P_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ua(t[s],r[s]);if(a)return a}return be(t.length,r.length)}function ca(n){return Dp(n)}function Dp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Wi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Dp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Dp(t.fields[u])}`;return s+"}"}(n.mapValue):Se()}function Zc(n){switch(qi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(n);return e?16+Zc(e):16;case 5:return 2*n.stringValue.length;case 6:return Hi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Zc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Ji(r.fields,(a,u)=>{s+=a.length+Zc(u)}),s}(n.mapValue);default:throw Se()}}function Vp(n){return!!n&&"integerValue"in n}function wm(n){return!!n&&"arrayValue"in n}function R_(n){return!!n&&"nullValue"in n}function C_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eh(n){return!!n&&"mapValue"in n}function qC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ji(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=Ot.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Nl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];eh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Ji(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new cn(Nl(this.value))}}function RT(n){const e=[];return Ji(n.fields,(t,r)=>{const s=new Ot([t]);if(eh(r)){const a=RT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new qt(e,0,Ae.min(),Ae.min(),Ae.min(),cn.empty(),0)}static newFoundDocument(e,t,r,s){return new qt(e,1,t,Ae.min(),r,s,0)}static newNoDocument(e,t){return new qt(e,2,t,Ae.min(),Ae.min(),cn.empty(),0)}static newUnknownDocument(e,t){return new qt(e,3,t,Ae.min(),Ae.min(),cn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.position=e,this.inclusive=t}}function x_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=we.comparator(we.fromName(u.referenceValue),t.key):r=ua(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function k_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function GC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{}class Et extends CT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YC(e,t,r):t==="array-contains"?new ZC(e,r):t==="in"?new ex(e,r):t==="not-in"?new tx(e,r):t==="array-contains-any"?new nx(e,r):new Et(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XC(e,r):new JC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ua(t,this.value)):t!==null&&qi(this.value)===qi(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends CT{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ar(e,t)}matches(e){return xT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xT(n){return n.op==="and"}function kT(n){return QC(n)&&xT(n)}function QC(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function bp(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(kT(n))return n.filters.map(e=>bp(e)).join(",");{const e=n.filters.map(t=>bp(t)).join(",");return`${n.op}(${e})`}}function DT(n,e){return n instanceof Et?function(r,s){return s instanceof Et&&r.op===s.op&&r.field.isEqual(s.field)&&Sr(r.value,s.value)}(n,e):n instanceof Ar?function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&DT(u,s.filters[h]),!0):!1}(n,e):void Se()}function VT(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof Ar?function(t){return t.op.toString()+" {"+t.getFilters().map(VT).join(" ,")+"}"}(n):"Filter"}class YC extends Et{constructor(e,t,r){super(e,t,r),this.key=we.fromName(r.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class XC extends Et{constructor(e,t){super(e,"in",t),this.keys=bT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JC extends Et{constructor(e,t){super(e,"not-in",t),this.keys=bT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>we.fromName(r.referenceValue))}class ZC extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wm(t)&&Gl(t.arrayValue,this.value)}}class ex extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Gl(this.value.arrayValue,t)}}class tx extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Gl(this.value.arrayValue,t)}}class nx extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function D_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new rx(n,e,t,r,s,a,u)}function Em(n){const e=Pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ca(r)).join(",")),e.ue=t}return e.ue}function Tm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!k_(n.startAt,e.startAt)&&k_(n.endAt,e.endAt)}function Np(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ix(n,e,t,r,s,a,u,h){return new Wh(n,e,t,r,s,a,u,h)}function Im(n){return new Wh(n)}function V_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sx(n){return n.collectionGroup!==null}function Ll(n){const e=Pe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new It(Ot.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new vh(a,r))}),t.has(Ot.keyField().canonicalString())||e.ce.push(new vh(Ot.keyField(),r))}return e.ce}function yr(n){const e=Pe(n);return e.le||(e.le=ox(e,Ll(n))),e.le}function ox(n,e){if(n.limitType==="F")return D_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new vh(s.field,a)});const t=n.endAt?new yh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yh(n.startAt.position,n.startAt.inclusive):null;return D_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Lp(n,e,t){return new Wh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hh(n,e){return Tm(yr(n),yr(e))&&n.limitType===e.limitType}function NT(n){return`${Em(yr(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>VT(s)).join(", ")}]`),zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ca(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ca(s)).join(",")),`Target(${r})`}(yr(n))}; limitType=${n.limitType})`}function qh(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):we.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Ll(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=x_(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Ll(r),s)||r.endAt&&!function(u,h,f){const p=x_(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Ll(r),s))}(n,e)}function ax(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LT(n){return(e,t)=>{let r=!1;for(const s of Ll(n)){const a=lx(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function lx(n,e,t){const r=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ua(f,p):Se()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new it(we.comparator);function ti(){return ux}const MT=new it(we.comparator);function Cl(...n){let e=MT;for(const t of n)e=e.insert(t.key,t);return e}function OT(n){let e=MT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ms(){return Ml()}function FT(){return Ml()}function Ml(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const cx=new it(we.comparator),hx=new It(we.comparator);function De(...n){let e=hx;for(const t of n)e=e.add(t);return e}const dx=new It(be);function fx(){return dx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function UT(n){return{integerValue:""+n}}function jT(n,e){return BC(e)?UT(e):Sm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function px(n,e,t){return n instanceof _h?function(s,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&_m(a)&&(a=$h(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Ql?zT(n,e):n instanceof Yl?$T(n,e):function(s,a){const u=BT(s,a),h=b_(u)+b_(s.Pe);return Vp(u)&&Vp(s.Pe)?UT(h):Sm(s.serializer,h)}(n,e)}function mx(n,e,t){return n instanceof Ql?zT(n,e):n instanceof Yl?$T(n,e):t}function BT(n,e){return n instanceof Xl?function(r){return Vp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class _h extends Kh{}class Ql extends Kh{constructor(e){super(),this.elements=e}}function zT(n,e){const t=WT(e);for(const r of n.elements)t.some(s=>Sr(s,r))||t.push(r);return{arrayValue:{values:t}}}class Yl extends Kh{constructor(e){super(),this.elements=e}}function $T(n,e){let t=WT(e);for(const r of n.elements)t=t.filter(s=>!Sr(s,r));return{arrayValue:{values:t}}}class Xl extends Kh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function b_(n){return ct(n.integerValue||n.doubleValue)}function WT(n){return wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,t){this.field=e,this.transform=t}}function yx(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Ql&&s instanceof Ql||r instanceof Yl&&s instanceof Yl?la(r.elements,s.elements,Sr):r instanceof Xl&&s instanceof Xl?Sr(r.Pe,s.Pe):r instanceof _h&&s instanceof _h}(n.transform,e.transform)}class vx{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gh{}function HT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Am(n.key,Zn.none()):new lu(n.key,n.data,Zn.none());{const t=n.data,r=cn.empty();let s=new It(Ot.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Zi(n.key,r,new _n(s.toArray()),Zn.none())}}function _x(n,e,t){n instanceof lu?function(s,a,u){const h=s.value.clone(),f=L_(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Zi?function(s,a,u){if(!th(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=L_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(qT(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Ol(n,e,t,r){return n instanceof lu?function(a,u,h,f){if(!th(a.precondition,u))return h;const p=a.value.clone(),v=M_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Zi?function(a,u,h,f){if(!th(a.precondition,u))return h;const p=M_(a.fieldTransforms,f,u),v=u.data;return v.setAll(qT(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,h){return th(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function wx(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=BT(r.transform,s||null);a!=null&&(t===null&&(t=cn.empty()),t.set(r.field,a))}return t||null}function N_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,(a,u)=>yx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lu extends Gh{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Zi extends Gh{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function L_(n,e,t){const r=new Map;Be(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,mx(u,h,t[s]))}return r}function M_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,px(a,u,e))}return r}class Am extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&_x(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=HT(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,r)=>N_(t,r))&&la(this.baseMutations,e.baseMutations,(t,r)=>N_(t,r))}}class Pm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Be(e.mutations.length===r.length);let s=function(){return cx}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Pm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,Me;function Ax(n){switch(n){default:return Se();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function KT(n){if(n===void 0)return ei("GRPC error has no .code"),ee.UNKNOWN;switch(n){case ft.OK:return ee.OK;case ft.CANCELLED:return ee.CANCELLED;case ft.UNKNOWN:return ee.UNKNOWN;case ft.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case ft.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case ft.INTERNAL:return ee.INTERNAL;case ft.UNAVAILABLE:return ee.UNAVAILABLE;case ft.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case ft.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case ft.NOT_FOUND:return ee.NOT_FOUND;case ft.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case ft.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case ft.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case ft.ABORTED:return ee.ABORTED;case ft.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case ft.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case ft.DATA_LOSS:return ee.DATA_LOSS;default:return Se()}}(Me=ft||(ft={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Bi([4294967295,4294967295],0);function O_(n){const e=Px().encode(n),t=new yT;return t.update(e),new Uint8Array(t.digest())}function F_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Bi([t,r],0),new Bi([s,a],0)]}class Rm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xl(`Invalid padding: ${t}`);if(r<0)throw new xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Bi.fromNumber(this.Te)}de(e,t,r){let s=e.add(t.multiply(Bi.fromNumber(r)));return s.compare(Rx)===1&&(s=new Bi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=O_(e),[r,s]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);if(!this.Ee(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Rm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=O_(e),[r,s]=F_(t);for(let a=0;a<this.hashCount;a++){const u=this.de(r,s,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Qh(Ae.min(),s,new it(be),ti(),De())}}class uu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new uu(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class GT{constructor(e,t){this.targetId=e,this.me=t}}class QT{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class U_{constructor(){this.fe=0,this.ge=j_(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),r=De();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Se()}}),new uu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=j_()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Cx{constructor(e){this.Be=e,this.Le=new Map,this.ke=ti(),this.qe=$c(),this.Qe=$c(),this.Ke=new it(be)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((r,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,r=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Np(a))if(r===0){const u=new we(a.path);this.We(t,u,qt.newNoDocument(u,Ae.min()))}else Be(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=Hi(r).toUint8Array()}catch(f){if(f instanceof PT)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Rm(u,s,a)}catch(f){return aa(f instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Be.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Be.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&Np(h.target)){const f=new we(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,qt.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=De();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const s=new Qh(e,t,this.Ke,this.ke,r);return this.ke=ti(),this.qe=$c(),this.Qe=$c(),this.Ke=new it(be),s}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new U_,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new It(be),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new It(be),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new U_),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function $c(){return new it(we.comparator)}function j_(){return new it(we.comparator)}const xx={asc:"ASCENDING",desc:"DESCENDING"},kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dx={and:"AND",or:"OR"};class Vx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Mp(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function wh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bx(n,e){return wh(n,e.toTimestamp())}function vr(n){return Be(!!n),Ae.fromTimestamp(function(t){const r=Wi(t);return new Tt(r.seconds,r.nanos)}(n))}function Cm(n,e){return Op(n,e).canonicalString()}function Op(n,e){const t=function(s){return new Ze(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function XT(n){const e=Ze.fromString(n);return Be(n0(e)),e}function Fp(n,e){return Cm(n.databaseId,e.path)}function ep(n,e){const t=XT(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(ZT(t))}function JT(n,e){return Cm(n.databaseId,e)}function Nx(n){const e=XT(n);return e.length===4?Ze.emptyPath():ZT(e)}function Up(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZT(n){return Be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function B_(n,e,t){return{name:Fp(n,e),fields:t.value.mapValue.fields}}function Lx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Be(v===void 0||typeof v=="string"),Ft.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ft.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?ee.UNKNOWN:KT(p.code);return new ge(v,p.message||"")}(u);t=new QT(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ep(n,r.document.name),a=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Ae.min(),h=new cn({mapValue:{fields:r.document.fields}}),f=qt.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new nh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ep(n,r.document),a=r.readTime?vr(r.readTime):Ae.min(),u=qt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new nh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ep(n,r.document),a=r.removedTargetIds||[];t=new nh([],a,s,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Sx(s,a),h=r.targetId;t=new GT(h,u)}}return t}function Mx(n,e){let t;if(e instanceof lu)t={update:B_(n,e.key,e.value)};else if(e instanceof Am)t={delete:Fp(n,e.key)};else if(e instanceof Zi)t={update:B_(n,e.key,e.data),updateMask:Hx(e.fieldMask)};else{if(!(e instanceof Ex))return Se();t={verify:Fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof _h)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xl)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:bx(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se()}(n,e.precondition)),t}function Ox(n,e){return n&&n.length>0?(Be(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?vr(s.updateTime):vr(a);return u.isEqual(Ae.min())&&(u=vr(a)),new vx(u,s.transformResults||[])}(t,e))):[]}function Fx(n,e){return{documents:[JT(n,e.path)]}}function Ux(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JT(n,s);const a=function(p){if(p.length!==0)return t0(Ar.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:Qo(E.field),direction:zx(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Mp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:s}}function jx(n){let e=Nx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Be(r===1);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=e0(w);return E instanceof Ar&&kT(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(R){return new vh(Yo(R.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,zh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,S=w.values||[];return new yh(S,E)}(t.startAt));let p=null;return t.endAt&&(p=function(w){const E=!w.before,S=w.values||[];return new yh(S,E)}(t.endAt)),ix(e,s,u,a,h,"F",f,p)}function Bx(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function e0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Yo(t.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(t.unaryFilter.field);return Et.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(t.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Yo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ar.create(t.compositeFilter.filters.map(r=>e0(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(n):Se()}function zx(n){return xx[n]}function $x(n){return kx[n]}function Wx(n){return Dx[n]}function Qo(n){return{fieldPath:n.canonicalString()}}function Yo(n){return Ot.fromServerFormat(n.fieldPath)}function t0(n){return n instanceof Et?function(t){if(t.op==="=="){if(C_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(R_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(C_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(R_(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:$x(t.op),value:t.value}}}(n):n instanceof Ar?function(t){const r=t.getFilters().map(s=>t0(s));return r.length===1?r[0]:{compositeFilter:{op:Wx(t.op),filters:r}}}(n):Se()}function Hx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function n0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,t,r,s,a=Ae.min(),u=Ae.min(),h=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.ht=e}}function Kx(n){const e=jx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.ln=new Qx}addToCollectionParentIndex(e,t){return this.ln.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve($i.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Qx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new It(Ze.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(41943040,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ha(0)}static Qn(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_([n,e],[t,r]){const s=be(n,t);return s===0?be(e,r):s}class Yx{constructor(e){this.Gn=e,this.buffer=new It($_),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Xx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wa(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await _a(t)}await this.Yn(3e5)})}}class Jx{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Bh.oe);const r=new Yx(t);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(z_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z_):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,h=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),Ko()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function Zx(n,e){return new Jx(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Ol(r.mutation,s,_n.empty(),Tt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const s=Ms();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Cl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ms();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=ti();const u=Ml(),h=function(){return Ml()}();return t.forEach((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof Zi)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Ol(v.mutation,p,v.mutation.getFieldMask(),Tt.now())):u.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var w;return h.set(p,new t1(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Ml();let s=new it((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||_n.empty();v=h.applyToLocalView(p,v),r.set(f,v);const w=(s.get(h.batchId)||De()).add(f);s=s.insert(h.batchId,w)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,w=FT();v.forEach(E=>{if(!a.has(E)){const S=HT(t.get(E),r.get(E));S!==null&&w.set(E,S),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return we.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):X.resolve(Ms());let h=-1,f=a;return u.next(p=>X.forEach(p,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?X.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,De())).next(v=>({batchId:h,changes:OT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(r=>{let s=Cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Cl();return this.indexManager.getCollectionParents(e,a).next(h=>X.forEach(h,f=>{const p=function(w,E){return new Wh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,qt.newInvalidDocument(v)))});let h=Cl();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&Ol(v.mutation,p,_n.empty(),Tt.now()),qh(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return X.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:vr(s.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:Kx(s.bundledQuery),readTime:vr(s.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(){this.overlays=new it(we.comparator),this.dr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ms();return X.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Tt(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Ms(),a=t.length+1,u=new we(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new it((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=Ms(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Ms(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=s)););return X.resolve(h)}Tt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Ix(t,r));let a=this.dr.get(t);a===void 0&&(a=De(),this.dr.set(t,a)),this.dr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.Er=new It(kt.Ar),this.Rr=new It(kt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new kt(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new we(new Ze([])),r=new kt(t,e),s=new kt(t,e+1),a=[];return this.Rr.forEachInRange([r,s],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new Ze([])),r=new kt(t,e),s=new kt(t,e+1);let a=De();return this.Rr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Er.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||be(e.br,t.br)}static Vr(e,t){return be(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new It(kt.Ar)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Tx(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.vr=this.vr.add(new kt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Fr(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),s=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,s],u=>{const h=this.Cr(u.br);a.push(h)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(be);return t.forEach(s=>{const a=new kt(s,0),u=new kt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),X.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;we.isDocumentKey(a)||(a=a.child(""));const u=new kt(new we(a),0);let h=new It(be);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.br)),!0)},u),X.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Be(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return X.forEach(t.mutations,s=>{const a=new kt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,t){const r=new kt(t,0),s=this.vr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.Nr=e,this.docs=function(){return new it(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():qt.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ti();const u=t.path,h=new we(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||OC(MC(v),r)<=0||(s.has(v.key)||qh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Se()}Br(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new l1(this)}getSize(e){return X.resolve(this.size)}}class l1 extends e1{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.persistence=e,this.Lr=new Ks(t=>Em(t),Tm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new xm,this.targetCount=0,this.Qr=ha.qn()}forEachTarget(e,t){return this.Lr.forEach((r,s)=>t(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),X.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Un(t),X.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Lr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Lr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),X.waitFor(a).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Lr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Bh(0),this.Ur=!1,this.Ur=!0,this.Wr=new s1,this.referenceDelegate=e(this),this.Gr=new u1(this),this.indexManager=new Gx,this.remoteDocumentCache=function(s){return new a1(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new qx(t),this.jr=new r1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new i1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new o1(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new c1(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return X.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class c1 extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class km{constructor(e){this.persistence=e,this.Zr=new xm,this.Xr=null}static ei(e){return new km(e)}get ti(){if(this.Xr)return this.Xr;throw Se()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),X.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ti,r=>{const s=we.fromPath(r);return this.ni(e,s).next(a=>{a||t.removeEntry(s,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return X.or([()=>X.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Eh{constructor(e,t){this.persistence=e,this.ri=new Ks(r=>zC(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Zx(this,t)}static ei(e,t){return new Eh(e,t)}Hr(){}Jr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return X.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(a=>a?X.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),X.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zc(e.data.value)),t}ir(e,t,r){return X.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=s}static zi(e,t){let r=De(),s=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Dm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return aR()?8:jC(Gt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new h1;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,s){return r.documentReadCount<this.Ji?(Ko()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),X.resolve()):(Ko()<=ke.DEBUG&&he("QueryEngine","Query:",Go(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(Ko()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):X.resolve())}Xi(e,t){if(V_(t))return X.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Lp(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,h);return this.ss(t,p,u,f.readTime)?this.Xi(e,Lp(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,s){return V_(t)||s.isEqual(Ae.min())?X.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,s)?X.resolve(null):(Ko()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Go(t)),this.os(e,u,t,LC(s,-1)).next(h=>h))})}rs(e,t){let r=new It(LT(e));return t.forEach((s,a)=>{qh(e,a)&&(r=r.add(a))}),r}ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,r){return Ko()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,$i.min(),r)}os(e,t,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t,r,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new it(be),this.cs=new Ks(a=>Em(a),Tm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function p1(n,e,t,r){return new f1(n,e,t,r)}async function i0(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=De();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:h}))})})}function m1(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const w=p.batch,E=w.keys();let S=X.resolve();return E.forEach(R=>{S=S.next(()=>v.getEntry(f,R)).next(b=>{const x=p.docVersions.get(R);Be(x!==null),b.version.compareTo(x)<0&&(w.applyToRemoteDocument(b,p),b.isValidDocument()&&(b.setReadTime(p.commitVersion),v.addEntry(b)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=De();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function s0(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function g1(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((v,w)=>{const E=s.get(w);if(!E)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,w)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,r)),s=s.insert(w,S),function(b,x,L){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(E,S,v)&&h.push(t.Gr.updateTargetData(a,S))});let f=ti(),p=De();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(y1(a,u,e.documentUpdates).next(v=>{f=v.Is,p=v.ds})),!r.isEqual(Ae.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(w=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return X.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=s,a))}function y1(n,e,t){let r=De(),s=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ti();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Is:u,ds:s}})}function v1(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _1(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Gr.getTargetData(r,e).next(a=>a?(s=a,X.resolve(s)):t.Gr.allocateTargetId(r).next(u=>(s=new Fi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function jp(n,e,t){const r=Pe(n),s=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!wa(u))throw u;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function W_(n,e,t){const r=Pe(n);let s=Ae.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const w=Pe(f),E=w.cs.get(v);return E!==void 0?X.resolve(w.us.get(E)):w.Gr.getTargetData(p,v)}(r,u,yr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?s:Ae.min(),t?a:De())).next(h=>(w1(r,ax(e),h),{documents:h,Es:a})))}function w1(n,e,t){let r=n.ls.get(e)||Ae.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class H_{constructor(){this.activeTargetIds=fx()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E1{constructor(){this._o=new H_,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new H_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function tp(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class A1 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,r,s,a,u){const h=tp(),f=this.No(t,r.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(p,a,u),this.Lo(t,f,p,s).then(v=>(he("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw aa("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",s),v})}ko(t,r,s,a,u,h){return this.Oo(t,r,s,a,u)}Bo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+va}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),s&&s.headers.forEach((a,u)=>t[u]=a)}No(t,r){const s=I1[t];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,r,s){const a=tp();return new Promise((u,h)=>{const f=new vT;f.setWithCredentials(!0),f.listenOnce(_T.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Jc.NO_ERROR:const v=f.getResponseJson();he($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Jc.TIMEOUT:he($t,`RPC '${e}' ${a} timed out`),h(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=f.getStatus();if(he($t,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(x){const L=x.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(L)>=0?L:ee.UNKNOWN}(S.status);h(new ge(R,S.message))}else h(new ge(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he($t,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);he($t,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",p,r,15)})}qo(e,t,r){const s=tp(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=TT(),h=ET(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Bo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");he($t,`Creating RPC '${e}' stream ${s}: ${v}`,f);const w=u.createWebChannel(v,f);let E=!1,S=!1;const R=new S1({Eo:x=>{S?he($t,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(E||(he($t,`Opening RPC '${e}' stream ${s} transport.`),w.open(),E=!0),he($t,`RPC '${e}' stream ${s} sending:`,x),w.send(x))},Ao:()=>w.close()}),b=(x,L,q)=>{x.listen(L,$=>{try{q($)}catch(re){setTimeout(()=>{throw re},0)}})};return b(w,Rl.EventType.OPEN,()=>{S||(he($t,`RPC '${e}' stream ${s} transport opened.`),R.So())}),b(w,Rl.EventType.CLOSE,()=>{S||(S=!0,he($t,`RPC '${e}' stream ${s} transport closed`),R.Do())}),b(w,Rl.EventType.ERROR,x=>{S||(S=!0,aa($t,`RPC '${e}' stream ${s} transport errored:`,x),R.Do(new ge(ee.UNAVAILABLE,"The operation could not be completed")))}),b(w,Rl.EventType.MESSAGE,x=>{var L;if(!S){const q=x.data[0];Be(!!q);const $=q,re=($==null?void 0:$.error)||((L=$[0])===null||L===void 0?void 0:L.error);if(re){he($t,`RPC '${e}' stream ${s} received error:`,re);const ne=re.status;let ae=function(P){const D=ft[P];if(D!==void 0)return KT(D)}(ne),V=re.message;ae===void 0&&(ae=ee.INTERNAL,V="Unknown error status: "+ne+" with message "+re.message),S=!0,R.Do(new ge(ae,V)),w.close()}else he($t,`RPC '${e}' stream ${s} received:`,q),R.vo(q)}}),b(h,wT.STAT_EVENT,x=>{x.stat===kp.PROXY?he($t,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===kp.NOPROXY&&he($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(n){return new Vx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,r=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t,r,s,a,u,h,f){this.li=e,this.Yo=r,this.Zo=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new o0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===t&&this.I_(r,s)},r=>{e(()=>{const s=new ge(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P1 extends a0{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Lx(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?vr(u.readTime):Ae.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=Up(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Np(f)?{documents:Fx(a,f)}:{query:Ux(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=YT(a,u.resumeToken);const p=Mp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=wh(a,u.snapshotVersion.toTimestamp());const p=Mp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=Bx(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.c_(t)}}class R1 extends a0{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Be(!!e.streamToken),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ox(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=Up(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mx(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,Op(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(ee.UNKNOWN,a.toString())})}ko(e,t,r,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,Op(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ee.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class x1{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(ei(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{Gs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.k_.add(4),await cu(p),p.K_.set("Unknown"),p.k_.delete(4),await Xh(p)}(this))})}),this.K_=new x1(r,s)}}async function Xh(n){if(Gs(n))for(const e of n.q_)await e(!0)}async function cu(n){for(const e of n.q_)await e(!1)}function l0(n,e){const t=Pe(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Lm(t)?Nm(t):Ea(t).s_()&&bm(t,e))}function Vm(n,e){const t=Pe(n),r=Ea(t);t.L_.delete(e),r.s_()&&u0(t,e),t.L_.size===0&&(r.s_()?r.a_():Gs(t)&&t.K_.set("Unknown"))}function bm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ea(n).V_(e)}function u0(n,e){n.U_.xe(e),Ea(n).m_(e)}function Nm(n){n.U_=new Cx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ea(n).start(),n.K_.F_()}function Lm(n){return Gs(n)&&!Ea(n).i_()&&n.L_.size>0}function Gs(n){return Pe(n).k_.size===0}function c0(n){n.U_=void 0}async function D1(n){n.K_.set("Online")}async function V1(n){n.L_.forEach((e,t)=>{bm(n,e)})}async function b1(n,e){c0(n),Lm(n)?(n.K_.O_(e),Nm(n)):n.K_.set("Unknown")}async function N1(n,e,t){if(n.K_.set("Online"),e instanceof QT&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.L_.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.L_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(n,r)}else if(e instanceof nh?n.U_.$e(e):e instanceof GT?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const r=await s0(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.L_.get(p);v&&a.L_.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.L_.get(f);if(!v)return;a.L_.set(f,v.withResumeToken(Ft.EMPTY_BYTE_STRING,v.snapshotVersion)),u0(a,f);const w=new Fi(v.target,f,p,v.sequenceNumber);bm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Th(n,r)}}async function Th(n,e,t){if(!wa(e))throw e;n.k_.add(1),await cu(n),n.K_.set("Offline"),t||(t=()=>s0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Xh(n)})}function h0(n,e){return e().catch(t=>Th(n,t,e))}async function Jh(n){const e=Pe(n),t=Ki(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;L1(e);)try{const s=await v1(e.localStore,r);if(s===null){e.B_.length===0&&t.a_();break}r=s.batchId,M1(e,s)}catch(s){await Th(e,s)}d0(e)&&f0(e)}function L1(n){return Gs(n)&&n.B_.length<10}function M1(n,e){n.B_.push(e);const t=Ki(n);t.s_()&&t.f_&&t.g_(e.mutations)}function d0(n){return Gs(n)&&!Ki(n).i_()&&n.B_.length>0}function f0(n){Ki(n).start()}async function O1(n){Ki(n).w_()}async function F1(n){const e=Ki(n);for(const t of n.B_)e.g_(t.mutations)}async function U1(n,e,t){const r=n.B_.shift(),s=Pm.from(r,e,t);await h0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Jh(n)}async function j1(n,e){e&&Ki(n).f_&&await async function(r,s){if(function(u){return Ax(u)&&u!==ee.ABORTED}(s.code)){const a=r.B_.shift();Ki(r).__(),await h0(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Jh(r)}}(n,e),d0(n)&&f0(n)}async function K_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Gs(t);t.k_.add(3),await cu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Xh(t)}async function B1(n,e){const t=Pe(n);e?(t.k_.delete(2),await Xh(t)):e||(t.k_.add(2),await cu(t),t.K_.set("Unknown"))}function Ea(n){return n.W_||(n.W_=function(t,r,s){const a=Pe(t);return a.b_(),new P1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:D1.bind(null,n),mo:V1.bind(null,n),po:b1.bind(null,n),R_:N1.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Lm(n)?Nm(n):n.K_.set("Unknown")):(await n.W_.stop(),c0(n))})),n.W_}function Ki(n){return n.G_||(n.G_=function(t,r,s){const a=Pe(t);return a.b_(),new R1(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:O1.bind(null,n),po:j1.bind(null,n),p_:F1.bind(null,n),y_:U1.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Jh(n)):(await n.G_.stop(),n.B_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new Mm(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(n,e){if(ei("AsyncQueue",`${e}: ${n}`),wa(n))return new ge(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{static emptySet(e){return new ra(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||we.comparator(t.key,r.key):(t,r)=>we.comparator(t.key,r.key),this.keyedMap=Cl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ra;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.z_=new it(we.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Se():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class da{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new da(e,t,ra.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class $1{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=Q_(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function Q_(){return new Ks(n=>NT(n),Hh)}async function p0(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(r=2):(a=new z1,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Om(u,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Fm(t)}async function m0(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function W1(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(s)&&(r=!0);u.H_=s}}r&&Fm(t)}function H1(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.J_)a.onError(t);r.queries.delete(e)}function Fm(n){n.X_.forEach(e=>{e.next()})}var Bp,Y_;(Y_=Bp||(Bp={})).na="default",Y_.Cache="cache";class g0{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class q1{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=LT(e),this.ma=new ra(this.Va)}get fa(){return this.Ea}ga(e,t){const r=t?t.pa:new G_,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,w)=>{const E=s.get(v),S=qh(this.query,w)?w:null,R=!!E&&this.mutatedKeys.has(E.key),b=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?R!==b&&(r.track({type:3,doc:S}),x=!0):this.ya(E,S)||(r.track({type:2,doc:S}),x=!0,(f&&this.Va(S,f)>0||p&&this.Va(S,p)<0)&&(h=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(f||p)&&(h=!0)),x&&(S?(u=u.add(S),a=b?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,w)=>function(S,R){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return b(S)-b(R)}(v.type,w.type)||this.Va(v.doc,w.doc)),this.wa(r),s=s!=null&&s;const h=t&&!s?this.Sa():[],f=this.Ra.size===0&&this.current&&!s?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new da(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new G_,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new v0(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new y0(r))}),t}va(e){this.Ea=e.Es,this.Ra=De();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return da.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class K1{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class G1{constructor(e){this.key=e,this.Fa=!1}}class Q1{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new Ks(h=>NT(h),Hh),this.Oa=new Map,this.Na=new Set,this.Ba=new it(we.comparator),this.La=new Map,this.ka=new xm,this.qa={},this.Qa=new Map,this.Ka=ha.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Y1(n,e,t=!0){const r=S0(n);let s;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await _0(r,e,t,!0),s}async function X1(n,e){const t=S0(n);await _0(t,e,!0,!1)}async function _0(n,e,t,r){const s=await _1(n.localStore,yr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await J1(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&l0(n.remoteStore,s),h}async function J1(n,e,t,r,s){n.Ua=(w,E,S)=>async function(b,x,L,q){let $=x.view.ga(L);$.ss&&($=await W_(b.localStore,x.query,!1).then(({documents:V})=>x.view.ga(V,$)));const re=q&&q.targetChanges.get(x.targetId),ne=q&&q.targetMismatches.get(x.targetId)!=null,ae=x.view.applyChanges($,b.isPrimaryClient,re,ne);return J_(b,x.targetId,ae.ba),ae.snapshot}(n,w,E,S);const a=await W_(n.localStore,e,!0),u=new q1(e,a.Es),h=u.ga(a.documents),f=uu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);J_(n,t,p.ba);const v=new K1(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function Z1(n,e,t){const r=Pe(n),s=r.xa.get(e),a=r.Oa.get(s.targetId);if(a.length>1)return r.Oa.set(s.targetId,a.filter(u=>!Hh(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Vm(r.remoteStore,s.targetId),zp(r,s.targetId)}).catch(_a)):(zp(r,s.targetId),await jp(r.localStore,s.targetId,!0))}async function ek(n,e){const t=Pe(n),r=t.xa.get(e),s=t.Oa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vm(t.remoteStore,r.targetId))}async function tk(n,e,t){const r=lk(n);try{const s=await function(u,h){const f=Pe(u),p=Tt.now(),v=h.reduce((S,R)=>S.add(R.key),De());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=ti(),b=De();return f.hs.getEntries(S,v).next(x=>{R=x,R.forEach((L,q)=>{q.isValidDocument()||(b=b.add(L))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,R)).next(x=>{w=x;const L=[];for(const q of h){const $=wx(q,w.get(q.key).overlayedDocument);$!=null&&L.push(new Zi(q.key,$,RT($.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,L,h)}).next(x=>{E=x;const L=x.applyToLocalDocumentSet(w,b);return f.documentOverlayCache.saveOverlays(S,x.batchId,L)})}).then(()=>({batchId:E.batchId,changes:OT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.qa[u.currentUser.toKey()];p||(p=new it(be)),p=p.insert(h,f),u.qa[u.currentUser.toKey()]=p}(r,s.batchId,t),await hu(r,s.changes),await Jh(r.remoteStore)}catch(s){const a=Om(s,"Failed to persist write");t.reject(a)}}async function w0(n,e){const t=Pe(n);try{const r=await g1(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.La.get(a);u&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Fa=!0:s.modifiedDocuments.size>0?Be(u.Fa):s.removedDocuments.size>0&&(Be(u.Fa),u.Fa=!1))}),await hu(t,r,e)}catch(r){await _a(r)}}function X_(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let p=!1;f.queries.forEach((v,w)=>{for(const E of w.J_)E.ea(h)&&(p=!0)}),p&&Fm(f)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nk(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.La.get(e),a=s&&s.key;if(a){let u=new it(we.comparator);u=u.insert(a,qt.newNoDocument(a,Ae.min()));const h=De().add(a),f=new Qh(Ae.min(),new Map,new it(be),u,h);await w0(r,f),r.Ba=r.Ba.remove(a),r.La.delete(e),Um(r)}else await jp(r.localStore,e,!1).then(()=>zp(r,e,t)).catch(_a)}async function rk(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await m1(t.localStore,e);T0(t,r,null),E0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await hu(t,s)}catch(s){await _a(s)}}async function ik(n,e,t){const r=Pe(n);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>(Be(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);T0(r,e,t),E0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await hu(r,s)}catch(s){await _a(s)}}function E0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function T0(n,e,t){const r=Pe(n);let s=r.qa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function zp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||I0(n,r)})}function I0(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Vm(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Um(n))}function J_(n,e,t){for(const r of t)r instanceof y0?(n.ka.addReference(r.key,e),sk(n,r)):r instanceof v0?(he("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||I0(n,r.key)):Se()}function sk(n,e){const t=e.key,r=t.path.canonicalString();n.Ba.get(t)||n.Na.has(r)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(r),Um(n))}function Um(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(Ze.fromString(e)),r=n.Ka.next();n.La.set(r,new G1(t)),n.Ba=n.Ba.insert(t,r),l0(n.remoteStore,new Fi(yr(Im(t.path)),r,"TargetPurposeLimboResolution",Bh.oe))}}async function hu(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const w=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){s.push(p);const w=Dm.zi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),r.Ma.R_(s),await async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(p,E=>X.forEach(E.Wi,S=>v.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>X.forEach(E.Gi,S=>v.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!wa(w))throw w;he("LocalStore","Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const S=v.us.get(E),R=S.snapshotVersion,b=S.withLastLimboFreeSnapshotVersion(R);v.us=v.us.insert(E,b)}}}(r.localStore,a))}async function ok(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await i0(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new ge(ee.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(t,r.Ts)}}function ak(n,e){const t=Pe(n),r=t.La.get(e);if(r&&r.Fa)return De().add(r.key);{let s=De();const a=t.Oa.get(e);if(!a)return s;for(const u of a){const h=t.xa.get(u);s=s.unionWith(h.view.fa)}return s}}function S0(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ak.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nk.bind(null,e),e.Ma.R_=W1.bind(null,e.eventManager),e.Ma.Wa=H1.bind(null,e.eventManager),e}function lk(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ik.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return p1(this.persistence,new d1,e.initialUser,this.serializer)}ja(e){return new r0(km.ei,this.serializer)}za(e){return new E1}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class uk extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Be(this.persistence.referenceDelegate instanceof Eh);const r=this.persistence.referenceDelegate.garbageCollector;return new Xx(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new r0(r=>Eh.ei(r,t),this.serializer)}}class $p{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>X_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ok.bind(null,this.syncEngine),await B1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $1}()}createDatastore(e){const t=Yh(e.databaseInfo.databaseId),r=function(a){return new A1(a)}(e.databaseInfo);return function(a,u,h,f){return new C1(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new k1(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>X_(this.syncEngine,t,0),function(){return q_.p()?new q_:new T1}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,v){const w=new Q1(s,a,u,h,f,p);return v&&(w.$a=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Pe(s);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await cu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$p.provider={build:()=>new $p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=ST.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{he("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(he("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Om(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await i0(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Z_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await hk(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>K_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>K_(e.remoteStore,s)),n._onlineComponents=e}async function hk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await rp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ee.FAILED_PRECONDITION||s.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await rp(n,new Ih)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await rp(n,new uk(void 0));return n._offlineComponents}async function P0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await Z_(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await Z_(n,new $p))),n._onlineComponents}function dk(n){return P0(n).then(e=>e.syncEngine)}async function R0(n){const e=await P0(n),t=e.eventManager;return t.onListen=Y1.bind(null,e.syncEngine),t.onUnlisten=Z1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=X1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ek.bind(null,e.syncEngine),t}function fk(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new A0({next:E=>{v.eu(),u.enqueueAndForget(()=>m0(a,w));const S=E.docs.has(h);!S&&E.fromCache?p.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?p.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new g0(Im(h.path),v,{includeMetadataChanges:!0,ua:!0});return p0(a,w)}(await R0(n),n.asyncQueue,e,t,r)),r.promise}function pk(n,e,t={}){const r=new Gr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new A0({next:E=>{v.eu(),u.enqueueAndForget(()=>m0(a,w)),E.fromCache&&f.source==="server"?p.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new g0(h,v,{includeMetadataChanges:!0,ua:!0});return p0(a,w)}(await R0(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(n,e,t){if(!t)throw new ge(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function mk(n,e,t,r){if(e===!0&&r===!0)throw new ge(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tw(n){if(!we.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nw(n){if(we.isDocumentKey(n))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se()}function ni(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jm(n);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C0((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PC;switch(r.type){case"firstParty":return new kC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ew.get(t);r&&(he("ComponentProvider","Removing Datastore"),ew.delete(t),r.terminate())}(this),Promise.resolve()}}function gk(n,e,t,r={}){var s;const a=(n=ni(n,Zh))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ht.MOCK_USER;else{h=tR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(p)}n._authCredentials=new RC(new IT(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ed(this.firestore,e,this._query)}}class wn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class zi extends ed{constructor(e,t,r){super(e,t,Im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new we(e))}withConverter(e){return new zi(this.firestore,e,this._path)}}function ip(n,e,...t){if(n=St(n),x0("collection","path",e),n instanceof Zh){const r=Ze.fromString(e,...t);return nw(r),new zi(n,null,r)}{if(!(n instanceof wn||n instanceof zi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return nw(r),new zi(n.firestore,null,r)}}function rh(n,e,...t){if(n=St(n),arguments.length===1&&(e=ST.newId()),x0("doc","path",e),n instanceof Zh){const r=Ze.fromString(e,...t);return tw(r),new wn(n,null,new we(r))}{if(!(n instanceof wn||n instanceof zi))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ze.fromString(e,...t));return tw(r),new wn(n.firestore,n instanceof zi?n.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new o0(this,"async_queue_retry"),this.fu=()=>{const r=np();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=np();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=np();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Gr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!wa(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw ei("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Mm.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Se()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Ta extends Zh{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new iw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function yk(n,e){const t=typeof n=="object"?n:ym(),r=typeof n=="string"?n:"(default)",s=qs(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=ZP("firestore");a&&gk(s,...a)}return s}function Bm(n){if(n._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vk(n),n._firestoreClient}function vk(n){var e,t,r;const s=n._freezeSettings(),a=function(h,f,p,v){return new HC(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,C0(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new ck(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(Ft.fromBase64String(e))}catch(t){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fa(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=/^__.*__$/;class wk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms):new lu(e,this.data,t,this.fieldTransforms)}}class k0{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Zi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function D0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Wm{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Sh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(D0(this.Mu)&&_k.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class Ek{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Yh(e)}$u(e,t,r,s=!1){return new Wm({Mu:e,methodName:t,Ku:r,path:Ot.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function V0(n){const e=n._freezeSettings(),t=Yh(n._databaseId);return new Ek(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Tk(n,e,t,r,s,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,s);qm("Data must be an object, but it was:",u,r);const h=b0(r,u);let f,p;if(a.merge)f=new _n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=Wp(e,w,t);if(!u.contains(E))throw new ge(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);L0(v,E)||v.push(E)}f=new _n(v),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new wk(new cn(h),f,p)}class rd extends nd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}class Hm extends nd{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Xl(e.serializer,jT(e.serializer,this.Wu));return new gx(e.path,t)}isEqual(e){return e instanceof Hm&&this.Wu===e.Wu}}function Ik(n,e,t,r){const s=n.$u(1,e,t);qm("Data must be an object, but it was:",s,r);const a=[],u=cn.empty();Ji(r,(f,p)=>{const v=Km(e,f,t);p=St(p);const w=s.Lu(v);if(p instanceof rd)a.push(v);else{const E=id(p,w);E!=null&&(a.push(v),u.set(v,E))}});const h=new _n(a);return new k0(u,h,s.fieldTransforms)}function Sk(n,e,t,r,s,a){const u=n.$u(1,e,t),h=[Wp(e,r,t)],f=[s];if(a.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(Wp(e,a[E])),f.push(a[E+1]);const p=[],v=cn.empty();for(let E=h.length-1;E>=0;--E)if(!L0(p,h[E])){const S=h[E];let R=f[E];R=St(R);const b=u.Lu(S);if(R instanceof rd)p.push(S);else{const x=id(R,b);x!=null&&(p.push(S),v.set(S,x))}}const w=new _n(p);return new k0(v,w,u.fieldTransforms)}function id(n,e){if(N0(n=St(n)))return qm("Unsupported field value:",e,n),b0(n,e);if(n instanceof nd)return function(r,s){if(!D0(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=id(h,s.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Tt.fromDate(r);return{timestampValue:wh(s.serializer,a)}}if(r instanceof Tt){const a=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wh(s.serializer,a)}}if(r instanceof zm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:YT(s.serializer,r._byteString)};if(r instanceof wn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $m)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return Sm(h.serializer,f)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${jm(r)}`)}(n,e)}function b0(n,e){const t={};return AT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(n,(r,s)=>{const a=id(s,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function N0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Tt||n instanceof zm||n instanceof fa||n instanceof wn||n instanceof nd||n instanceof $m)}function qm(n,e,t){if(!N0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=jm(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function Wp(n,e,t){if((e=St(e))instanceof td)return e._internalPath;if(typeof e=="string")return Km(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ak=new RegExp("[~\\*/\\[\\]]");function Km(n,e,t){if(e.search(Ak)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new td(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ge(ee.INVALID_ARGUMENT,h+n+f)}function L0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Pk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(O0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Pk extends M0{data(){return super.data()}}function O0(n,e){return typeof e=="string"?Km(n,e):e instanceof td?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ck{convertValue(e,t="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ji(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>ct(u.doubleValue));return new $m(a)}convertGeoPoint(e){return new zm(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=Wi(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ze.fromString(e);Be(n0(r));const s=new Kl(r.get(1),r.get(3)),a=new we(r.popFirst(5));return s.isEqual(t)||ei(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class F0 extends M0{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(O0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ih extends F0{data(e={}){return super.data(e)}}class kk{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new kl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ih(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new ih(s._firestore,s._userDataWriter,h.doc.key,h.doc,new kl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new ih(s._firestore,s._userDataWriter,h.doc.key,h.doc,new kl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:Dk(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n){n=ni(n,wn);const e=ni(n.firestore,Ta);return fk(Bm(e),n._key).then(t=>Lk(e,n,t))}class U0 extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,t)}}function sp(n){n=ni(n,ed);const e=ni(n.firestore,Ta),t=Bm(e),r=new U0(e);return Rk(n._query),pk(t,n._query).then(s=>new kk(e,r,n,s))}function sw(n,e,t,...r){n=ni(n,wn);const s=ni(n.firestore,Ta),a=V0(s);let u;return u=typeof(e=St(e))=="string"||e instanceof td?Sk(a,"updateDoc",n._key,e,t,r):Ik(a,"updateDoc",n._key,e),Gm(s,[u.toMutation(n._key,Zn.exists(!0))])}function bk(n){return Gm(ni(n.firestore,Ta),[new Am(n._key,Zn.none())])}function Nk(n,e){const t=ni(n.firestore,Ta),r=rh(n),s=xk(n.converter,e);return Gm(t,[Tk(V0(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function Gm(n,e){return function(r,s){const a=new Gr;return r.asyncQueue.enqueueAndForget(async()=>tk(await dk(r),s,a)),a.promise}(Bm(n),e)}function Lk(n,e,t){const r=t.docs.get(e._key),s=new U0(n);return new F0(n,s,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}function Mk(n){return new Hm("increment",n)}(function(e,t=!0){(function(s){va=s})(ya),Ir(new er("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ta(new CC(r.getProvider("auth-internal")),new VC(r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(p.options.projectId,v)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ln(E_,"4.7.6",e),Ln(E_,"4.7.6","esm2017")})();function Qm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function j0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ok=j0,B0=new Hs("auth","Firebase",j0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new jh("@firebase/auth");function Fk(n,...e){Ah.logLevel<=ke.WARN&&Ah.warn(`Auth (${ya}): ${n}`,...e)}function sh(n,...e){Ah.logLevel<=ke.ERROR&&Ah.error(`Auth (${ya}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw Ym(n,...e)}function _r(n,...e){return Ym(n,...e)}function z0(n,e,t){const r=Object.assign(Object.assign({},Ok()),{[e]:t});return new Hs("auth","Firebase",r).create(e,{appName:n.name})}function Qr(n){return z0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return B0.create(n,...e)}function Te(n,e,...t){if(!n)throw Ym(e,...t)}function Hr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sh(e),new Error(e)}function ri(n,e){n||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Uk(){return ow()==="http:"||ow()==="https:"}function ow(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uk()||lT()||"connection"in navigator)?navigator.onLine:!0}function Bk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=nR()||sR()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n,e){ri(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new du(3e4,6e4);function es(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ts(n,e,t,r,s={}){return W0(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=au(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return iR()||(p.referrerPolicy="no-referrer"),$0.fetch()(H0(n,n.config.apiHost,t,h),p)})}async function W0(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},zk),e);try{const s=new Hk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Hc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Hc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Hc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw z0(n,v,p);tr(n,v)}}catch(s){if(s instanceof rr)throw s;tr(n,"network-request-failed",{message:String(s)})}}async function fu(n,e,t,r,s={}){const a=await ts(n,e,t,r,s);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function H0(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Xm(n.config,s):`${n.config.apiScheme}://${s}`}function Wk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),$k.get())})}}function Hc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_r(n,e,r);return s.customData._tokenResponse=t,s}function aw(n){return n!==void 0&&n.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kk(n,e){return ts(n,"GET","/v2/recaptchaConfig",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){return ts(n,"POST","/v1/accounts:delete",e)}async function q0(n,e){return ts(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(n,e=!1){const t=St(n),r=await t.getIdToken(e),s=Jm(r);Te(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Fl(op(s.auth_time)),issuedAtTime:Fl(op(s.iat)),expirationTime:Fl(op(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function op(n){return Number(n)*1e3}function Jm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=iT(t);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lw(n){const e=Jm(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rr&&Yk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Yk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Jl(n,q0(t,{idToken:r}));Te(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?K0(a.providerUserInfo):[],h=Zk(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new qp(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,w)}async function Jk(n){const e=St(n);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zk(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function K0(n){return n.map(e=>{var{providerId:t}=e,r=Qm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){const t=await W0(n,{},async()=>{const r=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=H0(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$0.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function tD(n,e){return ts(n,"POST","/v2/accounts:revokeToken",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=lw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await eD(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ia;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Te(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Te(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class qr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new qp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Qk(this,e)}reload(){return Jk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new qr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Qr(this.auth));const e=await this.getIdToken();return await Jl(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,h,f,p,v;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(s=t.email)!==null&&s!==void 0?s:void 0,S=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,R=(u=t.photoURL)!==null&&u!==void 0?u:void 0,b=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,L=(p=t.createdAt)!==null&&p!==void 0?p:void 0,q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:re,isAnonymous:ne,providerData:ae,stsTokenManager:V}=t;Te($&&V,e,"internal-error");const A=ia.fromJSON(this.name,V);Te(typeof $=="string",e,"internal-error"),Di(w,e.name),Di(E,e.name),Te(typeof re=="boolean",e,"internal-error"),Te(typeof ne=="boolean",e,"internal-error"),Di(S,e.name),Di(R,e.name),Di(b,e.name),Di(x,e.name),Di(L,e.name),Di(q,e.name);const P=new qr({uid:$,auth:e,email:E,emailVerified:re,displayName:w,isAnonymous:ne,photoURL:R,phoneNumber:S,tenantId:b,stsTokenManager:A,createdAt:L,lastLoginAt:q});return ae&&Array.isArray(ae)&&(P.providerData=ae.map(D=>Object.assign({},D))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new ia;s.updateFromServerResponse(t);const a=new qr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ph(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Te(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?K0(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ia;h.updateFromIdToken(r);const f=new qr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function Kr(n){ri(n instanceof Function,"Expected a class definition");let e=uw.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}G0.type="NONE";const cw=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(n,e,t){return`firebase:${n}:${e}:${t}`}class sa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=oh(this.userKey,s.apiKey,a),this.fullPersistenceKey=oh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new sa(Kr(cw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Kr(cw);const u=oh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){const w=qr._fromJSON(e,v);p!==a&&(h=w),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new sa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new sa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eI(e))return"Blackberry";if(tI(e))return"Webos";if(Y0(e))return"Safari";if((e.includes("chrome/")||X0(e))&&!e.includes("edge/"))return"Chrome";if(Z0(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Q0(n=Gt()){return/firefox\//i.test(n)}function Y0(n=Gt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X0(n=Gt()){return/crios\//i.test(n)}function J0(n=Gt()){return/iemobile/i.test(n)}function Z0(n=Gt()){return/android/i.test(n)}function eI(n=Gt()){return/blackberry/i.test(n)}function tI(n=Gt()){return/webos/i.test(n)}function Zm(n=Gt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function nD(n=Gt()){var e;return Zm(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rD(){return oR()&&document.documentMode===10}function nI(n=Gt()){return Zm(n)||Z0(n)||tI(n)||eI(n)||/windows phone/i.test(n)||J0(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n,e=[]){let t;switch(n){case"Browser":t=hw(Gt());break;case"Worker":t=`${hw(Gt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e={}){return ts(n,"GET","/v2/passwordPolicy",es(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=6;class aD{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:oD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=B0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Kr(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await q0(this,{idToken:e}),r=await qr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Qr(this));const t=e?St(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Qr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Qr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sD(this),t=new aD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await tD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Kr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await sa.create(this,[Kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Fk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qs(n){return St(n)}class dw{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uD(n){sd=n}function iI(n){return sd.loadJS(n)}function cD(){return sd.recaptchaEnterpriseScript}function hD(){return sd.gapiScript}function dD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new pD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class pD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const mD="recaptcha-enterprise",sI="NO_RECAPTCHA";class gD{constructor(e){this.type=mD,this.auth=Qs(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{Kk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new qk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;aw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(sI)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&aw(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=cD();f.length!==0&&(f+=h),iI(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function fw(n,e,t,r=!1,s=!1){const a=new gD(n);let u;if(s)u=sI;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Kp(n,e,t,r,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await fw(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e){const t=qs(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Wl(a,e??{}))return s;tr(s,"already-initialized")}return t.initialize({options:e})}function vD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Kr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _D(n,e,t){const r=Qs(n);Te(r._canInitEmulator,r,"emulator-config-failed"),Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=oI(e),{host:u,port:h}=wD(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),ED()}function oI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function wD(n){const e=oI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:pw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:pw(u)}}}function pw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ED(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,t){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function TD(n,e){return ts(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(n,e){return fu(n,"POST","/v1/accounts:signInWithPassword",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(n,e){return fu(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}async function AD(n,e){return fu(n,"POST","/v1/accounts:signInWithEmailLink",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends eg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,t,"signInWithPassword",ID);case"emailLink":return SD(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kp(e,r,"signUpPassword",TD);case"emailLink":return AD(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(n,e){return fu(n,"POST","/v1/accounts:signInWithIdp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="http://localhost";class Bs extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=Qm(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Bs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return oa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,oa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oa(e,t)}buildRequest(){const e={requestUri:PD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=au(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(n){const e=Al(Pl(n)).link,t=e?Al(Pl(e)).deep_link_id:null,r=Al(Pl(n)).deep_link_id;return(r?Al(Pl(r)).link:null)||r||t||e||n}class tg{constructor(e){var t,r,s,a,u,h;const f=Al(Pl(e)),p=(t=f.apiKey)!==null&&t!==void 0?t:null,v=(r=f.oobCode)!==null&&r!==void 0?r:null,w=RD((s=f.mode)!==null&&s!==void 0?s:null);Te(p&&v&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=v,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=CD(e);try{return new tg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return Zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=tg.parseLink(t);return Te(r,"argument-error"),Zl._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends aI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends pu{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ni.credential(e.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends pu{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends pu{constructor(){super("twitter.com")}static credential(e,t){return Bs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return fu(n,"POST","/v1/accounts:signUp",es(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await qr._fromIdTokenResponse(e,r,s),u=mw(r);return new zs({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=mw(r);return new zs({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function mw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends rr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Rh(e,t,r,s)}}function lI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(n,a,e,r):a})}async function kD(n,e,t=!1){const r=await Jl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zs._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,e,t=!1){const{auth:r}=n;if(gr(r.app))return Promise.reject(Qr(r));const s="reauthenticate";try{const a=await Jl(n,lI(r,s,e,n),t);Te(a.idToken,r,"internal-error");const u=Jm(a.idToken);Te(u,r,"internal-error");const{sub:h}=u;return Te(n.uid===h,r,"user-mismatch"),zs._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(n,e,t=!1){if(gr(n.app))return Promise.reject(Qr(n));const r="signIn",s=await lI(n,r,e),a=await zs._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function VD(n,e){return uI(Qs(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(n){const e=Qs(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bD(n,e,t){if(gr(n.app))return Promise.reject(Qr(n));const r=Qs(n),u=await Kp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&cI(n),f}),h=await zs._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function ND(n,e,t){return gr(n.app)?Promise.reject(Qr(n)):VD(St(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cI(n),r})}function LD(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function MD(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function mu(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function OD(n){return St(n).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,UD=10;class dI extends hI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);rD()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,UD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dI.type="LOCAL";const jD=dI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI extends hI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fI.type="SESSION";const pI=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new od(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await BD(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=ng("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const E=w;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function $D(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function WD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qD(){return mI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebaseLocalStorageDb",KD=1,xh="firebaseLocalStorage",yI="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ad(n,e){return n.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function GD(){const n=indexedDB.deleteDatabase(gI);return new gu(n).toPromise()}function Gp(){const n=indexedDB.open(gI,KD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xh,{keyPath:yI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(xh)?e(r):(r.close(),await GD(),e(await Gp()))})})}async function gw(n,e,t){const r=ad(n,!0).put({[yI]:e,value:t});return new gu(r).toPromise()}async function QD(n,e){const t=ad(n,!1).get(e),r=await new gu(t).toPromise();return r===void 0?null:r.value}function yw(n,e){const t=ad(n,!0).delete(e);return new gu(t).toPromise()}const YD=800,XD=3;class vI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>XD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(qD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WD(),!this.activeServiceWorker)return;this.sender=new zD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gp();return await gw(e,Ch,"1"),await yw(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>gw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>QD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=ad(s,!1).getAll();return new gu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vI.type="LOCAL";const JD=vI;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n,e){return e?Kr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eV(n){return uI(n.auth,new rg(n),n.bypassAuthState)}function tV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),DD(t,new rg(n),n.bypassAuthState)}async function nV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),kD(t,new rg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eV;case"linkViaPopup":case"linkViaRedirect":return nV;case"reauthViaPopup":case"reauthViaRedirect":return tV;default:tr(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new du(2e3,1e4);class Xo extends _I{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rV.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="pendingRedirect",ah=new Map;class sV extends _I{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await oV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oV(n,e){const t=uV(e),r=lV(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function aV(n,e){ah.set(n._key(),e)}function lV(n){return Kr(n._redirectPersistence)}function uV(n){return oh(iV,n.config.apiKey,n.name)}async function cV(n,e,t=!1){if(gr(n.app))return Promise.reject(Qr(n));const r=Qs(n),s=ZD(r,e),u=await new sV(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=10*60*1e3;class dV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!wI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(_r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(e))}saveEventToCache(e){this.cachedEventUids.add(vw(e)),this.lastProcessedEventTime=Date.now()}}function vw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function wI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(n,e={}){return ts(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;async function yV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pV(n);for(const t of e)try{if(vV(t))return}catch{}tr(n,"unauthorized-domain")}function vV(n){const e=Hp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!gV.test(t))return!1;if(mV.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new du(3e4,6e4);function _w(){const n=wr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wV(n){return new Promise((e,t)=>{var r,s,a;function u(){_w(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_w(),t(_r(n,"network-request-failed"))},timeout:_V.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=wr().gapi)===null||a===void 0)&&a.load)u();else{const h=dD("iframefcb");return wr()[h]=()=>{gapi.load?u():t(_r(n,"network-request-failed"))},iI(`${hD()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw lh=null,e})}let lh=null;function EV(n){return lh=lh||wV(n),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new du(5e3,15e3),IV="__/auth/iframe",SV="emulator/auth/iframe",AV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RV(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Xm(e,SV):`https://${n.config.authDomain}/${IV}`,r={apiKey:e.apiKey,appName:n.name,v:ya},s=PV.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${au(r).slice(1)}`}async function CV(n){const e=await EV(n),t=wr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:RV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AV,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),h=wr().setTimeout(()=>{a(u)},TV.get());function f(){wr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kV=500,DV=600,VV="_blank",bV="http://localhost";class ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NV(n,e,t,r=kV,s=DV){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},xV),{width:r.toString(),height:s.toString(),top:a,left:u}),p=Gt().toLowerCase();t&&(h=X0(p)?VV:t),Q0(p)&&(e=e||bV,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(nD(p)&&h!=="_self")return LV(e||"",h),new ww(null);const w=window.open(e||"",h,v);Te(w,n,"popup-blocked");try{w.focus()}catch{}return new ww(w)}function LV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV="__/auth/handler",OV="emulator/auth/handler",FV=encodeURIComponent("fac");async function Ew(n,e,t,r,s,a){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ya,eventId:s};if(e instanceof aI){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",dR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof pu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${FV}=${encodeURIComponent(f)}`:"";return`${UV(n)}?${au(h).slice(1)}${p}`}function UV({config:n}){return n.emulator?Xm(n,OV):`https://${n.authDomain}/${MV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class jV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pI,this._completeRedirectFn=cV,this._overrideRedirectResult=aV}async _openPopup(e,t,r,s){var a;ri((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Ew(e,t,r,Hp(),s);return NV(e,u,ng())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Ew(e,t,r,Hp(),s);return $D(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ri(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await CV(e),r=new dV(e);return t.register("authEvent",s=>(Te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ap,{type:ap},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[ap];u!==void 0&&t(!!u),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return nI()||Y0()||Zm()}}const BV=jV;var Tw="@firebase/auth",Iw="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WV(n){Ir(new er("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(n)},p=new lD(r,s,a,f);return vD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ir(new er("auth-internal",e=>{const t=Qs(e.getProvider("auth").getImmediate());return(r=>new zV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(Tw,Iw,$V(n)),Ln(Tw,Iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=5*60,qV=aT("authIdTokenMaxAge")||HV;let Sw=null;const KV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qV)return;const s=t==null?void 0:t.token;Sw!==s&&(Sw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GV(n=ym()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=yD(n,{popupRedirectResolver:BV,persistence:[JD,jD,pI]}),r=aT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=KV(a.toString());MD(t,u,()=>u(t.currentUser)),LD(t,h=>u(h))}}const s=sT("auth");return s&&_D(t,`http://${s}`),t}function QV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}uD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=_r("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",QV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WV("Browser");var YV="firebase",XV="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(YV,XV,"app");const EI="@firebase/installations",ig="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=1e4,II=`w:${ig}`,SI="FIS_v2",JV="https://firebaseinstallations.googleapis.com/v1",ZV=60*60*1e3,eb="installations",tb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new Hs(eb,tb,nb);function AI(n){return n instanceof rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI({projectId:n}){return`${JV}/projects/${n}/installations`}function RI(n){return{token:n.token,requestStatus:2,expiresIn:ib(n.expiresIn),creationTime:Date.now()}}async function CI(n,e){const r=(await e.json()).error;return $s.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xI({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function rb(n,{refreshToken:e}){const t=xI(n);return t.append("Authorization",sb(e)),t}async function kI(n){const e=await n();return e.status>=500&&e.status<600?n():e}function ib(n){return Number(n.replace("s","000"))}function sb(n){return`${SI} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ob({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=PI(n),s=xI(n),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={fid:t,authVersion:SI,appId:n.appId,sdkVersion:II},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await kI(()=>fetch(r,h));if(f.ok){const p=await f.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:RI(p.authToken)}}else throw await CI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=/^[cdef][\w-]{21}$/,Qp="";function ub(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=cb(n);return lb.test(t)?t:Qp}catch{return Qp}}function cb(n){return ab(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=new Map;function bI(n,e){const t=ld(n);NI(t,e),hb(t,e)}function NI(n,e){const t=VI.get(n);if(t)for(const r of t)r(e)}function hb(n,e){const t=db();t&&t.postMessage({key:n,fid:e}),fb()}let Os=null;function db(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=n=>{NI(n.data.key,n.data.fid)}),Os}function fb(){VI.size===0&&Os&&(Os.close(),Os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firebase-installations-database",mb=1,Ws="firebase-installations-store";let lp=null;function sg(){return lp||(lp=fT(pb,mb,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ws)}}})),lp}async function kh(n,e){const t=ld(n),s=(await sg()).transaction(Ws,"readwrite"),a=s.objectStore(Ws),u=await a.get(t);return await a.put(e,t),await s.done,(!u||u.fid!==e.fid)&&bI(n,e.fid),e}async function LI(n){const e=ld(n),r=(await sg()).transaction(Ws,"readwrite");await r.objectStore(Ws).delete(e),await r.done}async function ud(n,e){const t=ld(n),s=(await sg()).transaction(Ws,"readwrite"),a=s.objectStore(Ws),u=await a.get(t),h=e(u);return h===void 0?await a.delete(t):await a.put(h,t),await s.done,h&&(!u||u.fid!==h.fid)&&bI(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function og(n){let e;const t=await ud(n.appConfig,r=>{const s=gb(r),a=yb(n,s);return e=a.registrationPromise,a.installationEntry});return t.fid===Qp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function gb(n){const e=n||{fid:ub(),registrationStatus:0};return MI(e)}function yb(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=vb(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_b(n)}:{installationEntry:e}}async function vb(n,e){try{const t=await ob(n,e);return kh(n.appConfig,t)}catch(t){throw AI(t)&&t.customData.serverCode===409?await LI(n.appConfig):await kh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function _b(n){let e=await Aw(n.appConfig);for(;e.registrationStatus===1;)await DI(100),e=await Aw(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await og(n);return r||t}return e}function Aw(n){return ud(n,e=>{if(!e)throw $s.create("installation-not-found");return MI(e)})}function MI(n){return wb(n)?{fid:n.fid,registrationStatus:0}:n}function wb(n){return n.registrationStatus===1&&n.registrationTime+TI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb({appConfig:n,heartbeatServiceProvider:e},t){const r=Tb(n,t),s=rb(n,t),a=e.getImmediate({optional:!0});if(a){const p=await a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const u={installation:{sdkVersion:II,appId:n.appId}},h={method:"POST",headers:s,body:JSON.stringify(u)},f=await kI(()=>fetch(r,h));if(f.ok){const p=await f.json();return RI(p)}else throw await CI("Generate Auth Token",f)}function Tb(n,{fid:e}){return`${PI(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(n,e=!1){let t;const r=await ud(n.appConfig,a=>{if(!OI(a))throw $s.create("not-registered");const u=a.authToken;if(!e&&Ab(u))return a;if(u.requestStatus===1)return t=Ib(n,e),a;{if(!navigator.onLine)throw $s.create("app-offline");const h=Rb(a);return t=Sb(n,h),h}});return t?await t:r.authToken}async function Ib(n,e){let t=await Pw(n.appConfig);for(;t.authToken.requestStatus===1;)await DI(100),t=await Pw(n.appConfig);const r=t.authToken;return r.requestStatus===0?ag(n,e):r}function Pw(n){return ud(n,e=>{if(!OI(e))throw $s.create("not-registered");const t=e.authToken;return Cb(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Sb(n,e){try{const t=await Eb(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await kh(n.appConfig,r),t}catch(t){if(AI(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await LI(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await kh(n.appConfig,r)}throw t}}function OI(n){return n!==void 0&&n.registrationStatus===2}function Ab(n){return n.requestStatus===2&&!Pb(n)}function Pb(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ZV}function Rb(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Cb(n){return n.requestStatus===1&&n.requestTime+TI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(n){const e=n,{installationEntry:t,registrationPromise:r}=await og(e);return r?r.catch(console.error):ag(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(n,e=!1){const t=n;return await Db(t),(await ag(t,e)).token}async function Db(n){const{registrationPromise:e}=await og(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){if(!n||!n.options)throw up("App Configuration");if(!n.name)throw up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw up(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function up(n){return $s.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="installations",bb="installations-internal",Nb=n=>{const e=n.getProvider("app").getImmediate(),t=Vb(e),r=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Lb=n=>{const e=n.getProvider("app").getImmediate(),t=qs(e,FI).getImmediate();return{getId:()=>xb(t),getToken:s=>kb(t,s)}};function Mb(){Ir(new er(FI,Nb,"PUBLIC")),Ir(new er(bb,Lb,"PRIVATE"))}Mb();Ln(EI,ig);Ln(EI,ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="analytics",Ob="firebase_id",Fb="origin",Ub=60*1e3,jb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new jh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},En=new Hs("analytics","Analytics",Bb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){if(!n.startsWith(lg)){const e=En.create("invalid-gtag-resource",{gtagURL:n});return hn.warn(e.message),""}return n}function UI(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function $b(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Wb(n,e){const t=$b("firebase-js-sdk-policy",{createScriptURL:zb}),r=document.createElement("script"),s=`${lg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Hb(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function qb(n,e,t,r,s,a){const u=r[s];try{if(u)await e[u];else{const f=(await UI(t)).find(p=>p.measurementId===s);f&&await e[f.appId]}}catch(h){hn.error(h)}n("config",s,a)}async function Kb(n,e,t,r,s){try{let a=[];if(s&&s.send_to){let u=s.send_to;Array.isArray(u)||(u=[u]);const h=await UI(t);for(const f of u){const p=h.find(w=>w.measurementId===f),v=p&&e[p.appId];if(v)a.push(v);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),n("event",r,s||{})}catch(a){hn.error(a)}}function Gb(n,e,t,r){async function s(a,...u){try{if(a==="event"){const[h,f]=u;await Kb(n,e,t,h,f)}else if(a==="config"){const[h,f]=u;await qb(n,e,t,r,h,f)}else if(a==="consent"){const[h,f]=u;n("consent",h,f)}else if(a==="get"){const[h,f,p]=u;n("get",h,f,p)}else if(a==="set"){const[h]=u;n("set",h)}else n(a,...u)}catch(h){hn.error(h)}}return s}function Qb(n,e,t,r,s){let a=function(...u){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(a=window[s]),window[s]=Gb(a,n,e,t),{gtagCore:a,wrappedGtag:window[s]}}function Yb(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(lg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=30,Jb=1e3;class Zb{constructor(e={},t=Jb){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jI=new Zb;function eN(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tN(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:eN(r)},a=jb.replace("{app-id}",t),u=await fetch(a,s);if(u.status!==200&&u.status!==304){let h="";try{const f=await u.json();!((e=f.error)===null||e===void 0)&&e.message&&(h=f.error.message)}catch{}throw En.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function nN(n,e=jI,t){const{appId:r,apiKey:s,measurementId:a}=n.options;if(!r)throw En.create("no-app-id");if(!s){if(a)return{measurementId:a,appId:r};throw En.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new sN;return setTimeout(async()=>{h.abort()},Ub),BI({appId:r,apiKey:s,measurementId:a},u,h,e)}async function BI(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=jI){var a;const{appId:u,measurementId:h}=n;try{await rN(r,e)}catch(f){if(h)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw f}try{const f=await tN(n);return s.deleteThrottleMetadata(u),f}catch(f){const p=f;if(!iN(p)){if(s.deleteThrottleMetadata(u),h)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:h};throw f}const v=Number((a=p==null?void 0:p.customData)===null||a===void 0?void 0:a.httpStatus)===503?h_(t,s.intervalMillis,Xb):h_(t,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return s.setThrottleMetadata(u,w),hn.debug(`Calling attemptFetch again in ${v} millis`),BI(n,w,r,s)}}function rN(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),a=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(a),r(En.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function iN(n){if(!(n instanceof rr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class sN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function oN(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const a=await e,u=Object.assign(Object.assign({},r),{send_to:a});n("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(){if(uT())try{await cT()}catch(n){return hn.warn(En.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return hn.warn(En.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function lN(n,e,t,r,s,a,u){var h;const f=nN(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>hn.error(S)),e.push(f);const p=aN().then(S=>{if(S)return r.getId()}),[v,w]=await Promise.all([f,p]);Yb(a)||Wb(a,v.measurementId),s("js",new Date);const E=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return E[Fb]="firebase",E.update=!0,w!=null&&(E[Ob]=w),s("config",v.measurementId,E),v.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.app=e}_delete(){return delete Ul[this.app.options.appId],Promise.resolve()}}let Ul={},Rw=[];const Cw={};let cp="dataLayer",cN="gtag",xw,zI,kw=!1;function hN(){const n=[];if(lT()&&n.push("This is a browser extension environment."),lR()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=En.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function dN(n,e,t){hN();const r=n.options.appId;if(!r)throw En.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw En.create("no-api-key");if(Ul[r]!=null)throw En.create("already-exists",{id:r});if(!kw){Hb(cp);const{wrappedGtag:a,gtagCore:u}=Qb(Ul,Rw,Cw,cp,cN);zI=a,xw=u,kw=!0}return Ul[r]=lN(n,Rw,Cw,e,xw,cp,t),new uN(n)}function fN(n=ym()){n=St(n);const e=qs(n,Dh);return e.isInitialized()?e.getImmediate():pN(n)}function pN(n,e={}){const t=qs(n,Dh);if(t.isInitialized()){const s=t.getImmediate();if(Wl(e,t.getOptions()))return s;throw En.create("already-initialized")}return t.initialize({options:e})}function mN(n,e,t,r){n=St(n),oN(zI,Ul[n.app.options.appId],e,t,r).catch(s=>hn.error(s))}const Dw="@firebase/analytics",Vw="0.10.11";function gN(){Ir(new er(Dh,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return dN(r,s,t)},"PUBLIC")),Ir(new er("analytics-internal",n,"PRIVATE")),Ln(Dw,Vw),Ln(Dw,Vw,"esm2017");function n(e){try{const t=e.getProvider(Dh).getImmediate();return{logEvent:(r,s,a)=>mN(t,r,s,a)}}catch(t){throw En.create("interop-component-reg-failed",{reason:t})}}}gN();const yN={apiKey:"AIzaSyBw7Sc0S7CXQKxE_Kqan0gkKz314yjaOUc",authDomain:"greentech-753ab.firebaseapp.com",projectId:"greentech-753ab",storageBucket:"greentech-753ab.firebasestorage.app",messagingSenderId:"951343265846",appId:"1:951343265846:web:dc77812eee194f0b9a8097",measurementId:"G-Y3ZL93SR4G"},ug=pT(yN);fN(ug);const qo=yk(ug),Gi=GV(ug);function vN(){const[n,e]=O.useState(!1),[t,r]=O.useState(null),[s,a]=O.useState(!1);O.useEffect(()=>{const f=mu(Gi,p=>{p?(e(!0),r(p.email)):(e(!1),r(null))});return()=>f()},[]);const u=async()=>{try{await OD(Gi),alert("Logged out successfully!")}catch(f){console.error("Firebase logout error:",f),alert("Logout failed.")}},h=()=>{a(!s)};return M.jsx("nav",{className:"navbar",children:M.jsxs("div",{className:"navbar-container",children:[M.jsx("button",{className:"hamburger-menu",onClick:h,children:""}),M.jsxs("ul",{className:`navbar-list ${s?"open":""}`,children:[M.jsx("li",{children:M.jsx("a",{href:"./#/",children:"Home"})}),M.jsx("li",{children:M.jsx("a",{href:"./#/solar",children:"Solar Energy"})}),M.jsx("li",{children:M.jsx("a",{href:"./#/fireSafety",children:"Fire Safety"})}),M.jsx("li",{children:M.jsx("a",{href:"./#/variableDrives",children:"Variable Drives"})}),M.jsx("li",{children:M.jsx("a",{href:"./#/projectShowcase",children:"Project Showcase"})}),n?M.jsxs(M.Fragment,{children:[M.jsx("li",{children:M.jsx("span",{children:t})}),M.jsx("li",{children:M.jsx("a",{href:"./#logout",onClick:u,className:"logout-link",children:"Logout"})})]}):M.jsx("li",{children:M.jsx("a",{href:"./#/loginRegister",children:"Login"})})]})]})})}const $I=O.createContext({});function _N(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const cg=O.createContext(null),WI=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function wN(n=!0){const e=O.useContext(cg);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{n&&s(a)},[n]);const u=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const hg=typeof window<"u",EN=hg?O.useLayoutEffect:O.useEffect,Tn=n=>n;let Yp=Tn;function dg(n){let e;return()=>(e===void 0&&(e=n()),e)}const pa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Yr=n=>n*1e3,Xr=n=>n/1e3,TN={skipAnimations:!1,useManualTiming:!1};function IN(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){a.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,v=!1,w=!1)=>{const S=w&&r?e:t;return v&&a.add(p),S.has(p)||S.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(u=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(h),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const qc=["read","resolveKeyframes","update","preRender","render","postRender"],SN=40;function HI(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=qc.reduce((L,q)=>(L[q]=IN(a),L),{}),{read:h,resolveKeyframes:f,update:p,preRender:v,render:w,postRender:E}=u,S=()=>{const L=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(L-s.timestamp,SN),1),s.timestamp=L,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),v.process(s),w.process(s),E.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(S))},R=()=>{t=!0,r=!0,s.isProcessing||n(S)};return{schedule:qc.reduce((L,q)=>{const $=u[q];return L[q]=(re,ne=!1,ae=!1)=>(t||R(),$.schedule(re,ne,ae)),L},{}),cancel:L=>{for(let q=0;q<qc.length;q++)u[qc[q]].cancel(L)},state:s,steps:u}}const{schedule:Ge,cancel:Qi,state:Lt,steps:hp}=HI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0),qI=O.createContext({strict:!1}),bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ma={};for(const n in bw)ma[n]={isEnabled:e=>bw[n].some(t=>!!e[t])};function AN(n){for(const e in n)ma[e]={...ma[e],...n[e]}}const PN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||PN.has(n)}let KI=n=>!Vh(n);function RN(n){n&&(KI=e=>e.startsWith("on")?!Vh(e):n(e))}try{RN(require("@emotion/is-prop-valid").default)}catch{}function CN(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(KI(s)||t===!0&&Vh(s)||!e&&!Vh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function xN(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const cd=O.createContext({});function hd(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function eu(n){return typeof n=="string"||Array.isArray(n)}const fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pg=["initial",...fg];function dd(n){return hd(n.animate)||pg.some(e=>eu(n[e]))}function GI(n){return!!(dd(n)||n.variants)}function kN(n,e){if(dd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||eu(t)?t:void 0,animate:eu(r)?r:void 0}}return n.inherit!==!1?e:{}}function DN(n){const{initial:e,animate:t}=kN(n,O.useContext(cd));return O.useMemo(()=>({initial:e,animate:t}),[Nw(e),Nw(t)])}function Nw(n){return Array.isArray(n)?n.join(" "):n}const VN=Symbol.for("motionComponentSymbol");function Jo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function bN(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Jo(t)&&(t.current=r))},[e])}const mg=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NN="framerAppearId",QI="data-"+mg(NN),{schedule:gg,cancel:JU}=HI(queueMicrotask,!1),YI=O.createContext({});function LN(n,e,t,r,s){var a,u;const{visualElement:h}=O.useContext(cd),f=O.useContext(qI),p=O.useContext(cg),v=O.useContext(WI).reducedMotion,w=O.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:h,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const E=w.current,S=O.useContext(YI);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&MN(w.current,t,s,S);const R=O.useRef(!1);O.useInsertionEffect(()=>{E&&R.current&&E.update(t,p)});const b=t[QI],x=O.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,b)));return EN(()=>{E&&(R.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),gg.render(E.render),x.current&&E.animationState&&E.animationState.animateChanges())}),O.useEffect(()=>{E&&(!x.current&&E.animationState&&E.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)===null||L===void 0||L.call(window,b)}),x.current=!1))}),E}function MN(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:XI(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&Jo(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function XI(n){if(n)return n.options.allowProjection!==!1?n.projection:XI(n.parent)}function ON({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,u;n&&AN(n);function h(p,v){let w;const E={...O.useContext(WI),...p,layoutId:FN(p)},{isStatic:S}=E,R=DN(p),b=r(p,S);if(!S&&hg){UN();const x=jN(E);w=x.MeasureLayout,R.visualElement=LN(s,b,E,e,x.ProjectionNode)}return M.jsxs(cd.Provider,{value:R,children:[w&&R.visualElement?M.jsx(w,{visualElement:R.visualElement,...E}):null,t(s,p,bN(b,R.visualElement,v),b,S,R.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(h);return f[VN]=s,f}function FN({layoutId:n}){const e=O.useContext($I).id;return e&&n!==void 0?e+"-"+n:n}function UN(n,e){O.useContext(qI).strict}function jN(n){const{drag:e,layout:t}=ma;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const JI=n=>e=>typeof e=="string"&&e.startsWith(n),yg=JI("--"),BN=JI("var(--"),vg=n=>BN(n)?zN.test(n.split("/*")[0].trim()):!1,zN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tu={};function $N(n){for(const e in n)tu[e]=n[e],yg(e)&&(tu[e].isCSSVariable=!0)}const Sa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ys=new Set(Sa);function ZI(n,{layout:e,layoutId:t}){return Ys.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!tu[n]||n==="opacity")}const Kt=n=>!!(n&&n.getVelocity),eS=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ii=(n,e,t)=>t>e?e:t<n?n:t,Aa={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nu={...Aa,transform:n=>ii(0,1,n)},Kc={...Aa,default:1},yu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Vi=yu("deg"),Er=yu("%"),Ee=yu("px"),WN=yu("vh"),HN=yu("vw"),Lw={...Er,parse:n=>Er.parse(n)/100,transform:n=>Er.transform(n*100)},qN={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,backgroundPositionX:Ee,backgroundPositionY:Ee},KN={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Kc,scaleX:Kc,scaleY:Kc,scaleZ:Kc,skew:Vi,skewX:Vi,skewY:Vi,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:nu,originX:Lw,originY:Lw,originZ:Ee},Mw={...Aa,transform:Math.round},_g={...qN,...KN,zIndex:Mw,size:Ee,fillOpacity:nu,strokeOpacity:nu,numOctaves:Mw},GN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QN=Sa.length;function YN(n,e,t){let r="",s=!0;for(let a=0;a<QN;a++){const u=Sa[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=eS(h,_g[u]);if(!f){s=!1;const v=GN[u]||u;r+=`${v}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function wg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(Ys.has(f)){u=!0;continue}else if(yg(f)){s[f]=p;continue}else{const v=eS(p,_g[f]);f.startsWith("origin")?(h=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=YN(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${p} ${v}`}}const Eg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tS(n,e,t){for(const r in e)!Kt(e[r])&&!ZI(r,t)&&(n[r]=e[r])}function XN({transformTemplate:n},e){return O.useMemo(()=>{const t=Eg();return wg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function JN(n,e){const t=n.style||{},r={};return tS(r,t,n),Object.assign(r,XN(n,e)),r}function ZN(n,e){const t={},r=JN(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const eL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tg(n){return typeof n!="string"||n.includes("-")?!1:!!(eL.indexOf(n)>-1||/[A-Z]/u.test(n))}const tL={offset:"stroke-dashoffset",array:"stroke-dasharray"},nL={offset:"strokeDashoffset",array:"strokeDasharray"};function rL(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?tL:nL;n[a.offset]=Ee.transform(-r);const u=Ee.transform(e),h=Ee.transform(t);n[a.array]=`${u} ${h}`}function Ow(n,e,t){return typeof n=="string"?n:Ee.transform(e+t*n)}function iL(n,e,t){const r=Ow(e,n.x,n.width),s=Ow(t,n.y,n.height);return`${r} ${s}`}function Ig(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},v,w){if(wg(n,p,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:S,dimensions:R}=n;E.transform&&(R&&(S.transform=E.transform),delete E.transform),R&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=iL(R,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&rL(E,u,h,f,!1)}const nS=()=>({...Eg(),attrs:{}}),Sg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function sL(n,e,t,r){const s=O.useMemo(()=>{const a=nS();return Ig(a,e,Sg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};tS(a,n.style,n),s.style={...a,...s.style}}return s}function oL(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(Tg(t)?sL:ZN)(r,a,u,t),p=CN(r,typeof t=="string",n),v=t!==O.Fragment?{...p,...f,ref:s}:{},{children:w}=r,E=O.useMemo(()=>Kt(w)?w.get():w,[w]);return O.createElement(t,{...v,children:E})}}function Fw(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Ag(n,e,t,r){if(typeof e=="function"){const[s,a]=Fw(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=Fw(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const Xp=n=>Array.isArray(n),aL=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),lL=n=>Xp(n)?n[n.length-1]||0:n;function uh(n){const e=Kt(n)?n.get():n;return aL(e)?e.toValue():e}function uL({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const u={latestValues:cL(r,s,a,n),renderState:e()};return t&&(u.onMount=h=>t({props:r,current:h,...u}),u.onUpdate=h=>t(h)),u}const rS=n=>(e,t)=>{const r=O.useContext(cd),s=O.useContext(cg),a=()=>uL(n,e,r,s);return t?a():_N(a)};function cL(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=uh(a[E]);let{initial:u,animate:h}=n;const f=dd(n),p=GI(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?h:u;if(w&&typeof w!="boolean"&&!hd(w)){const E=Array.isArray(w)?w:[w];for(let S=0;S<E.length;S++){const R=Ag(n,E[S]);if(R){const{transitionEnd:b,transition:x,...L}=R;for(const q in L){let $=L[q];if(Array.isArray($)){const re=v?$.length-1:0;$=$[re]}$!==null&&(s[q]=$)}for(const q in b)s[q]=b[q]}}}return s}function Pg(n,e,t){var r;const{style:s}=n,a={};for(const u in s)(Kt(s[u])||e.style&&Kt(e.style[u])||ZI(u,n)||((r=t==null?void 0:t.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=s[u]);return a}const hL={useVisualState:rS({scrapeMotionValuesFromProps:Pg,createRenderState:Eg})};function iS(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function sS(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const oS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aS(n,e,t,r){sS(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(oS.has(s)?s:mg(s),e.attrs[s])}function lS(n,e,t){const r=Pg(n,e,t);for(const s in n)if(Kt(n[s])||Kt(e[s])){const a=Sa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}const Uw=["x","y","width","height","cx","cy","r"],dL={useVisualState:rS({scrapeMotionValuesFromProps:lS,createRenderState:nS,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const h in s)if(Ys.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<Uw.length;h++){const f=Uw[h];n[f]!==e[f]&&(u=!0)}u&&Ge.read(()=>{iS(t,r),Ge.render(()=>{Ig(r,s,Sg(t.tagName),n.transformTemplate),aS(t,r)})})}})};function fL(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Tg(r)?dL:hL,preloadedFeatures:n,useRender:oL(s),createVisualElement:e,Component:r};return ON(u)}}function fd(n,e,t){const r=n.getProps();return Ag(r,e,t!==void 0?t:r.custom,n)}const pL=dg(()=>window.ScrollTimeline!==void 0);class mL{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(pL()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class gL extends mL{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Rg(n,e){return n?n[e]||n.default||n:void 0}const Jp=2e4;function uS(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Jp;)e+=t,r=n.next(e);return e>=Jp?1/0:e}function Cg(n){return typeof n=="function"}function jw(n,e){n.timeline=e,n.onfinish=null}const xg=n=>Array.isArray(n)&&typeof n[0]=="number",yL={linearEasing:void 0};function vL(n,e){const t=dg(n);return()=>{var r;return(r=yL[e])!==null&&r!==void 0?r:t()}}const bh=vL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cS=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(pa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function hS(n){return!!(typeof n=="function"&&bh()||!n||typeof n=="string"&&(n in Zp||bh())||xg(n)||Array.isArray(n)&&n.every(hS))}const Dl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Zp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dl([0,.65,.55,1]),circOut:Dl([.55,0,1,.45]),backIn:Dl([.31,.01,.66,-.59]),backOut:Dl([.33,1.53,.69,.99])};function dS(n,e){if(n)return typeof n=="function"&&bh()?cS(n,e):xg(n)?Dl(n):Array.isArray(n)?n.map(t=>dS(t,e)||Zp.easeOut):Zp[n]}const Xn={x:!1,y:!1};function fS(){return Xn.x||Xn.y}function _L(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function pS(n,e){const t=_L(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function Bw(n){return!(n.pointerType==="touch"||fS())}function wL(n,e,t={}){const[r,s,a]=pS(n,t),u=h=>{if(!Bw(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const v=w=>{Bw(w)&&(p(w),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,s)};return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const mS=(n,e)=>e?n===e?!0:mS(n,e.parentElement):!1,kg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,EL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TL(n){return EL.has(n.tagName)||n.tabIndex!==-1}const Vl=new WeakSet;function zw(n){return e=>{e.key==="Enter"&&n(e)}}function dp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IL=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=zw(()=>{if(Vl.has(t))return;dp(t,"down");const s=zw(()=>{dp(t,"up")}),a=()=>dp(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function $w(n){return kg(n)&&!fS()}function SL(n,e,t={}){const[r,s,a]=pS(n,t),u=h=>{const f=h.currentTarget;if(!$w(h)||Vl.has(f))return;Vl.add(f);const p=e(f,h),v=(S,R)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),!(!$w(S)||!Vl.has(f))&&(Vl.delete(f),typeof p=="function"&&p(S,{success:R}))},w=S=>{v(S,t.useGlobalTarget||mS(f,S.target))},E=S=>{v(S,!1)};window.addEventListener("pointerup",w,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{!TL(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),h.addEventListener("focus",p=>IL(p,s),s)}),a}function AL(n){return n==="x"||n==="y"?Xn[n]?null:(Xn[n]=!0,()=>{Xn[n]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const gS=new Set(["width","height","top","left","right","bottom",...Sa]);let ch;function PL(){ch=void 0}const Tr={now:()=>(ch===void 0&&Tr.set(Lt.isProcessing||TN.useManualTiming?Lt.timestamp:performance.now()),ch),set:n=>{ch=n,queueMicrotask(PL)}};function Dg(n,e){n.indexOf(e)===-1&&n.push(e)}function Vg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class bg{constructor(){this.subscriptions=[]}add(e){return Dg(this.subscriptions,e),()=>Vg(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function yS(n,e){return e?n*(1e3/e):0}const Ww=30,RL=n=>!isNaN(parseFloat(n));class CL{constructor(e,t={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Tr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bg);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ww)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,Ww);return yS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ru(n,e){return new CL(n,e)}function xL(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,ru(t))}function kL(n,e){const t=fd(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const h=lL(a[u]);xL(n,u,h)}}function DL(n){return!!(Kt(n)&&n.add)}function em(n,e){const t=n.getValue("willChange");if(DL(t))return t.add(e)}function vS(n){return n.props[QI]}const _S=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,VL=1e-7,bL=12;function NL(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=_S(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>VL&&++h<bL);return u}function vu(n,e,t,r){if(n===e&&t===r)return Tn;const s=a=>NL(a,0,1,n,t);return a=>a===0||a===1?a:_S(s(a),e,r)}const wS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,ES=n=>e=>1-n(1-e),TS=vu(.33,1.53,.69,.99),Ng=ES(TS),IS=wS(Ng),SS=n=>(n*=2)<1?.5*Ng(n):.5*(2-Math.pow(2,-10*(n-1))),Lg=n=>1-Math.sin(Math.acos(n)),AS=ES(Lg),PS=wS(Lg),RS=n=>/^0[^.\s]+$/u.test(n);function LL(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||RS(n):!0}const jl=n=>Math.round(n*1e5)/1e5,Mg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ML(n){return n==null}const OL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Og=(n,e)=>t=>!!(typeof t=="string"&&OL.test(t)&&t.startsWith(n)||e&&!ML(t)&&Object.prototype.hasOwnProperty.call(t,e)),CS=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(Mg);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},FL=n=>ii(0,255,n),fp={...Aa,transform:n=>Math.round(FL(n))},Fs={test:Og("rgb","red"),parse:CS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+fp.transform(n)+", "+fp.transform(e)+", "+fp.transform(t)+", "+jl(nu.transform(r))+")"};function UL(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const tm={test:Og("#"),parse:UL,transform:Fs.transform},Zo={test:Og("hsl","hue"),parse:CS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Er.transform(jl(e))+", "+Er.transform(jl(t))+", "+jl(nu.transform(r))+")"},Wt={test:n=>Fs.test(n)||tm.test(n)||Zo.test(n),parse:n=>Fs.test(n)?Fs.parse(n):Zo.test(n)?Zo.parse(n):tm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fs.transform(n):Zo.transform(n)},jL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function BL(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Mg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(jL))===null||t===void 0?void 0:t.length)||0)>0}const xS="number",kS="color",zL="var",$L="var(",Hw="${}",WL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iu(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(WL,f=>(Wt.test(f)?(r.color.push(a),s.push(kS),t.push(Wt.parse(f))):f.startsWith($L)?(r.var.push(a),s.push(zL),t.push(f)):(r.number.push(a),s.push(xS),t.push(parseFloat(f))),++a,Hw)).split(Hw);return{values:t,split:h,indexes:r,types:s}}function DS(n){return iu(n).values}function VS(n){const{split:e,types:t}=iu(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=t[u];h===xS?a+=jl(s[u]):h===kS?a+=Wt.transform(s[u]):a+=s[u]}return a}}const HL=n=>typeof n=="number"?0:n;function qL(n){const e=DS(n);return VS(n)(e.map(HL))}const Yi={test:BL,parse:DS,createTransformer:VS,getAnimatableNone:qL},KL=new Set(["brightness","contrast","saturate","opacity"]);function GL(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Mg)||[];if(!r)return n;const s=t.replace(r,"");let a=KL.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const QL=/\b([a-z-]*)\(.*?\)/gu,nm={...Yi,getAnimatableNone:n=>{const e=n.match(QL);return e?e.map(GL).join(" "):n}},YL={..._g,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:nm,WebkitFilter:nm},Fg=n=>YL[n];function bS(n,e){let t=Fg(n);return t!==nm&&(t=Yi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const XL=new Set(["auto","none","0"]);function JL(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!XL.has(a)&&iu(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=bS(t,s)}const qw=n=>n===Aa||n===Ee,Kw=(n,e)=>parseFloat(n.split(", ")[e]),Gw=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Kw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Kw(a[1],n):0}},ZL=new Set(["x","y","z"]),eM=Sa.filter(n=>!ZL.has(n));function tM(n){const e=[];return eM.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ga={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:Gw(4,13),y:Gw(5,14)};ga.translateX=ga.x;ga.translateY=ga.y;const Us=new Set;let rm=!1,im=!1;function NS(){if(im){const n=Array.from(Us).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=tM(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}im=!1,rm=!1,Us.forEach(n=>n.complete()),Us.clear()}function LS(){Us.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(im=!0)})}function nM(){LS(),NS()}class Ug{constructor(e,t,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Us.add(this),rm||(rm=!0,Ge.read(LS),Ge.resolveKeyframes(NS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=s==null?void 0:s.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&u===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Us.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Us.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const MS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),rM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iM(n){const e=rM.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function OS(n,e,t=1){const[r,s]=iM(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return MS(u)?parseFloat(u):u}return vg(s)?OS(s,e,t+1):s}const FS=n=>e=>e.test(n),sM={test:n=>n==="auto",parse:n=>n},US=[Aa,Ee,Er,Vi,HN,WN,sM],Qw=n=>US.find(FS(n));class jS extends Ug{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),vg(p))){const v=OS(p,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!gS.has(r)||e.length!==2)return;const[s,a]=e,u=Qw(s),h=Qw(a);if(u!==h)if(qw(u)&&qw(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)LL(e[s])&&r.push(s);r.length&&JL(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,h=s[u];s[u]=ga[r](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const Yw=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Yi.test(n)||n==="0")&&!n.startsWith("url("));function oM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function aM(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=Yw(s,e),h=Yw(a,e);return!u||!h?!1:oM(n)||(t==="spring"||Cg(t))&&r}const lM=n=>n!==null;function pd(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(lM),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const uM=40;class BS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&nM(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!aM(e,r,s,a))if(u)this.options.duration=0;else{f&&f(pd(e,this.options,t)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nt=(n,e,t)=>n+(e-n)*t;function pp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function cM({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=pp(f,h,n+1/3),a=pp(f,h,n),u=pp(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Nh(n,e){return t=>t>0?e:n}const mp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},hM=[tm,Fs,Zo],dM=n=>hM.find(e=>e.test(n));function Xw(n){const e=dM(n);if(!e)return!1;let t=e.parse(n);return e===Zo&&(t=cM(t)),t}const Jw=(n,e)=>{const t=Xw(n),r=Xw(e);if(!t||!r)return Nh(n,e);const s={...t};return a=>(s.red=mp(t.red,r.red,a),s.green=mp(t.green,r.green,a),s.blue=mp(t.blue,r.blue,a),s.alpha=nt(t.alpha,r.alpha,a),Fs.transform(s))},fM=(n,e)=>t=>e(n(t)),_u=(...n)=>n.reduce(fM),sm=new Set(["none","hidden"]);function pM(n,e){return sm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function mM(n,e){return t=>nt(n,e,t)}function jg(n){return typeof n=="number"?mM:typeof n=="string"?vg(n)?Nh:Wt.test(n)?Jw:vM:Array.isArray(n)?zS:typeof n=="object"?Wt.test(n)?Jw:gM:Nh}function zS(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>jg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function gM(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=jg(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function yM(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=n.indexes[u][s[u]],f=(t=n.values[h])!==null&&t!==void 0?t:0;r[a]=f,s[u]++}return r}const vM=(n,e)=>{const t=Yi.createTransformer(e),r=iu(n),s=iu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?sm.has(n)&&!s.values.length||sm.has(e)&&!r.values.length?pM(n,e):_u(zS(yM(r,s),s.values),t):Nh(n,e)};function $S(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?nt(n,e,t):jg(n)(n,e)}const _M=5;function WS(n,e,t){const r=Math.max(e-_M,0);return yS(t-n(r),e-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zw=.001;function wM({duration:n=ot.duration,bounce:e=ot.bounce,velocity:t=ot.velocity,mass:r=ot.mass}){let s,a,u=1-e;u=ii(ot.minDamping,ot.maxDamping,u),n=ii(ot.minDuration,ot.maxDuration,Xr(n)),u<1?(s=p=>{const v=p*u,w=v*n,E=v-t,S=om(p,u),R=Math.exp(-w);return Zw-E/S*R},a=p=>{const w=p*u*n,E=w*t+t,S=Math.pow(u,2)*Math.pow(p,2)*n,R=Math.exp(-w),b=om(Math.pow(p,2),u);return(-s(p)+Zw>0?-1:1)*((E-S)*R)/b}):(s=p=>{const v=Math.exp(-p*n),w=(p-t)*n+1;return-.001+v*w},a=p=>{const v=Math.exp(-p*n),w=(t-p)*(n*n);return v*w});const h=5/n,f=TM(s,a,h);if(n=Yr(n),isNaN(f))return{stiffness:ot.stiffness,damping:ot.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const EM=12;function TM(n,e,t){let r=t;for(let s=1;s<EM;s++)r=r-n(r)/e(r);return r}function om(n,e){return n*Math.sqrt(1-e*e)}const IM=["duration","bounce"],SM=["stiffness","damping","mass"];function eE(n,e){return e.some(t=>n[t]!==void 0)}function AM(n){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...n};if(!eE(n,SM)&&eE(n,IM))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*ii(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ot.mass,stiffness:s,damping:a}}else{const t=wM(n);e={...e,...t,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function HS(n=ot.visualDuration,e=ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:w,velocity:E,isResolvedFromDuration:S}=AM({...t,velocity:-Xr(t.velocity||0)}),R=E||0,b=p/(2*Math.sqrt(f*v)),x=u-a,L=Xr(Math.sqrt(f/v)),q=Math.abs(x)<5;r||(r=q?ot.restSpeed.granular:ot.restSpeed.default),s||(s=q?ot.restDelta.granular:ot.restDelta.default);let $;if(b<1){const ne=om(L,b);$=ae=>{const V=Math.exp(-b*L*ae);return u-V*((R+b*L*x)/ne*Math.sin(ne*ae)+x*Math.cos(ne*ae))}}else if(b===1)$=ne=>u-Math.exp(-L*ne)*(x+(R+L*x)*ne);else{const ne=L*Math.sqrt(b*b-1);$=ae=>{const V=Math.exp(-b*L*ae),A=Math.min(ne*ae,300);return u-V*((R+b*L*x)*Math.sinh(A)+ne*x*Math.cosh(A))/ne}}const re={calculatedDuration:S&&w||null,next:ne=>{const ae=$(ne);if(S)h.done=ne>=w;else{let V=0;b<1&&(V=ne===0?Yr(R):WS($,ne,ae));const A=Math.abs(V)<=r,P=Math.abs(u-ae)<=s;h.done=A&&P}return h.value=h.done?u:ae,h},toString:()=>{const ne=Math.min(uS(re),Jp),ae=cS(V=>re.next(ne*V).value,ne,30);return ne+"ms "+ae}};return re}function tE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const w=n[0],E={done:!1,value:w},S=A=>h!==void 0&&A<h||f!==void 0&&A>f,R=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let b=t*e;const x=w+b,L=u===void 0?x:u(x);L!==x&&(b=L-w);const q=A=>-b*Math.exp(-A/r),$=A=>L+q(A),re=A=>{const P=q(A),D=$(A);E.done=Math.abs(P)<=p,E.value=E.done?L:D};let ne,ae;const V=A=>{S(E.value)&&(ne=A,ae=HS({keyframes:[E.value,R(E.value)],velocity:WS($,A,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:v}))};return V(0),{calculatedDuration:null,next:A=>{let P=!1;return!ae&&ne===void 0&&(P=!0,re(A),V(A)),ne!==void 0&&A>=ne?ae.next(A-ne):(!P&&re(A),E)}}}const PM=vu(.42,0,1,1),RM=vu(0,0,.58,1),qS=vu(.42,0,.58,1),CM=n=>Array.isArray(n)&&typeof n[0]!="number",nE={linear:Tn,easeIn:PM,easeInOut:qS,easeOut:RM,circIn:Lg,circInOut:PS,circOut:AS,backIn:Ng,backInOut:IS,backOut:TS,anticipate:SS},rE=n=>{if(xg(n)){Yp(n.length===4);const[e,t,r,s]=n;return vu(e,t,r,s)}else if(typeof n=="string")return Yp(nE[n]!==void 0),nE[n];return n};function xM(n,e,t){const r=[],s=t||$S,a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Tn:e;h=_u(f,h)}r.push(h)}return r}function kM(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(Yp(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=xM(e,r,s),f=h.length,p=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const E=pa(n[w],n[w+1],v);return h[w](E)};return t?v=>p(ii(n[0],n[a-1],v)):p}function DM(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=pa(0,e,r);n.push(nt(t,1,s))}}function VM(n){const e=[0];return DM(e,n.length-1),e}function bM(n,e){return n.map(t=>t*e)}function NM(n,e){return n.map(()=>e||qS).splice(0,n.length-1)}function Lh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=CM(r)?r.map(rE):rE(r),a={done:!1,value:e[0]},u=bM(t&&t.length===e.length?t:VM(e),n),h=kM(u,e,{ease:Array.isArray(s)?s:NM(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const LM=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ge.update(e,!0),stop:()=>Qi(e),now:()=>Lt.isProcessing?Lt.timestamp:Tr.now()}},MM={decay:tE,inertia:tE,tween:Lh,keyframes:Lh,spring:HS},OM=n=>n/100;class Bg extends BS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,u=(s==null?void 0:s.KeyframeResolver)||Ug,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,h=Cg(t)?t:MM[t]||Lh;let f,p;h!==Lh&&typeof e[0]!="number"&&(f=_u(OM,$S(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=uS(v));const{calculatedDuration:w}=v,E=w+s,S=E*(r+1)-s;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:R,repeatDelay:b,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const L=this.currentTime-E*(this.speed>=0?1:-1),q=this.speed>=0?L<0:L>v;this.currentTime=Math.max(L,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let $=this.currentTime,re=a;if(S){const A=Math.min(this.currentTime,v)/w;let P=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&P--,P=Math.min(P,S+1),!!(P%2)&&(R==="reverse"?(D=1-D,b&&(D-=b/w)):R==="mirror"&&(re=u)),$=ii(0,1,D)*w}const ne=q?{done:!1,value:f[0]}:re.next($);h&&(ne.value=h(ne.value));let{done:ae}=ne;!q&&p!==null&&(ae=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return V&&s!==void 0&&(ne.value=pd(f,this.options,s)),x&&x(ne.value),V&&this.finish(),ne}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=LM,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const FM=new Set(["opacity","clipPath","filter","transform"]);function UM(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:t};f&&(p.offset=f);const v=dS(h,s);return Array.isArray(v)&&(p.easing=v),n.animate(p,{delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const jM=dg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Mh=10,BM=2e4;function zM(n){return Cg(n.type)||n.type==="spring"||!hS(n.ease)}function $M(n,e){const t=new Bg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<BM;)r=t.sample(a),s.push(r.value),a+=Mh;return{times:void 0,keyframes:s,duration:a-Mh,ease:"linear"}}const KS={anticipate:SS,backInOut:IS,circInOut:PS};function WM(n){return n in KS}class iE extends BS{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new jS(a,(u,h)=>this.onKeyframesResolved(u,h),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&bh()&&WM(a)&&(a=KS[a]),zM(this.options)){const{onComplete:w,onUpdate:E,motionValue:S,element:R,...b}=this.options,x=$M(e,b);e=x.keyframes,e.length===1&&(e[1]=e[0]),r=x.duration,s=x.times,a=x.ease,u="keyframes"}const v=UM(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(jw(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;h.set(pd(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Xr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Xr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Tn;const{animation:r}=t;jw(r,e)}return Tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:u,times:h}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:w,element:E,...S}=this.options,R=new Bg({...S,keyframes:r,duration:s,type:a,ease:u,times:h,isGenerator:!0}),b=Yr(this.time);p.setWithVelocity(R.sample(b-Mh).value,R.sample(b).value,Mh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:u,type:h}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return jM()&&r&&FM.has(r)&&!f&&!p&&!s&&a!=="mirror"&&u!==0&&h!=="inertia"}}const HM={type:"spring",stiffness:500,damping:25,restSpeed:10},qM=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),KM={type:"keyframes",duration:.8},GM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QM=(n,{keyframes:e})=>e.length>2?KM:Ys.has(n)?n.startsWith("scale")?qM(e[1]):HM:GM;function YM({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const zg=(n,e,t,r={},s,a)=>u=>{const h=Rg(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Yr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};YM(h)||(v={...v,...QM(n,v)}),v.duration&&(v.duration=Yr(v.duration)),v.repeatDelay&&(v.repeatDelay=Yr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const E=pd(v.keyframes,h);if(E!==void 0)return Ge.update(()=>{v.onUpdate(E),v.onComplete()}),new gL([])}return!a&&iE.supports(v)?new iE(v):new Bg(v)};function XM({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function GS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:h,...f}=e;r&&(u=r);const p=[],v=s&&n.animationState&&n.animationState.getState()[s];for(const w in f){const E=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),S=f[w];if(S===void 0||v&&XM(v,w))continue;const R={delay:t,...Rg(u||{},w)};let b=!1;if(window.MotionHandoffAnimation){const L=vS(n);if(L){const q=window.MotionHandoffAnimation(L,w,Ge);q!==null&&(R.startTime=q,b=!0)}}em(n,w),E.start(zg(w,E,S,n.shouldReduceMotion&&gS.has(w)?{type:!1}:R,n,b));const x=E.animation;x&&p.push(x)}return h&&Promise.all(p).then(()=>{Ge.update(()=>{h&&kL(n,h)})}),p}function am(n,e,t={}){var r;const s=fd(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const u=s?()=>Promise.all(GS(n,s,t)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=a;return JM(n,e,v+p,w,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>v())}else return Promise.all([u(),h(t.delay)])}function JM(n,e,t=0,r=0,s=1,a){const u=[],h=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(n.variantChildren).sort(ZM).forEach((p,v)=>{p.notify("AnimationStart",e),u.push(am(p,e,{...a,delay:t+f(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function ZM(n,e){return n.sortNodePosition(e)}function eO(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>am(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=am(n,e,t);else{const s=typeof e=="function"?fd(n,e,t.custom):e;r=Promise.all(GS(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}function QS(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const tO=pg.length;function YS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?YS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<tO;t++){const r=pg[t],s=n.props[r];(eu(s)||s===!1)&&(e[r]=s)}return e}const nO=[...fg].reverse(),rO=fg.length;function iO(n){return e=>Promise.all(e.map(({animation:t,options:r})=>eO(n,t,r)))}function sO(n){let e=iO(n),t=sE(),r=!0;const s=f=>(p,v)=>{var w;const E=fd(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:S,transitionEnd:R,...b}=E;p={...p,...b,...R}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,v=YS(n.parent)||{},w=[],E=new Set;let S={},R=1/0;for(let x=0;x<rO;x++){const L=nO[x],q=t[L],$=p[L]!==void 0?p[L]:v[L],re=eu($),ne=L===f?q.isActive:null;ne===!1&&(R=x);let ae=$===v[L]&&$!==p[L]&&re;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),q.protectedKeys={...S},!q.isActive&&ne===null||!$&&!q.prevProp||hd($)||typeof $=="boolean")continue;const V=oO(q.prevProp,$);let A=V||L===f&&q.isActive&&!ae&&re||x>R&&re,P=!1;const D=Array.isArray($)?$:[$];let F=D.reduce(s(L),{});ne===!1&&(F={});const{prevResolvedValues:B={}}=q,k={...B,...F},We=le=>{A=!0,E.has(le)&&(P=!0,E.delete(le)),q.needsAnimating[le]=!0;const Q=n.getValue(le);Q&&(Q.liveStyle=!1)};for(const le in k){const Q=F[le],ce=B[le];if(S.hasOwnProperty(le))continue;let oe=!1;Xp(Q)&&Xp(ce)?oe=!QS(Q,ce):oe=Q!==ce,oe?Q!=null?We(le):E.add(le):Q!==void 0&&E.has(le)?We(le):q.protectedKeys[le]=!0}q.prevProp=$,q.prevResolvedValues=F,q.isActive&&(S={...S,...F}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(ae&&V)||P)&&w.push(...D.map(le=>({animation:le,options:{type:L}})))}if(E.size){const x={};E.forEach(L=>{const q=n.getBaseTarget(L),$=n.getValue(L);$&&($.liveStyle=!0),x[L]=q??null}),w.push({animation:x})}let b=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(w):Promise.resolve()}function h(f,p){var v;if(t[f].isActive===p)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),t[f].isActive=p;const w=u(f);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=sE(),r=!0}}}function oO(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!QS(e,n):!1}function Vs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sE(){return{animate:Vs(!0),whileInView:Vs(),whileHover:Vs(),whileTap:Vs(),whileDrag:Vs(),whileFocus:Vs(),exit:Vs()}}class ns{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aO extends ns{constructor(e){super(e),e.animationState||(e.animationState=sO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lO=0;class uO extends ns{constructor(){super(...arguments),this.id=lO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cO={animation:{Feature:aO},exit:{Feature:uO}};function su(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function wu(n){return{point:{x:n.pageX,y:n.pageY}}}const hO=n=>e=>kg(e)&&n(e,wu(e));function Bl(n,e,t,r){return su(n,e,hO(t),r)}const oE=(n,e)=>Math.abs(n-e);function dO(n,e){const t=oE(n.x,e.x),r=oE(n.y,e.y);return Math.sqrt(t**2+r**2)}class XS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=yp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=dO(w.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:R}=w,{timestamp:b}=Lt;this.history.push({...R,timestamp:b});const{onStart:x,onMove:L}=this.handlers;E||(x&&x(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=gp(E,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yp(w.type==="pointercancel"?this.lastMoveEventInfo:gp(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,x),R&&R(w,x)},!kg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=wu(e),h=gp(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Lt;this.history=[{...f,timestamp:p}];const{onSessionStart:v}=t;v&&v(e,yp(h,this.history)),this.removeListeners=_u(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qi(this.updatePoint)}}function gp(n,e){return e?{point:e(n.point)}:n}function aE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function yp({point:n},e){return{point:n,delta:aE(n,JS(e)),offset:aE(n,fO(e)),velocity:pO(e,.1)}}function fO(n){return n[0]}function JS(n){return n[n.length-1]}function pO(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=JS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Yr(e)));)t--;if(!r)return{x:0,y:0};const a=Xr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const ZS=1e-4,mO=1-ZS,gO=1+ZS,eA=.01,yO=0-eA,vO=0+eA;function Zt(n){return n.max-n.min}function _O(n,e,t){return Math.abs(n-e)<=t}function lE(n,e,t,r=.5){n.origin=r,n.originPoint=nt(e.min,e.max,n.origin),n.scale=Zt(t)/Zt(e),n.translate=nt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=mO&&n.scale<=gO||isNaN(n.scale))&&(n.scale=1),(n.translate>=yO&&n.translate<=vO||isNaN(n.translate))&&(n.translate=0)}function zl(n,e,t,r){lE(n.x,e.x,t.x,r?r.originX:void 0),lE(n.y,e.y,t.y,r?r.originY:void 0)}function uE(n,e,t){n.min=t.min+e.min,n.max=n.min+Zt(e)}function wO(n,e,t){uE(n.x,e.x,t.x),uE(n.y,e.y,t.y)}function cE(n,e,t){n.min=e.min-t.min,n.max=n.min+Zt(e)}function $l(n,e,t){cE(n.x,e.x,t.x),cE(n.y,e.y,t.y)}function EO(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?nt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?nt(t,n,r.max):Math.min(n,t)),n}function hE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function TO(n,{top:e,left:t,bottom:r,right:s}){return{x:hE(n.x,t,s),y:hE(n.y,e,r)}}function dE(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function IO(n,e){return{x:dE(n.x,e.x),y:dE(n.y,e.y)}}function SO(n,e){let t=.5;const r=Zt(n),s=Zt(e);return s>r?t=pa(e.min,e.max-r,n.min):r>s&&(t=pa(n.min,n.max-s,e.min)),ii(0,1,t)}function AO(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const lm=.35;function PO(n=lm){return n===!1?n=0:n===!0&&(n=lm),{x:fE(n,"left","right"),y:fE(n,"top","bottom")}}function fE(n,e,t){return{min:pE(n,e),max:pE(n,t)}}function pE(n,e){return typeof n=="number"?n:n[e]||0}const mE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:mE(),y:mE()}),gE=()=>({min:0,max:0}),ut=()=>({x:gE(),y:gE()});function Nn(n){return[n("x"),n("y")]}function tA({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function RO({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function CO(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function vp(n){return n===void 0||n===1}function um({scale:n,scaleX:e,scaleY:t}){return!vp(n)||!vp(e)||!vp(t)}function Ns(n){return um(n)||nA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function nA(n){return yE(n.x)||yE(n.y)}function yE(n){return n&&n!=="0%"}function Oh(n,e,t){const r=n-t,s=e*r;return t+s}function vE(n,e,t,r,s){return s!==void 0&&(n=Oh(n,s,r)),Oh(n,t,r)+e}function cm(n,e=0,t=1,r,s){n.min=vE(n.min,e,t,r,s),n.max=vE(n.max,e,t,r,s)}function rA(n,{x:e,y:t}){cm(n.x,e.translate,e.scale,e.originPoint),cm(n.y,t.translate,t.scale,t.originPoint)}const _E=.999999999999,wE=1.0000000000001;function xO(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&na(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,rA(n,u)),r&&Ns(a.latestValues)&&na(n,a.latestValues))}e.x<wE&&e.x>_E&&(e.x=1),e.y<wE&&e.y>_E&&(e.y=1)}function ta(n,e){n.min=n.min+e,n.max=n.max+e}function EE(n,e,t,r,s=.5){const a=nt(n.min,n.max,s);cm(n,e,t,a,r)}function na(n,e){EE(n.x,e.x,e.scaleX,e.scale,e.originX),EE(n.y,e.y,e.scaleY,e.scale,e.originY)}function iA(n,e){return tA(CO(n.getBoundingClientRect(),e))}function kO(n,e,t){const r=iA(n,t),{scroll:s}=e;return s&&(ta(r.x,s.offset.x),ta(r.y,s.offset.y)),r}const sA=({current:n})=>n?n.ownerDocument.defaultView:null,DO=new WeakMap;class VO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(wu(v).point)},a=(v,w)=>{const{drag:E,dragPropagation:S,onDragStart:R}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=AL(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(x=>{let L=this.getAxisMotionValue(x).get()||0;if(Er.test(L)){const{projection:q}=this.visualElement;if(q&&q.layout){const $=q.layout.layoutBox[x];$&&(L=Zt($)*(parseFloat(L)/100))}}this.originPoint[x]=L}),R&&Ge.postRender(()=>R(v,w)),em(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:R,onDrag:b}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:x}=w;if(S&&this.currentDirection===null){this.currentDirection=bO(x),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",w.point,x),this.updateAxis("y",w.point,x),this.visualElement.render(),b&&b(v,w)},h=(v,w)=>this.stop(v,w),f=()=>Nn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new XS(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:sA(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ge.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Gc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=EO(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=TO(s.layoutBox,t):this.constraints=!1,this.elastic=PO(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Nn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=AO(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Jo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=kO(r,s.root,this.visualElement.getTransformPagePoint());let u=IO(s.layout.layoutBox,a);if(t){const h=t(RO(u));this.hasMutatedConstraints=!!h,h&&(u=tA(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Nn(v=>{if(!Gc(v,t,this.currentDirection))return;let w=f[v]||{};u&&(w={min:0,max:0});const E=s?200:1e6,S=s?40:1e7,R={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return em(this.visualElement,e),r.start(zg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nn(t=>{const{drag:r}=this.getProps();if(!Gc(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-nt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Jo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=SO({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nn(u=>{if(!Gc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(nt(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;DO.set(this.visualElement,this);const e=this.visualElement.current,t=Bl(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Jo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ge.read(r);const u=su(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Nn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=lm,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function Gc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function bO(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class NO extends ns{constructor(e){super(e),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new VO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const TE=n=>(e,t)=>{n&&Ge.postRender(()=>n(e,t))};class LO extends ns{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(e){this.session=new XS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:TE(e),onStart:TE(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Ge.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IE(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Tl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Ee.test(n))n=parseFloat(n);else return n;const t=IE(n,e.target.x),r=IE(n,e.target.y);return`${t}% ${r}%`}},MO={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Yi.parse(n);if(s.length>5)return r;const a=Yi.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=nt(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class OO extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;$N(FO),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),hh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ge.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oA(n){const[e,t]=wN(),r=O.useContext($I);return M.jsx(OO,{...n,layoutGroup:r,switchLayoutGroup:O.useContext(YI),isPresent:e,safeToRemove:t})}const FO={borderRadius:{...Tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tl,borderTopRightRadius:Tl,borderBottomLeftRadius:Tl,borderBottomRightRadius:Tl,boxShadow:MO};function UO(n,e,t){const r=Kt(n)?n:ru(n);return r.start(zg("",r,e,t)),r.animation}function jO(n){return n instanceof SVGElement&&n.tagName!=="svg"}const BO=(n,e)=>n.depth-e.depth;class zO{constructor(){this.children=[],this.isDirty=!1}add(e){Dg(this.children,e),this.isDirty=!0}remove(e){Vg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(BO),this.isDirty=!1,this.children.forEach(e)}}function $O(n,e){const t=Tr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Qi(r),n(a-e))};return Ge.read(r,!0),()=>Qi(r)}const aA=["TopLeft","TopRight","BottomLeft","BottomRight"],WO=aA.length,SE=n=>typeof n=="string"?parseFloat(n):n,AE=n=>typeof n=="number"||Ee.test(n);function HO(n,e,t,r,s,a){s?(n.opacity=nt(0,t.opacity!==void 0?t.opacity:1,qO(r)),n.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,KO(r))):a&&(n.opacity=nt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<WO;u++){const h=`border${aA[u]}Radius`;let f=PE(e,h),p=PE(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||AE(f)===AE(p)?(n[h]=Math.max(nt(SE(f),SE(p),r),0),(Er.test(p)||Er.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=nt(e.rotate||0,t.rotate||0,r))}function PE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const qO=lA(0,.5,AS),KO=lA(.5,.95,Tn);function lA(n,e,t){return r=>r<n?0:r>e?1:t(pa(n,e,r))}function RE(n,e){n.min=e.min,n.max=e.max}function bn(n,e){RE(n.x,e.x),RE(n.y,e.y)}function CE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function xE(n,e,t,r,s){return n-=e,n=Oh(n,1/t,r),s!==void 0&&(n=Oh(n,1/s,r)),n}function GO(n,e=0,t=1,r=.5,s,a=n,u=n){if(Er.test(e)&&(e=parseFloat(e),e=nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=nt(a.min,a.max,r);n===a&&(h-=e),n.min=xE(n.min,e,t,h,s),n.max=xE(n.max,e,t,h,s)}function kE(n,e,[t,r,s],a,u){GO(n,e[t],e[r],e[s],e.scale,a,u)}const QO=["x","scaleX","originX"],YO=["y","scaleY","originY"];function DE(n,e,t,r){kE(n.x,e,QO,t?t.x:void 0,r?r.x:void 0),kE(n.y,e,YO,t?t.y:void 0,r?r.y:void 0)}function VE(n){return n.translate===0&&n.scale===1}function uA(n){return VE(n.x)&&VE(n.y)}function bE(n,e){return n.min===e.min&&n.max===e.max}function XO(n,e){return bE(n.x,e.x)&&bE(n.y,e.y)}function NE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function cA(n,e){return NE(n.x,e.x)&&NE(n.y,e.y)}function LE(n){return Zt(n.x)/Zt(n.y)}function ME(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class JO{constructor(){this.members=[]}add(e){Dg(this.members,e),e.scheduleRender()}remove(e){if(Vg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZO(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:v,rotateX:w,rotateY:E,skewX:S,skewY:R}=t;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bl=typeof window<"u"&&window.MotionDebug!==void 0,_p=["","X","Y","Z"],e2={visibility:"hidden"},OE=1e3;let t2=0;function wp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function hA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=vS(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ge,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&hA(r)}function dA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=t2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bl&&(Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0),this.nodes.forEach(i2),this.nodes.forEach(u2),this.nodes.forEach(c2),this.nodes.forEach(s2),bl&&window.MotionDebug.record(Ls)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new zO)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new bg),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jO(u),this.instance=u;const{layoutId:f,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),n){let w;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=$O(E,250),hh.hasAnimatedSinceResize&&(hh.hasAnimatedSinceResize=!1,this.nodes.forEach(UE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||p)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||v.getDefaultTransition()||m2,{onLayoutAnimationStart:x,onLayoutAnimationComplete:L}=v.getProps(),q=!this.targetLayout||!cA(this.targetLayout,R),$=!E&&S;if(this.options.layoutRoot||this.resumeFrom||$||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,$);const re={...Rg(b,"layout"),onPlay:x,onComplete:L};(v.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else E||UE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FE);return}this.isUpdating||this.nodes.forEach(a2),this.isUpdating=!1,this.nodes.forEach(l2),this.nodes.forEach(n2),this.nodes.forEach(r2),this.clearAllSnapshots();const h=Tr.now();Lt.delta=ii(0,1e3/60,h-Lt.timestamp),Lt.timestamp=h,Lt.isProcessing=!0,hp.update.process(Lt),hp.preRender.process(Lt),hp.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o2),this.sharedNodes.forEach(d2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!uA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&(h||Ns(this.latestValues)||v)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),g2(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return ut();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(y2))){const{scroll:v}=this.root;v&&(ta(f.x,v.offset.x),ta(f.y,v.offset.y))}return f}removeElementScroll(u){var h;const f=ut();if(bn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&bn(f,u),ta(f.x,w.offset.x),ta(f.y,w.offset.y))}return f}applyTransform(u,h=!1){const f=ut();bn(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&na(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ns(v.latestValues)&&na(f,v.latestValues)}return Ns(this.latestValues)&&na(f,this.latestValues),f}removeTransform(u){const h=ut();bn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ns(p.latestValues))continue;um(p.latestValues)&&p.updateSnapshot();const v=ut(),w=p.measurePageBox();bn(v,w),DE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ns(this.latestValues)&&DE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),$l(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),rA(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),$l(this.relativeTargetOrigin,this.target,S.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bl&&Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||um(this.parent.latestValues)||nA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(p=!1),p)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;bn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;xO(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ut());const{target:R}=h;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CE(this.prevProjectionDelta.x,this.projectionDelta.x),CE(this.prevProjectionDelta.y,this.projectionDelta.y)),zl(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!ME(this.projectionDelta.x,this.prevProjectionDelta.x)||!ME(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),bl&&Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},w=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ut(),S=f?f.source:void 0,R=this.layout?this.layout.source:void 0,b=S!==R,x=this.getStack(),L=!x||x.members.length<=1,q=!!(b&&!L&&this.options.crossfade===!0&&!this.path.some(p2));this.animationProgress=0;let $;this.mixTargetDelta=re=>{const ne=re/1e3;jE(w.x,u.x,ne),jE(w.y,u.y,ne),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f2(this.relativeTarget,this.relativeTargetOrigin,E,ne),$&&XO(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ut()),bn($,this.relativeTarget)),b&&(this.animationValues=v,HO(v,p,this.latestValues,ne,q,L)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{hh.hasAnimatedSinceResize=!0,this.currentAnimation=UO(0,OE,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&fA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ut();const w=Zt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=Zt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}bn(h,f),na(h,v),zl(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new JO),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&wp("z",u,p,this.animationValues);for(let v=0;v<_p.length;v++)wp(`rotate${_p[v]}`,u,p,this.animationValues),wp(`skew${_p[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return e2;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=uh(u==null?void 0:u.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=uh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ns(this.latestValues)&&(b.transform=v?v({},""):"none",this.hasProjected=!1),b}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),p.transform=ZO(this.projectionDeltaWithTransform,this.treeScale,E),v&&(p.transform=v(E,p.transform));const{x:S,y:R}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,w.animationValues?p.opacity=w===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const b in tu){if(E[b]===void 0)continue;const{correct:x,applyTo:L,isCSSVariable:q}=tu[b],$=p.transform==="none"?E[b]:x(E[b],w);if(L){const re=L.length;for(let ne=0;ne<re;ne++)p[L[ne]]=$}else q?this.options.visualElement.renderState.vars[b]=$:p[b]=$}return this.options.layoutId&&(p.pointerEvents=w===this?uh(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(FE),this.root.sharedNodes.clear()}}}function n2(n){n.updateLayout()}function r2(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Nn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],S=Zt(E);E.min=r[w].min,E.max=E.min+S}):fA(a,t.layoutBox,r)&&Nn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],S=Zt(r[w]);E.max=E.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+S)});const h=ea();zl(h,r,t.layoutBox);const f=ea();u?zl(f,n.applyTransform(s,!0),t.measuredBox):zl(f,r,t.layoutBox);const p=!uA(h);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:S}=w;if(E&&S){const R=ut();$l(R,t.layoutBox,E.layoutBox);const b=ut();$l(b,r,S.layoutBox),cA(R,b)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=b,n.relativeTargetOrigin=R,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function i2(n){bl&&Ls.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function s2(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function o2(n){n.clearSnapshot()}function FE(n){n.clearMeasurements()}function a2(n){n.isLayoutDirty=!1}function l2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function UE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function u2(n){n.resolveTargetDelta()}function c2(n){n.calcProjection()}function h2(n){n.resetSkewAndRotation()}function d2(n){n.removeLeadSnapshot()}function jE(n,e,t){n.translate=nt(e.translate,0,t),n.scale=nt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function BE(n,e,t,r){n.min=nt(e.min,t.min,r),n.max=nt(e.max,t.max,r)}function f2(n,e,t,r){BE(n.x,e.x,t.x,r),BE(n.y,e.y,t.y,r)}function p2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const m2={duration:.45,ease:[.4,0,.1,1]},zE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),$E=zE("applewebkit/")&&!zE("chrome/")?Math.round:Tn;function WE(n){n.min=$E(n.min),n.max=$E(n.max)}function g2(n){WE(n.x),WE(n.y)}function fA(n,e,t){return n==="position"||n==="preserve-aspect"&&!_O(LE(e),LE(t),.2)}function y2(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const v2=dA({attachResizeListener:(n,e)=>su(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ep={current:void 0},pA=dA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ep.current){const n=new v2({});n.mount(window),n.setOptions({layoutScroll:!0}),Ep.current=n}return Ep.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),_2={pan:{Feature:LO},drag:{Feature:NO,ProjectionNode:pA,MeasureLayout:oA}};function HE(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&Ge.postRender(()=>a(e,wu(e)))}class w2 extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=wL(e,(t,r)=>(HE(this.node,r,"Start"),s=>HE(this.node,s,"End"))))}unmount(){}}class E2 extends ns{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_u(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qE(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&Ge.postRender(()=>a(e,wu(e)))}class T2 extends ns{mount(){const{current:e}=this.node;e&&(this.unmount=SL(e,(t,r)=>(qE(this.node,r,"Start"),(s,{success:a})=>qE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hm=new WeakMap,Tp=new WeakMap,I2=n=>{const e=hm.get(n.target);e&&e(n)},S2=n=>{n.forEach(I2)};function A2({root:n,...e}){const t=n||document;Tp.has(t)||Tp.set(t,{});const r=Tp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(S2,{root:n,...e})),r[s]}function P2(n,e,t){const r=A2(e);return hm.set(n,t),r.observe(n),()=>{hm.delete(n),r.unobserve(n)}}const R2={some:0,all:1};class C2 extends ns{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:R2[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=p?v:w;E&&E(f)};return P2(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(x2(e,t))&&this.startObserver()}unmount(){}}function x2({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const k2={inView:{Feature:C2},tap:{Feature:T2},focus:{Feature:E2},hover:{Feature:w2}},D2={layout:{ProjectionNode:pA,MeasureLayout:oA}},dm={current:null},mA={current:!1};function V2(){if(mA.current=!0,!!hg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>dm.current=n.matches;n.addListener(e),e()}else dm.current=!1}const b2=[...US,Wt,Yi],N2=n=>b2.find(FS(n)),L2=new WeakMap;function M2(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Kt(s))n.addValue(r,s);else if(Kt(a))n.addValue(r,ru(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,ru(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const KE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class O2{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ug,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Tr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ge.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=dd(t),this.isVariantNode=GI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const S in E){const R=E[S];f[S]!==void 0&&Kt(R)&&R.set(f[S],!1)}}mount(e){this.current=e,L2.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),mA.current||V2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qi(this.notifyUpdate),Qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ys.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ma){const t=ma[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<KE.length;r++){const s=KE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=M2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=ru(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(MS(s)||RS(s))?s=parseFloat(s):!N2(s)&&Yi.test(t)&&(s=bS(e,t)),this.setBaseTarget(e,Kt(s)?s.get():s)),Kt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=Ag(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Kt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new bg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class gA extends O2{constructor(){super(...arguments),this.KeyframeResolver=jS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function F2(n){return window.getComputedStyle(n)}class U2 extends gA{constructor(){super(...arguments),this.type="html",this.renderInstance=sS}readValueFromInstance(e,t){if(Ys.has(t)){const r=Fg(t);return r&&r.default||0}else{const r=F2(e),s=(yg(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return iA(e,t)}build(e,t,r){wg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Pg(e,t,r)}}class j2 extends gA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&iS(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ys.has(t)){const r=Fg(t);return r&&r.default||0}return t=oS.has(t)?t:mg(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return lS(e,t,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ge.postRender(this.updateDimensions)}build(e,t,r){Ig(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){aS(e,t,r,s)}mount(e){this.isSVGTag=Sg(e.tagName),super.mount(e)}}const B2=(n,e)=>Tg(n)?new j2(e):new U2(e,{allowProjection:n!==O.Fragment}),z2=fL({...cO,...k2,..._2,...D2},B2),Jn=xN(z2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...h},f)=>O.createElement("svg",{ref:f,...W2,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:yA("lucide",s),...h},[...u.map(([p,v])=>O.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=(n,e)=>{const t=O.forwardRef(({className:r,...s},a)=>O.createElement(H2,{ref:a,iconNode:e,className:yA(`lucide-${$2(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],K2=rs("Clock",q2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Q2=rs("Facebook",G2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],X2=rs("Instagram",Y2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Z2=rs("Linkedin",J2);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],tF=rs("Mail",eF);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rF=rs("MapPin",nF);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],sF=rs("Phone",iF);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],aF=rs("Twitter",oF),lF=()=>{const n=new Date().getFullYear(),e={footer:{background:"linear-gradient(to bottom, #166534, #14532d)",color:"white"},container:{maxWidth:"1200px",margin:"0 auto",padding:"48px 16px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"32px"},section:{marginBottom:"24px"},heading:{fontSize:"20px",fontWeight:"bold",marginBottom:"16px"},text:{color:"#bbf7d0",fontSize:"14px",lineHeight:"1.6"},socialContainer:{display:"flex",gap:"16px",marginTop:"16px"},socialIcon:{backgroundColor:"#15803d",padding:"8px",borderRadius:"50%",cursor:"pointer",transition:"background-color 0.3s ease"},linkList:{display:"flex",flexDirection:"column",gap:"8px"},link:{color:"#bbf7d0",textDecoration:"none",transition:"color 0.3s ease"},contactItem:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},contactIcon:{color:"#4ade80"},newsletter:{marginTop:"48px",paddingTop:"32px",borderTop:"1px solid #15803d",textAlign:"center"},input:{padding:"8px 16px",borderRadius:"8px",backgroundColor:"#15803d",color:"white",border:"none",marginRight:"8px",width:"200px"},button:{padding:"8px 24px",backgroundColor:"#22c55e",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.3s ease"},copyright:{backgroundColor:"#14532d",padding:"16px",textAlign:"center"},copyrightInner:{maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"8px","@media (min-width: 768px)":{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}};return M.jsxs("footer",{style:e.footer,children:[M.jsx("div",{style:e.container,children:M.jsxs("div",{style:e.grid,children:[M.jsxs(Jn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},style:e.section,children:[M.jsx("h3",{style:e.heading,children:"Green Tech Services"}),M.jsx("p",{style:e.text,children:"Providing comprehensive building facility management and engineering solutions with the latest technology and quality equipment."}),M.jsx("div",{style:e.socialContainer,children:[Q2,aF,X2,Z2].map((t,r)=>M.jsx(Jn.div,{whileHover:{scale:1.1},style:e.socialIcon,children:M.jsx(t,{size:18})},r))})]}),M.jsxs(Jn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},style:e.section,children:[M.jsx("h3",{style:e.heading,children:"Quick Links"}),M.jsx("div",{style:e.linkList,children:["Home","About Us","Services","Projects"].map(t=>M.jsx(Jn.a,{href:"#",style:e.link,whileHover:{x:5,color:"#ffffff"},children:t},t))})]}),M.jsxs(Jn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},style:e.section,children:[M.jsx("h3",{style:e.heading,children:"Our Services"}),M.jsx("div",{style:e.linkList,children:["Fire Detection & Protection","Solar PV Systems","Variable Drives"].map(t=>M.jsx(Jn.a,{href:"#",style:e.link,whileHover:{x:5,color:"#ffffff"},children:t},t))})]}),M.jsxs(Jn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.6},style:e.section,children:[M.jsx("h3",{style:e.heading,children:"Contact Us"}),M.jsx("div",{children:[{Icon:rF,text:"346/2 Millagahawaththa ,Ganemulla, Sri Lanka"},{Icon:sF,text:"+94(0)77-7633625"},{Icon:tF,text:"info@greentech.lk"},{Icon:K2,text:"Mon - Fri: 9:00 AM - 6:00 PM"}].map((t,r)=>M.jsxs("div",{style:e.contactItem,children:[M.jsx(t.Icon,{size:18,style:e.contactIcon}),M.jsx("span",{style:e.text,children:t.text})]},r))})]})]})}),M.jsx("div",{style:e.copyright,children:M.jsxs("div",{style:e.copyrightInner,children:[M.jsxs("p",{style:e.text,children:[" ",n," Green Tech Services. All rights reserved."]}),M.jsxs("div",{style:{display:"flex",gap:"16px"},children:[M.jsx("a",{href:"#",style:e.link,children:"Privacy Policy"}),M.jsx("a",{href:"#",style:e.link,children:"Terms of Service"})]})]})})]})},uF=()=>{const[n,e]=O.useState([{image:"./images/img1.jpg",author:"Green Tech",title:"Solar Systems",topic:"Renewable Energy",description:"Innovative solar solutions designed to reduce carbon footprint and provide sustainable energy for residential and commercial applications. Our cutting-edge solar systems maximize energy efficiency and long-term cost savings."},{image:"./images/img2.jpg",author:"Green Tech",title:"Fire Equipment",topic:"Safety Solutions",description:"Comprehensive fire safety equipment including advanced fire extinguishers, detection systems, and protective gear. We ensure top-tier safety standards with state-of-the-art technology to protect lives and property."},{image:"./images/img3.jpg",author:"Green Tech",title:"Variable Drivers",topic:"Industrial Automation",description:"High-performance variable drivers for precise industrial control and energy optimization. Our advanced driver solutions provide superior efficiency, reliability, and intelligent control for complex manufacturing processes."}]),t=O.useRef(null),[r,s]=O.useState(!1),a=()=>{r||(s(!0),t.current.classList.add("next"),e(h=>{const f=[...h],p=f.shift();return f.push(p),f}),setTimeout(()=>{t.current.classList.remove("next"),s(!1)},500))},u=()=>{r||(s(!0),t.current.classList.add("prev"),e(h=>{const f=[...h],p=f.pop();return f.unshift(p),f}),setTimeout(()=>{t.current.classList.remove("prev"),s(!1)},500))};return O.useEffect(()=>{const h=setInterval(()=>{r||a()},7e3);return()=>clearInterval(h)},[r]),M.jsxs("div",{className:"carousel",ref:t,children:[M.jsx("div",{className:"list",children:n.map((h,f)=>M.jsxs("div",{className:"item",style:{zIndex:f===0?1:0},children:[M.jsx("img",{src:h.image,alt:`Slide ${f+1}`}),M.jsxs("div",{className:"content",children:[M.jsx("div",{className:"author",children:h.author}),M.jsx("div",{className:"title",children:h.title}),M.jsx("div",{className:"topic",children:h.topic}),M.jsx("div",{className:"des",children:h.description}),M.jsx("div",{className:"buttons"})]})]},f))}),M.jsx("div",{className:"thumbnail",children:n.map((h,f)=>M.jsxs("div",{className:"item",children:[M.jsx("img",{src:h.image,alt:`Thumbnail ${f+1}`}),M.jsx("div",{className:"content",children:M.jsx("div",{className:"title",children:h.title})})]},f))}),M.jsxs("div",{className:"arrows",children:[M.jsx("button",{id:"prev",onClick:u,disabled:r,children:"<"}),M.jsx("button",{id:"next",onClick:a,disabled:r,children:">"})]}),M.jsx("div",{className:"time"})]})},vA={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8}}},cF={hidden:{opacity:0,x:100},visible:{opacity:1,x:0,transition:{duration:.8}}},hF={hidden:{opacity:0,x:-100},visible:{opacity:1,x:0,transition:{duration:.8}}},dF={display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center",marginTop:"50px",padding:"50px",borderRadius:"10px"},fF={flex:"1",minWidth:"300px",textAlign:"center"},GE={flex:"1",minWidth:"300px",textAlign:"center"},pF={marginBottom:"20px",fontWeight:"1000",fontSize:"25px"},mF={fontSize:"20px"},Qc={borderTop:"3px solid #73f573"},gF={textAlign:"center",paddingTop:"100px",fontSize:"50px",fontWeight:"1000",color:"#1e8f1e",textShadow:"1px 1px 3px rgba(0,0,0,0.5)",letterSpacing:"2px"},Yc=({title:n,text:e,imgSrc:t,imagePosition:r="right"})=>{const s=r==="right"?cF:hF,a=vA,u=r==="right"?"linear-gradient(135deg, #1e8f1e,rgba(115, 245, 115, 0.25))":"linear-gradient(135deg,rgba(115, 245, 115, 0.25), #1e8f1e)";return M.jsxs("div",{style:{...dF,background:u},children:[r==="left"&&M.jsx(Jn.div,{style:GE,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:s,children:M.jsx("img",{src:t,alt:n,style:{maxWidth:"100%",height:"auto"}})}),M.jsxs(Jn.div,{style:fF,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:a,children:[M.jsx("h4",{style:pF,children:n}),M.jsx("p",{style:mF,children:e})]}),r==="right"&&M.jsx(Jn.div,{style:GE,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:s,children:M.jsx("img",{src:t,alt:n,style:{maxWidth:"100%",height:"auto"}})})]})};function yF(){return M.jsxs("div",{children:[M.jsx(uF,{}),M.jsx(Jn.p,{initial:"hidden",whileInView:"visible",transition:{duration:1,ease:"easeOut"},viewport:{once:!0},style:gF,variants:vA,children:"Welcome to Green Tech Services"}),M.jsxs("div",{style:{padding:"50px"},children:[M.jsx(Yc,{title:"Company Profile",text:"Green Tech Services is providing a comprehensive range of products & services aimed at Building Facility Management...",imgSrc:"./images/nana.gif"}),M.jsx("br",{}),M.jsx("hr",{style:Qc}),M.jsx(Yc,{title:"Company Experience and Operations",text:"As with any other company, regardless of its length of experience, the company experience is the sum total of the experience of its people at any given time...",imgSrc:"./images/6.png",imagePosition:"left"}),M.jsx("br",{}),M.jsx("hr",{style:Qc}),M.jsx(Yc,{title:"Promote your merchandise",text:"Well experienced in carrying out assignments, our personnel, as individuals, have also developed experience in a significant diversity and range of project sizes and types...",imgSrc:"./images/3.png"}),M.jsx("br",{}),M.jsx("hr",{style:Qc}),M.jsx(Yc,{title:"Design, Supply & Installation of Complete Systems",text:"The Company has the capability to design, supply, install, and commission complete systems in Fire Detection and Protection, Solar P.V, Air - Conditioning and Refrigeration...",imgSrc:"./images/fin.gif",imagePosition:"left"}),M.jsx("br",{}),M.jsx("hr",{style:Qc})]}),M.jsx("footer",{})]})}function vF(){const[n,e]=O.useState(!1),[t,r]=O.useState(null);return O.useEffect(()=>{const s=mu(Gi,a=>{a?(e(!0),r(a.email)):(e(!1),r(null))});return()=>s()},[]),M.jsxs("div",{children:[M.jsx("h1",{children:"Solar Energy Page"}),n?M.jsxs("p",{children:["Logged in, username is: ",t]}):M.jsx("p",{children:"You are not logged in."})]})}function _F(){const[n,e]=O.useState(!1),[t,r]=O.useState(null);return O.useEffect(()=>{const s=mu(Gi,a=>{a?(e(!0),r(a.email)):(e(!1),r(null))});return()=>s()},[]),M.jsxs("div",{children:[M.jsx("h1",{children:"Fire Safety Page"}),n?M.jsxs("p",{children:["Logged in, username is: ",t]}):M.jsx("p",{children:"You are not logged in."})]})}function wF(){const[n,e]=O.useState(!1),[t,r]=O.useState(null),[s,a]=O.useState([]),[u,h]=O.useState(null),[f,p]=O.useState(null),[v,w]=O.useState(!1),[E,S]=O.useState(null),[R,b]=O.useState(!1),[x,L]=O.useState(""),[q,$]=O.useState("");O.useEffect(()=>{const le=mu(Gi,Q=>{Q?(e(!0),r(Q.email)):(e(!1),r(null))});return()=>le()},[]),O.useEffect(()=>{(async()=>{try{const Q=ip(qo,"variableDrives"),oe=(await sp(Q)).docs.map(j=>({id:j.id,...j.data()}));a(oe)}catch(Q){console.error("Error fetching variable drives:",Q),L("Error loading Variable Drives.")}})()},[]);const re=async le=>{h(le),p(null),w(!1),b(!1),L(""),$("");try{const Q=rh(qo,"variableDrives",le);await sw(Q,{view_count:Mk(1)});const ce=await Vk(Q);ce.exists()?p({id:ce.id,...ce.data()}):(console.error("Variable drive details not found"),L("Variable Drive details not found."))}catch(Q){console.error("Error fetching variable drive details:",Q),L("Error loading Variable Drive details.")}},ne=()=>{h(null),w(!1),b(!1),L(""),$("")},ae=async le=>{if(window.confirm("Are you sure you want to delete this Variable Drive?"))try{const Q=rh(qo,"variableDrives",le);await bk(Q),a(s.filter(ce=>ce.id!==le)),$("Variable Drive deleted successfully."),L("")}catch(Q){console.error("Error deleting variable drive:",Q),L("Error deleting Variable Drive."),$("")}},V=le=>{S(le),w(!0),h(null),b(!1),L(""),$("")},A=()=>{w(!1),S(null),L(""),$("")},P=()=>{b(!0),h(null),w(!1),L(""),$("")},D=()=>{b(!1),L(""),$("")},F=()=>M.jsx("div",{className:"variable-drives-grid",children:s.map(le=>M.jsxs("div",{className:"drive-card",children:[M.jsx("img",{src:le.image,alt:le.name,className:"drive-image"}),M.jsx("h3",{children:le.name}),M.jsxs("p",{children:["Price: ",le.price]}),M.jsxs("div",{className:"drive-actions",children:[M.jsx("button",{onClick:()=>re(le.id),children:"View Details"}),n&&M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:()=>V(le.id),children:"Edit"}),M.jsx("button",{onClick:()=>ae(le.id),children:"Delete"})]})]})]},le.id))}),B=()=>f?M.jsxs("div",{className:"drive-details",children:[M.jsx("h2",{children:f.name}),M.jsx("img",{src:f.image,alt:f.name,className:"drive-details-image"}),M.jsxs("p",{children:[M.jsx("strong",{children:"Content:"})," ",f.content]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Price:"})," ",f.price]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Misc:"})," ",f.misc]}),M.jsx("button",{onClick:ne,children:"Back to Variable Drive List"})]}):M.jsx("div",{children:"Loading details..."}),k=()=>{const le=s.find(Q=>Q.id===E);return le?M.jsx(QE,{initialData:le,onSave:mt,onCancel:A,formType:"edit"}):M.jsx("div",{children:"Loading edit form..."})},We=()=>M.jsx(QE,{onSave:pt,onCancel:D,formType:"new"}),pt=async le=>{try{const Q=ip(qo,"variableDrives");await Nk(Q,le);const oe=(await sp(Q)).docs.map(j=>({id:j.id,...j.data()}));a(oe),b(!1),$("Variable Drive created successfully."),L("")}catch(Q){console.error("Error creating variable drive:",Q),L("Error creating Variable Drive."),$("")}},mt=async(le,Q)=>{try{const ce=rh(qo,"variableDrives",le);await sw(ce,Q);const j=(await sp(ip(qo,"variableDrives"))).docs.map(Y=>({id:Y.id,...Y.data()}));a(j),w(!1),S(null),$("Variable Drive updated successfully."),L("")}catch(ce){console.error("Error updating variable drive:",ce),L("Error updating Variable Drive."),$("")}};return M.jsxs("div",{className:"variable-drives-page",children:[M.jsx("h1",{children:"Variable Drives Page"}),n&&!R&&!v&&!u&&M.jsx("button",{onClick:P,className:"new-entry-button",children:"New Entry"}),x&&M.jsx("p",{className:"error-message",children:x}),q&&M.jsx("p",{className:"success-message",children:q}),R?We():v?k():u?B():F()]})}const QE=({initialData:n,onSave:e,onCancel:t,formType:r})=>{const[s,a]=O.useState((n==null?void 0:n.name)||""),[u,h]=O.useState((n==null?void 0:n.content)||""),[f,p]=O.useState((n==null?void 0:n.price)||""),[v,w]=O.useState((n==null?void 0:n.image)||""),[E,S]=O.useState((n==null?void 0:n.misc)||""),[R,b]=O.useState((n==null?void 0:n.image)||null),x=async q=>{q.preventDefault();const $={name:s,content:u,price:f,image:v,misc:E,view_count:(n==null?void 0:n.view_count)||0};r==="edit"?await e(n.id,$):await e($)},L=q=>{const $=q.target.files[0];if(!$)return;const re=new FileReader;re.onloadend=()=>{const ne=re.result;w(ne),b(ne)},re.readAsDataURL($)};return M.jsxs("form",{onSubmit:x,className:"drive-form",children:[M.jsx("h2",{children:r==="edit"?"Edit Variable Drive":"New Variable Drive"}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{htmlFor:"name",children:"Name:"}),M.jsx("input",{type:"text",id:"name",value:s,onChange:q=>a(q.target.value),required:!0})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{htmlFor:"content",children:"Content:"}),M.jsx("textarea",{id:"content",value:u,onChange:q=>h(q.target.value)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{htmlFor:"price",children:"Price:"}),M.jsx("input",{type:"text",id:"price",value:f,onChange:q=>p(q.target.value)})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{htmlFor:"image",children:"Image:"}),M.jsx("input",{type:"file",id:"image",accept:"image/*",onChange:L}),R&&M.jsx("img",{src:R,alt:"Preview",className:"image-preview"})]}),M.jsxs("div",{className:"form-group",children:[M.jsx("label",{htmlFor:"misc",children:"Misc:"}),M.jsx("input",{type:"text",id:"misc",value:E,onChange:q=>S(q.target.value)})]}),M.jsxs("div",{className:"form-actions",children:[M.jsx("button",{type:"submit",children:"Save"}),M.jsx("button",{type:"button",onClick:t,children:"Cancel"})]})]})};function EF(){const[n,e]=O.useState(!1),[t,r]=O.useState(null);return O.useEffect(()=>{const s=mu(Gi,a=>{a?(e(!0),r(a.email)):(e(!1),r(null))});return()=>s()},[]),M.jsxs("div",{children:[M.jsx("h1",{children:"Project Showcase Page"}),n?M.jsxs("p",{children:["Logged in, username is: ",t]}):M.jsx("p",{children:"You are not logged in."})]})}function TF(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState(!1),[u,h]=O.useState(""),f=async p=>{p.preventDefault(),h("");try{let v;s?(v=await bD(Gi,n,t),h("User registered successfully."),alert("Registration Successful! You can now log in."),a(!1)):(v=await ND(Gi,n,t),h("Login successful."),alert("Login Successful! Refresh the page to see logged in state."));const w=v.user}catch(v){console.error("Firebase Auth error:",v),h(v.message)}};return M.jsx("div",{className:"login-register-container",children:M.jsxs("div",{className:"form-wrapper",children:[M.jsx("h2",{children:s?"Register":"Login"}),M.jsxs("form",{onSubmit:f,children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",children:"Email:"}),M.jsx("input",{type:"email",id:"email",value:n,onChange:p=>e(p.target.value),required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",children:"Password:"}),M.jsx("input",{type:"password",id:"password",value:t,onChange:p=>r(p.target.value),required:!0})]}),M.jsx("button",{type:"submit",children:s?"Register":"Login"}),M.jsx("button",{type:"button",onClick:()=>a(!s),children:s?"Switch to Login":"Switch to Register"})]}),u&&M.jsx("p",{children:u})]})})}function IF(){return M.jsxs("div",{children:[M.jsx("h1",{children:"404 Not Found"}),M.jsx("p",{children:"Page not found."})]})}var Il={},YE;function SF(){if(YE)return Il;YE=1,Object.defineProperty(Il,"__esModule",{value:!0}),Il.parse=u,Il.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const R=new a,b=E.length;if(b<2)return R;const x=(S==null?void 0:S.decode)||v;let L=0;do{const q=E.indexOf("=",L);if(q===-1)break;const $=E.indexOf(";",L),re=$===-1?b:$;if(q>re){L=E.lastIndexOf(";",q-1)+1;continue}const ne=h(E,L,q),ae=f(E,q,ne),V=E.slice(ne,ae);if(R[V]===void 0){let A=h(E,q+1,re),P=f(E,re,A);const D=x(E.slice(A,P));R[V]=D}L=re+1}while(L<b);return R}function h(E,S,R){do{const b=E.charCodeAt(S);if(b!==32&&b!==9)return S}while(++S<R);return R}function f(E,S,R){for(;S>R;){const b=E.charCodeAt(--S);if(b!==32&&b!==9)return S+1}return R}function p(E,S,R){const b=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=b(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let L=E+"="+x;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!w(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return s.call(E)==="[object Date]"}return Il}SF();/**
 * react-router v7.1.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XE="popstate";function AF(n={}){function e(s,a){let{pathname:u="/",search:h="",hash:f=""}=Xs(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),fm("",{pathname:u,search:h,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let f=s.location.href,p=f.indexOf("#");h=p===-1?f:f.slice(0,p)}return h+"#"+(typeof a=="string"?a:ou(a))}function r(s,a){nr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return RF(e,t,r,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PF(){return Math.random().toString(36).substring(2,10)}function JE(n,e){return{usr:n.state,key:n.key,idx:e}}function fm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||PF()}}function ou({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function RF(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let x=v(),L=x==null?null:x-p;p=x,f&&f({action:h,location:b.location,delta:L})}function E(x,L){h="PUSH";let q=fm(b.location,x,L);t(q,x),p=v()+1;let $=JE(q,p),re=b.createHref(q);try{u.pushState($,"",re)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(re)}a&&f&&f({action:h,location:b.location,delta:1})}function S(x,L){h="REPLACE";let q=fm(b.location,x,L);t(q,x),p=v();let $=JE(q,p),re=b.createHref(q);u.replaceState($,"",re),a&&f&&f({action:h,location:b.location,delta:0})}function R(x){let L=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof x=="string"?x:ou(x);return q=q.replace(/ $/,"%20"),rt(L,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,L)}let b={get action(){return h},get location(){return n(s,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(XE,w),f=x,()=>{s.removeEventListener(XE,w),f=null}},createHref(x){return e(s,x)},createURL:R,encodeLocation(x){let L=R(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:E,replace:S,go(x){return u.go(x)}};return b}function _A(n,e,t="/"){return CF(n,e,t,!1)}function CF(n,e,t,r){let s=typeof e=="string"?Xs(e):e,a=Xi(s.pathname||"/",t);if(a==null)return null;let u=wA(n);xF(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=jF(a);h=FF(u[f],p,r)}return h}function wA(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(rt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Jr([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),wA(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:MF(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,u);else for(let f of EA(a.path))s(a,u,f)}),e}function EA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=EA(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function xF(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OF(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var kF=/^:[\w-]+$/,DF=3,VF=2,bF=1,NF=10,LF=-2,ZE=n=>n==="*";function MF(n,e){let t=n.split("/"),r=t.length;return t.some(ZE)&&(r+=LF),e&&(r+=VF),t.filter(s=>!ZE(s)).reduce((s,a)=>s+(kF.test(a)?DF:a===""?bF:NF),r)}function OF(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function FF(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&t&&!r[r.length-1].route.index&&(w=Fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Jr([a,w.pathname]),pathnameBase:WF(Jr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Jr([a,w.pathnameBase]))}return u}function Fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=UF(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let R=h[E]||"";u=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[E];return w&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function UF(n,e=!1,t=!0){nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jF(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function BF(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:zF(t,e):e,search:HF(r),hash:qF(s)}}function zF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ip(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $F(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TA(n){let e=$F(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function IA(n,e,t,r=!1){let s;typeof n=="string"?s=Xs(n):(s={...n},rt(!s.pathname||!s.pathname.includes("?"),Ip("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Ip("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Ip("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}h=w>=0?e[w]:"/"}let f=BF(s,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Jr=n=>n.join("/").replace(/\/\/+/g,"/"),WF=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HF=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,qF=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KF(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var SA=["POST","PUT","PATCH","DELETE"];new Set(SA);var GF=["GET",...SA];new Set(GF);var Pa=O.createContext(null);Pa.displayName="DataRouter";var md=O.createContext(null);md.displayName="DataRouterState";var AA=O.createContext({isTransitioning:!1});AA.displayName="ViewTransition";var QF=O.createContext(new Map);QF.displayName="Fetchers";var YF=O.createContext(null);YF.displayName="Await";var Pr=O.createContext(null);Pr.displayName="Navigation";var Eu=O.createContext(null);Eu.displayName="Location";var si=O.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var $g=O.createContext(null);$g.displayName="RouteError";function XF(n,{relative:e}={}){rt(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Pr),{hash:s,pathname:a,search:u}=Iu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Jr([t,a])),r.createHref({pathname:h,search:u,hash:s})}function Tu(){return O.useContext(Eu)!=null}function Js(){return rt(Tu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Eu).location}var PA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RA(n){O.useContext(Pr).static||O.useLayoutEffect(n)}function JF(){let{isDataRoute:n}=O.useContext(si);return n?hU():ZF()}function ZF(){rt(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(Pa),{basename:e,navigator:t}=O.useContext(Pr),{matches:r}=O.useContext(si),{pathname:s}=Js(),a=JSON.stringify(TA(r)),u=O.useRef(!1);return RA(()=>{u.current=!0}),O.useCallback((f,p={})=>{if(nr(u.current,PA),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=IA(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Jr([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,s,n])}O.createContext(null);function Iu(n,{relative:e}={}){let{matches:t}=O.useContext(si),{pathname:r}=Js(),s=JSON.stringify(TA(t));return O.useMemo(()=>IA(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function eU(n,e){return CA(n,e)}function CA(n,e,t,r){var q;rt(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=O.useContext(Pr),{matches:u}=O.useContext(si),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let $=w&&w.path||"";xA(p,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let E=Js(),S;if(e){let $=typeof e=="string"?Xs(e):e;rt(v==="/"||((q=$.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=E;let R=S.pathname||"/",b=R;if(v!=="/"){let $=v.replace(/^\//,"").split("/");b="/"+R.replace(/^\//,"").split("/").slice($.length).join("/")}let x=!a&&t&&t.matches&&t.matches.length>0?t.matches:_A(n,{pathname:b});nr(w||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),nr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=sU(x&&x.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Jr([v,s.encodeLocation?s.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Jr([v,s.encodeLocation?s.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,t,r);return e&&L?O.createElement(Eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},L):L}function tU(){let n=cU(),e=KF(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var nU=O.createElement(tU,null),rU=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(si.Provider,{value:this.props.routeContext},O.createElement($g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iU({routeContext:n,match:e,children:t}){let r=O.useContext(Pa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(si.Provider,{value:n},t)}function sU(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:w}=t,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let w,E=!1,S=null,R=null;t&&(w=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||nU,u&&(h<0&&v===0?(xA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):h===v&&(E=!0,R=p.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,v+1)),x=()=>{let L;return w?L=S:E?L=R:p.route.Component?L=O.createElement(p.route.Component,null):p.route.element?L=p.route.element:L=f,O.createElement(iU,{match:p,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:L})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?O.createElement(rU,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}function Wg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oU(n){let e=O.useContext(Pa);return rt(e,Wg(n)),e}function aU(n){let e=O.useContext(md);return rt(e,Wg(n)),e}function lU(n){let e=O.useContext(si);return rt(e,Wg(n)),e}function Hg(n){let e=lU(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uU(){return Hg("useRouteId")}function cU(){var r;let n=O.useContext($g),e=aU("useRouteError"),t=Hg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function hU(){let{router:n}=oU("useNavigate"),e=Hg("useNavigate"),t=O.useRef(!1);return RA(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{nr(t.current,PA),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var eT={};function xA(n,e,t){!e&&!eT[n]&&(eT[n]=!0,nr(!1,t))}O.memo(dU);function dU({routes:n,future:e,state:t}){return CA(n,void 0,t,e)}function bi(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fU({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){rt(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Xs(t));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=t,S=O.useMemo(()=>{let R=Xi(f,u);return R==null?null:{location:{pathname:R,search:p,hash:v,state:w,key:E},navigationType:r}},[u,f,p,v,w,E,r]);return nr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(Pr.Provider,{value:h},O.createElement(Eu.Provider,{children:e,value:S}))}function pU({children:n,location:e}){return eU(pm(n),e)}function pm(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,pm(r.props.children,a));return}rt(r.type===bi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pm(r.props.children,a)),t.push(u)}),t}var dh="get",fh="application/x-www-form-urlencoded";function gd(n){return n!=null&&typeof n.tagName=="string"}function mU(n){return gd(n)&&n.tagName.toLowerCase()==="button"}function gU(n){return gd(n)&&n.tagName.toLowerCase()==="form"}function yU(n){return gd(n)&&n.tagName.toLowerCase()==="input"}function vU(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function _U(n,e){return n.button===0&&(!e||e==="_self")&&!vU(n)}var Xc=null;function wU(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var EU=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sp(n){return n!=null&&!EU.has(n)?(nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):n}function TU(n,e){let t,r,s,a,u;if(gU(n)){let h=n.getAttribute("action");r=h?Xi(h,e):null,t=n.getAttribute("method")||dh,s=Sp(n.getAttribute("enctype"))||fh,a=new FormData(n)}else if(mU(n)||yU(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?Xi(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||dh,s=Sp(n.getAttribute("formenctype"))||Sp(h.getAttribute("enctype"))||fh,a=new FormData(h,n),!wU()){let{name:p,type:v,value:w}=n;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(gd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=dh,r=null,s=fh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function qg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function IU(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SU(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AU(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await IU(a,t);return u.links?u.links():[]}return[]}));return xU(r.flat(1).filter(SU).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function tT(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function PU(n,e){return RU(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function RU(n){return[...new Set(n)]}function CU(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xU(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(CU(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function kU(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function DU(){let n=O.useContext(Pa);return qg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function VU(){let n=O.useContext(md);return qg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kg=O.createContext(void 0);Kg.displayName="FrameworkContext";function kA(){let n=O.useContext(Kg);return qg(n,"You must render this element inside a <HydratedRouter> element"),n}function bU(n,e){let t=O.useContext(Kg),[r,s]=O.useState(!1),[a,u]=O.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let b=L=>{L.forEach(q=>{u(q.isIntersecting)})},x=new IntersectionObserver(b,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),O.useEffect(()=>{if(r){let b=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(b)}}},[r]);let S=()=>{s(!0)},R=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Sl(h,S),onBlur:Sl(f,R),onMouseEnter:Sl(p,S),onMouseLeave:Sl(v,R),onTouchStart:Sl(w,S)}]:[!1,E,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NU({page:n,...e}){let{router:t}=DU(),r=O.useMemo(()=>_A(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(MU,{page:n,matches:r,...e}):null}function LU(n){let{manifest:e,routeModules:t}=kA(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return AU(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function MU({page:n,matches:e,...t}){let r=Js(),{manifest:s,routeModules:a}=kA(),{loaderData:u,matches:h}=VU(),f=O.useMemo(()=>tT(n,e,h,s,r,"data"),[n,e,h,s,r]),p=O.useMemo(()=>tT(n,e,h,s,r,"assets"),[n,e,h,s,r]),v=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(x=>{var q;let L=s.routes[x.route.id];!L||!L.hasLoader||(!f.some($=>$.route.id===x.route.id)&&x.route.id in u&&((q=a[x.route.id])!=null&&q.shouldRevalidate)||L.hasClientLoader?R=!0:S.add(x.route.id))}),S.size===0)return[];let b=kU(n);return R&&S.size>0&&b.searchParams.set("_routes",e.filter(x=>S.has(x.route.id)).map(x=>x.route.id).join(",")),[b.pathname+b.search]},[u,r,s,f,e,n,a]),w=O.useMemo(()=>PU(p,s),[p,s]),E=LU(p);return O.createElement(O.Fragment,null,v.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),w.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),E.map(({key:S,link:R})=>O.createElement("link",{key:S,...R})))}function OU(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DA&&(window.__reactRouterVersion="7.1.4")}catch{}function FU({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=AF({window:t,v5Compat:!0}));let s=r.current,[a,u]=O.useState({action:s.action,location:s.location}),h=O.useCallback(f=>{O.startTransition(()=>u(f))},[u]);return O.useLayoutEffect(()=>s.listen(h),[s,h]),O.createElement(fU,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bA=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},S){let{basename:R}=O.useContext(Pr),b=typeof p=="string"&&VA.test(p),x,L=!1;if(typeof p=="string"&&b&&(x=p,DA))try{let P=new URL(window.location.href),D=p.startsWith("//")?new URL(P.protocol+p):new URL(p),F=Xi(D.pathname,R);D.origin===P.origin&&F!=null?p=F+D.search+D.hash:L=!0}catch{nr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=XF(p,{relative:s}),[$,re,ne]=bU(r,E),ae=zU(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:w});function V(P){e&&e(P),P.defaultPrevented||ae(P)}let A=O.createElement("a",{...E,...ne,href:x||q,onClick:L||a?e:V,ref:OU(S,re),target:f,"data-discover":!b&&t==="render"?"true":void 0});return $&&!b?O.createElement(O.Fragment,null,A,O.createElement(NU,{page:q})):A});bA.displayName="Link";var UU=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let w=Iu(u,{relative:p.relative}),E=Js(),S=O.useContext(md),{navigator:R,basename:b}=O.useContext(Pr),x=S!=null&&KU(w)&&h===!0,L=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,q=E.pathname,$=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(q=q.toLowerCase(),$=$?$.toLowerCase():null,L=L.toLowerCase()),$&&b&&($=Xi($,b)||$);const re=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ne=q===L||!s&&q.startsWith(L)&&q.charAt(re)==="/",ae=$!=null&&($===L||!s&&$.startsWith(L)&&$.charAt(L.length)==="/"),V={isActive:ne,isPending:ae,isTransitioning:x},A=ne?e:void 0,P;typeof r=="function"?P=r(V):P=[r,ne?"active":null,ae?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(V):a;return O.createElement(bA,{...p,"aria-current":A,className:P,ref:v,style:D,to:u,viewTransition:h},typeof f=="function"?f(V):f)});UU.displayName="NavLink";var jU=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=dh,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},S)=>{let R=HU(),b=qU(h,{relative:p}),x=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&VA.test(h),q=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let re=$.nativeEvent.submitter,ne=(re==null?void 0:re.getAttribute("formmethod"))||u;R(re||$.currentTarget,{fetcherKey:e,method:ne,navigate:t,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return O.createElement("form",{ref:S,method:x,action:b,onSubmit:r?f:q,...E,"data-discover":!L&&n==="render"?"true":void 0})});jU.displayName="Form";function BU(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(n){let e=O.useContext(Pa);return rt(e,BU(n)),e}function zU(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=JF(),f=Js(),p=Iu(n,{relative:a});return O.useCallback(v=>{if(_U(v,e)){v.preventDefault();let w=t!==void 0?t:ou(f)===ou(p);h(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var $U=0,WU=()=>`__${String(++$U)}__`;function HU(){let{router:n}=NA("useSubmit"),{basename:e}=O.useContext(Pr),t=uU();return O.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=TU(r,e);if(s.navigate===!1){let v=s.fetcherKey||WU();await n.fetch(v,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function qU(n,{relative:e}={}){let{basename:t}=O.useContext(Pr),r=O.useContext(si);rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Iu(n||".",{relative:e})},u=Js();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Jr([t,a.pathname])),ou(a)}function KU(n,e={}){let t=O.useContext(AA);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=NA("useViewTransitionState"),s=Iu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Xi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Xi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fh(s.pathname,u)!=null||Fh(s.pathname,a)!=null}new TextEncoder;function GU(){return M.jsxs("div",{children:[M.jsx(vN,{}),M.jsx("main",{children:M.jsxs(pU,{children:[M.jsx(bi,{path:"/",element:M.jsx(yF,{})}),M.jsx(bi,{path:"/solar",element:M.jsx(vF,{})}),M.jsx(bi,{path:"/fireSafety",element:M.jsx(_F,{})}),M.jsx(bi,{path:"/variableDrives",element:M.jsx(wF,{})}),M.jsx(bi,{path:"/projectShowcase",element:M.jsx(EF,{})}),M.jsx(bi,{path:"/loginRegister",element:M.jsx(TF,{})}),M.jsx(bi,{path:"*",element:M.jsx(IF,{})})]})}),M.jsx(lF,{})]})}HP.createRoot(document.getElementById("root")).render(M.jsx(O.StrictMode,{children:M.jsx(FU,{children:M.jsx(GU,{})})}));
